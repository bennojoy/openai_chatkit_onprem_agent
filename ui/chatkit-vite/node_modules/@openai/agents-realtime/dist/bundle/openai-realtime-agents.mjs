var ri = Object.defineProperty;
var ss = (n) => {
  throw TypeError(n);
};
var si = (n, e, t) => e in n ? ri(n, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : n[e] = t;
var _ = (n, e, t) => si(n, typeof e != "symbol" ? e + "" : e, t), tr = (n, e, t) => e.has(n) || ss("Cannot " + t);
var o = (n, e, t) => (tr(n, e, "read from private field"), t ? t.call(n) : e.get(n)), I = (n, e, t) => e.has(n) ? ss("Cannot add the same private member more than once") : e instanceof WeakSet ? e.add(n) : e.set(n, t), v = (n, e, t, r) => (tr(n, e, "write to private field"), r ? r.call(n, t) : e.set(n, t), t), $ = (n, e, t) => (tr(n, e, "access private method"), t);
const pr = {
  version: "0.1.10"
};
async function jr(n) {
  try {
    return [null, await n()];
  } catch (e) {
    return [e, null];
  }
}
function ai(n, e) {
  const t = { ...n };
  return Object.defineProperties(t, {
    $brand: {
      value: "auto-parseable-response-format",
      enumerable: !1
    },
    $parseRaw: {
      value: e,
      enumerable: !1
    }
  }), t;
}
const ii = Symbol("Let zodToJsonSchema decide on which parser to use"), as = {
  name: void 0,
  $refStrategy: "root",
  effectStrategy: "input",
  pipeStrategy: "all",
  dateStrategy: "format:date-time",
  mapStrategy: "entries",
  nullableStrategy: "from-target",
  removeAdditionalStrategy: "passthrough",
  definitionPath: "definitions",
  target: "jsonSchema7",
  strictUnions: !1,
  errorMessages: !1,
  markdownDescription: !1,
  patternStrategy: "escape",
  applyRegexFlags: !1,
  emailStrategy: "format:email",
  base64Strategy: "contentEncoding:base64",
  nameStrategy: "ref"
}, oi = (n) => typeof n == "string" ? {
  ...as,
  basePath: ["#"],
  definitions: {},
  name: n
} : {
  ...as,
  basePath: ["#"],
  definitions: {},
  ...n
}, fr = (n) => "_def" in n ? n._def : n;
function ui(n) {
  if (!n)
    return !0;
  for (const e in n)
    return !1;
  return !0;
}
const ci = (n) => {
  const e = oi(n), t = e.name !== void 0 ? [...e.basePath, e.definitionPath, e.name] : e.basePath;
  return {
    ...e,
    currentPath: t,
    propertyPath: void 0,
    seenRefs: /* @__PURE__ */ new Set(),
    seen: new Map(Object.entries(e.definitions).map(([r, s]) => [
      fr(s),
      {
        def: fr(s),
        path: [...e.basePath, e.definitionPath, r],
        // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.
        jsonSchema: void 0
      }
    ]))
  };
};
function ta(n, e, t, r) {
  r != null && r.errorMessages && t && (n.errorMessage = {
    ...n.errorMessage,
    [e]: t
  });
}
function z(n, e, t, r, s) {
  n[e] = t, ta(n, e, r, s);
}
var q;
(function(n) {
  n.assertEqual = (s) => {
  };
  function e(s) {
  }
  n.assertIs = e;
  function t(s) {
    throw new Error();
  }
  n.assertNever = t, n.arrayToEnum = (s) => {
    const a = {};
    for (const i of s)
      a[i] = i;
    return a;
  }, n.getValidEnumValues = (s) => {
    const a = n.objectKeys(s).filter((u) => typeof s[s[u]] != "number"), i = {};
    for (const u of a)
      i[u] = s[u];
    return n.objectValues(i);
  }, n.objectValues = (s) => n.objectKeys(s).map(function(a) {
    return s[a];
  }), n.objectKeys = typeof Object.keys == "function" ? (s) => Object.keys(s) : (s) => {
    const a = [];
    for (const i in s)
      Object.prototype.hasOwnProperty.call(s, i) && a.push(i);
    return a;
  }, n.find = (s, a) => {
    for (const i of s)
      if (a(i))
        return i;
  }, n.isInteger = typeof Number.isInteger == "function" ? (s) => Number.isInteger(s) : (s) => typeof s == "number" && Number.isFinite(s) && Math.floor(s) === s;
  function r(s, a = " | ") {
    return s.map((i) => typeof i == "string" ? `'${i}'` : i).join(a);
  }
  n.joinValues = r, n.jsonStringifyReplacer = (s, a) => typeof a == "bigint" ? a.toString() : a;
})(q || (q = {}));
var is;
(function(n) {
  n.mergeShapes = (e, t) => ({
    ...e,
    ...t
    // second overwrites first
  });
})(is || (is = {}));
const k = q.arrayToEnum([
  "string",
  "nan",
  "number",
  "integer",
  "float",
  "boolean",
  "date",
  "bigint",
  "symbol",
  "function",
  "undefined",
  "null",
  "array",
  "object",
  "unknown",
  "promise",
  "void",
  "never",
  "map",
  "set"
]), Ue = (n) => {
  switch (typeof n) {
    case "undefined":
      return k.undefined;
    case "string":
      return k.string;
    case "number":
      return Number.isNaN(n) ? k.nan : k.number;
    case "boolean":
      return k.boolean;
    case "function":
      return k.function;
    case "bigint":
      return k.bigint;
    case "symbol":
      return k.symbol;
    case "object":
      return Array.isArray(n) ? k.array : n === null ? k.null : n.then && typeof n.then == "function" && n.catch && typeof n.catch == "function" ? k.promise : typeof Map < "u" && n instanceof Map ? k.map : typeof Set < "u" && n instanceof Set ? k.set : typeof Date < "u" && n instanceof Date ? k.date : k.object;
    default:
      return k.unknown;
  }
}, x = q.arrayToEnum([
  "invalid_type",
  "invalid_literal",
  "custom",
  "invalid_union",
  "invalid_union_discriminator",
  "invalid_enum_value",
  "unrecognized_keys",
  "invalid_arguments",
  "invalid_return_type",
  "invalid_date",
  "invalid_string",
  "too_small",
  "too_big",
  "invalid_intersection_types",
  "not_multiple_of",
  "not_finite"
]);
class Le extends Error {
  get errors() {
    return this.issues;
  }
  constructor(e) {
    super(), this.issues = [], this.addIssue = (r) => {
      this.issues = [...this.issues, r];
    }, this.addIssues = (r = []) => {
      this.issues = [...this.issues, ...r];
    };
    const t = new.target.prototype;
    Object.setPrototypeOf ? Object.setPrototypeOf(this, t) : this.__proto__ = t, this.name = "ZodError", this.issues = e;
  }
  format(e) {
    const t = e || function(a) {
      return a.message;
    }, r = { _errors: [] }, s = (a) => {
      for (const i of a.issues)
        if (i.code === "invalid_union")
          i.unionErrors.map(s);
        else if (i.code === "invalid_return_type")
          s(i.returnTypeError);
        else if (i.code === "invalid_arguments")
          s(i.argumentsError);
        else if (i.path.length === 0)
          r._errors.push(t(i));
        else {
          let u = r, l = 0;
          for (; l < i.path.length; ) {
            const c = i.path[l];
            l === i.path.length - 1 ? (u[c] = u[c] || { _errors: [] }, u[c]._errors.push(t(i))) : u[c] = u[c] || { _errors: [] }, u = u[c], l++;
          }
        }
    };
    return s(this), r;
  }
  static assert(e) {
    if (!(e instanceof Le))
      throw new Error(`Not a ZodError: ${e}`);
  }
  toString() {
    return this.message;
  }
  get message() {
    return JSON.stringify(this.issues, q.jsonStringifyReplacer, 2);
  }
  get isEmpty() {
    return this.issues.length === 0;
  }
  flatten(e = (t) => t.message) {
    const t = {}, r = [];
    for (const s of this.issues)
      s.path.length > 0 ? (t[s.path[0]] = t[s.path[0]] || [], t[s.path[0]].push(e(s))) : r.push(e(s));
    return { formErrors: r, fieldErrors: t };
  }
  get formErrors() {
    return this.flatten();
  }
}
Le.create = (n) => new Le(n);
const hr = (n, e) => {
  let t;
  switch (n.code) {
    case x.invalid_type:
      n.received === k.undefined ? t = "Required" : t = `Expected ${n.expected}, received ${n.received}`;
      break;
    case x.invalid_literal:
      t = `Invalid literal value, expected ${JSON.stringify(n.expected, q.jsonStringifyReplacer)}`;
      break;
    case x.unrecognized_keys:
      t = `Unrecognized key(s) in object: ${q.joinValues(n.keys, ", ")}`;
      break;
    case x.invalid_union:
      t = "Invalid input";
      break;
    case x.invalid_union_discriminator:
      t = `Invalid discriminator value. Expected ${q.joinValues(n.options)}`;
      break;
    case x.invalid_enum_value:
      t = `Invalid enum value. Expected ${q.joinValues(n.options)}, received '${n.received}'`;
      break;
    case x.invalid_arguments:
      t = "Invalid function arguments";
      break;
    case x.invalid_return_type:
      t = "Invalid function return type";
      break;
    case x.invalid_date:
      t = "Invalid date";
      break;
    case x.invalid_string:
      typeof n.validation == "object" ? "includes" in n.validation ? (t = `Invalid input: must include "${n.validation.includes}"`, typeof n.validation.position == "number" && (t = `${t} at one or more positions greater than or equal to ${n.validation.position}`)) : "startsWith" in n.validation ? t = `Invalid input: must start with "${n.validation.startsWith}"` : "endsWith" in n.validation ? t = `Invalid input: must end with "${n.validation.endsWith}"` : q.assertNever(n.validation) : n.validation !== "regex" ? t = `Invalid ${n.validation}` : t = "Invalid";
      break;
    case x.too_small:
      n.type === "array" ? t = `Array must contain ${n.exact ? "exactly" : n.inclusive ? "at least" : "more than"} ${n.minimum} element(s)` : n.type === "string" ? t = `String must contain ${n.exact ? "exactly" : n.inclusive ? "at least" : "over"} ${n.minimum} character(s)` : n.type === "number" ? t = `Number must be ${n.exact ? "exactly equal to " : n.inclusive ? "greater than or equal to " : "greater than "}${n.minimum}` : n.type === "date" ? t = `Date must be ${n.exact ? "exactly equal to " : n.inclusive ? "greater than or equal to " : "greater than "}${new Date(Number(n.minimum))}` : t = "Invalid input";
      break;
    case x.too_big:
      n.type === "array" ? t = `Array must contain ${n.exact ? "exactly" : n.inclusive ? "at most" : "less than"} ${n.maximum} element(s)` : n.type === "string" ? t = `String must contain ${n.exact ? "exactly" : n.inclusive ? "at most" : "under"} ${n.maximum} character(s)` : n.type === "number" ? t = `Number must be ${n.exact ? "exactly" : n.inclusive ? "less than or equal to" : "less than"} ${n.maximum}` : n.type === "bigint" ? t = `BigInt must be ${n.exact ? "exactly" : n.inclusive ? "less than or equal to" : "less than"} ${n.maximum}` : n.type === "date" ? t = `Date must be ${n.exact ? "exactly" : n.inclusive ? "smaller than or equal to" : "smaller than"} ${new Date(Number(n.maximum))}` : t = "Invalid input";
      break;
    case x.custom:
      t = "Invalid input";
      break;
    case x.invalid_intersection_types:
      t = "Intersection results could not be merged";
      break;
    case x.not_multiple_of:
      t = `Number must be a multiple of ${n.multipleOf}`;
      break;
    case x.not_finite:
      t = "Number must be finite";
      break;
    default:
      t = e.defaultError, q.assertNever(n);
  }
  return { message: t };
};
let di = hr;
function li() {
  return di;
}
const pi = (n) => {
  const { data: e, path: t, errorMaps: r, issueData: s } = n, a = [...t, ...s.path || []], i = {
    ...s,
    path: a
  };
  if (s.message !== void 0)
    return {
      ...s,
      path: a,
      message: s.message
    };
  let u = "";
  const l = r.filter((c) => !!c).slice().reverse();
  for (const c of l)
    u = c(i, { data: e, defaultError: u }).message;
  return {
    ...s,
    path: a,
    message: u
  };
};
function T(n, e) {
  const t = li(), r = pi({
    issueData: e,
    data: n.data,
    path: n.path,
    errorMaps: [
      n.common.contextualErrorMap,
      // contextual error map is first priority
      n.schemaErrorMap,
      // then schema-bound map if available
      t,
      // then global override map
      t === hr ? void 0 : hr
      // then global default map
    ].filter((s) => !!s)
  });
  n.common.issues.push(r);
}
class ue {
  constructor() {
    this.value = "valid";
  }
  dirty() {
    this.value === "valid" && (this.value = "dirty");
  }
  abort() {
    this.value !== "aborted" && (this.value = "aborted");
  }
  static mergeArray(e, t) {
    const r = [];
    for (const s of t) {
      if (s.status === "aborted")
        return P;
      s.status === "dirty" && e.dirty(), r.push(s.value);
    }
    return { status: e.value, value: r };
  }
  static async mergeObjectAsync(e, t) {
    const r = [];
    for (const s of t) {
      const a = await s.key, i = await s.value;
      r.push({
        key: a,
        value: i
      });
    }
    return ue.mergeObjectSync(e, r);
  }
  static mergeObjectSync(e, t) {
    const r = {};
    for (const s of t) {
      const { key: a, value: i } = s;
      if (a.status === "aborted" || i.status === "aborted")
        return P;
      a.status === "dirty" && e.dirty(), i.status === "dirty" && e.dirty(), a.value !== "__proto__" && (typeof i.value < "u" || s.alwaysSet) && (r[a.value] = i.value);
    }
    return { status: e.value, value: r };
  }
}
const P = Object.freeze({
  status: "aborted"
}), Bt = (n) => ({ status: "dirty", value: n }), be = (n) => ({ status: "valid", value: n }), os = (n) => n.status === "aborted", us = (n) => n.status === "dirty", Zt = (n) => n.status === "valid", Nn = (n) => typeof Promise < "u" && n instanceof Promise;
var C;
(function(n) {
  n.errToObj = (e) => typeof e == "string" ? { message: e } : e || {}, n.toString = (e) => typeof e == "string" ? e : e == null ? void 0 : e.message;
})(C || (C = {}));
class Ee {
  constructor(e, t, r, s) {
    this._cachedPath = [], this.parent = e, this.data = t, this._path = r, this._key = s;
  }
  get path() {
    return this._cachedPath.length || (Array.isArray(this._key) ? this._cachedPath.push(...this._path, ...this._key) : this._cachedPath.push(...this._path, this._key)), this._cachedPath;
  }
}
const cs = (n, e) => {
  if (Zt(e))
    return { success: !0, data: e.value };
  if (!n.common.issues.length)
    throw new Error("Validation failed but no issues detected.");
  return {
    success: !1,
    get error() {
      if (this._error)
        return this._error;
      const t = new Le(n.common.issues);
      return this._error = t, this._error;
    }
  };
};
function M(n) {
  if (!n)
    return {};
  const { errorMap: e, invalid_type_error: t, required_error: r, description: s } = n;
  if (e && (t || r))
    throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
  return e ? { errorMap: e, description: s } : { errorMap: (i, u) => {
    const { message: l } = n;
    return i.code === "invalid_enum_value" ? { message: l ?? u.defaultError } : typeof u.data > "u" ? { message: l ?? r ?? u.defaultError } : i.code !== "invalid_type" ? { message: u.defaultError } : { message: l ?? t ?? u.defaultError };
  }, description: s };
}
class Z {
  get description() {
    return this._def.description;
  }
  _getType(e) {
    return Ue(e.data);
  }
  _getOrReturnCtx(e, t) {
    return t || {
      common: e.parent.common,
      data: e.data,
      parsedType: Ue(e.data),
      schemaErrorMap: this._def.errorMap,
      path: e.path,
      parent: e.parent
    };
  }
  _processInputParams(e) {
    return {
      status: new ue(),
      ctx: {
        common: e.parent.common,
        data: e.data,
        parsedType: Ue(e.data),
        schemaErrorMap: this._def.errorMap,
        path: e.path,
        parent: e.parent
      }
    };
  }
  _parseSync(e) {
    const t = this._parse(e);
    if (Nn(t))
      throw new Error("Synchronous parse encountered promise.");
    return t;
  }
  _parseAsync(e) {
    const t = this._parse(e);
    return Promise.resolve(t);
  }
  parse(e, t) {
    const r = this.safeParse(e, t);
    if (r.success)
      return r.data;
    throw r.error;
  }
  safeParse(e, t) {
    const r = {
      common: {
        issues: [],
        async: (t == null ? void 0 : t.async) ?? !1,
        contextualErrorMap: t == null ? void 0 : t.errorMap
      },
      path: (t == null ? void 0 : t.path) || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data: e,
      parsedType: Ue(e)
    }, s = this._parseSync({ data: e, path: r.path, parent: r });
    return cs(r, s);
  }
  "~validate"(e) {
    var r, s;
    const t = {
      common: {
        issues: [],
        async: !!this["~standard"].async
      },
      path: [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data: e,
      parsedType: Ue(e)
    };
    if (!this["~standard"].async)
      try {
        const a = this._parseSync({ data: e, path: [], parent: t });
        return Zt(a) ? {
          value: a.value
        } : {
          issues: t.common.issues
        };
      } catch (a) {
        (s = (r = a == null ? void 0 : a.message) == null ? void 0 : r.toLowerCase()) != null && s.includes("encountered") && (this["~standard"].async = !0), t.common = {
          issues: [],
          async: !0
        };
      }
    return this._parseAsync({ data: e, path: [], parent: t }).then((a) => Zt(a) ? {
      value: a.value
    } : {
      issues: t.common.issues
    });
  }
  async parseAsync(e, t) {
    const r = await this.safeParseAsync(e, t);
    if (r.success)
      return r.data;
    throw r.error;
  }
  async safeParseAsync(e, t) {
    const r = {
      common: {
        issues: [],
        contextualErrorMap: t == null ? void 0 : t.errorMap,
        async: !0
      },
      path: (t == null ? void 0 : t.path) || [],
      schemaErrorMap: this._def.errorMap,
      parent: null,
      data: e,
      parsedType: Ue(e)
    }, s = this._parse({ data: e, path: r.path, parent: r }), a = await (Nn(s) ? s : Promise.resolve(s));
    return cs(r, a);
  }
  refine(e, t) {
    const r = (s) => typeof t == "string" || typeof t > "u" ? { message: t } : typeof t == "function" ? t(s) : t;
    return this._refinement((s, a) => {
      const i = e(s), u = () => a.addIssue({
        code: x.custom,
        ...r(s)
      });
      return typeof Promise < "u" && i instanceof Promise ? i.then((l) => l ? !0 : (u(), !1)) : i ? !0 : (u(), !1);
    });
  }
  refinement(e, t) {
    return this._refinement((r, s) => e(r) ? !0 : (s.addIssue(typeof t == "function" ? t(r, s) : t), !1));
  }
  _refinement(e) {
    return new mt({
      schema: this,
      typeName: S.ZodEffects,
      effect: { type: "refinement", refinement: e }
    });
  }
  superRefine(e) {
    return this._refinement(e);
  }
  constructor(e) {
    this.spa = this.safeParseAsync, this._def = e, this.parse = this.parse.bind(this), this.safeParse = this.safeParse.bind(this), this.parseAsync = this.parseAsync.bind(this), this.safeParseAsync = this.safeParseAsync.bind(this), this.spa = this.spa.bind(this), this.refine = this.refine.bind(this), this.refinement = this.refinement.bind(this), this.superRefine = this.superRefine.bind(this), this.optional = this.optional.bind(this), this.nullable = this.nullable.bind(this), this.nullish = this.nullish.bind(this), this.array = this.array.bind(this), this.promise = this.promise.bind(this), this.or = this.or.bind(this), this.and = this.and.bind(this), this.transform = this.transform.bind(this), this.brand = this.brand.bind(this), this.default = this.default.bind(this), this.catch = this.catch.bind(this), this.describe = this.describe.bind(this), this.pipe = this.pipe.bind(this), this.readonly = this.readonly.bind(this), this.isNullable = this.isNullable.bind(this), this.isOptional = this.isOptional.bind(this), this["~standard"] = {
      version: 1,
      vendor: "zod",
      validate: (t) => this["~validate"](t)
    };
  }
  optional() {
    return Fe.create(this, this._def);
  }
  nullable() {
    return gt.create(this, this._def);
  }
  nullish() {
    return this.nullable().optional();
  }
  array() {
    return Ce.create(this);
  }
  promise() {
    return Ln.create(this, this._def);
  }
  or(e) {
    return Pn.create([this, e], this._def);
  }
  and(e) {
    return Mn.create(this, e, this._def);
  }
  transform(e) {
    return new mt({
      ...M(this._def),
      schema: this,
      typeName: S.ZodEffects,
      effect: { type: "transform", transform: e }
    });
  }
  default(e) {
    const t = typeof e == "function" ? e : () => e;
    return new Zn({
      ...M(this._def),
      innerType: this,
      defaultValue: t,
      typeName: S.ZodDefault
    });
  }
  brand() {
    return new aa({
      typeName: S.ZodBranded,
      type: this,
      ...M(this._def)
    });
  }
  catch(e) {
    const t = typeof e == "function" ? e : () => e;
    return new Un({
      ...M(this._def),
      innerType: this,
      catchValue: t,
      typeName: S.ZodCatch
    });
  }
  describe(e) {
    const t = this.constructor;
    return new t({
      ...this._def,
      description: e
    });
  }
  pipe(e) {
    return Fr.create(this, e);
  }
  readonly() {
    return qn.create(this);
  }
  isOptional() {
    return this.safeParse(void 0).success;
  }
  isNullable() {
    return this.safeParse(null).success;
  }
}
const fi = /^c[^\s-]{8,}$/i, hi = /^[0-9a-z]+$/, mi = /^[0-9A-HJKMNP-TV-Z]{26}$/i, gi = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i, _i = /^[a-z0-9_-]{21}$/i, yi = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/, vi = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/, wi = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i, bi = "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";
let nr;
const xi = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/, Si = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/, Ii = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/, Ti = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/, ki = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/, Ai = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/, na = "((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))", Ci = new RegExp(`^${na}$`);
function ra(n) {
  let e = "[0-5]\\d";
  n.precision ? e = `${e}\\.\\d{${n.precision}}` : n.precision == null && (e = `${e}(\\.\\d+)?`);
  const t = n.precision ? "+" : "?";
  return `([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`;
}
function Ei(n) {
  return new RegExp(`^${ra(n)}$`);
}
function Oi(n) {
  let e = `${na}T${ra(n)}`;
  const t = [];
  return t.push(n.local ? "Z?" : "Z"), n.offset && t.push("([+-]\\d{2}:?\\d{2})"), e = `${e}(${t.join("|")})`, new RegExp(`^${e}$`);
}
function Ri(n, e) {
  return !!((e === "v4" || !e) && xi.test(n) || (e === "v6" || !e) && Ii.test(n));
}
function Ni(n, e) {
  if (!yi.test(n))
    return !1;
  try {
    const [t] = n.split("."), r = t.replace(/-/g, "+").replace(/_/g, "/").padEnd(t.length + (4 - t.length % 4) % 4, "="), s = JSON.parse(atob(r));
    return !(typeof s != "object" || s === null || "typ" in s && (s == null ? void 0 : s.typ) !== "JWT" || !s.alg || e && s.alg !== e);
  } catch {
    return !1;
  }
}
function Di(n, e) {
  return !!((e === "v4" || !e) && Si.test(n) || (e === "v6" || !e) && Ti.test(n));
}
class $e extends Z {
  _parse(e) {
    if (this._def.coerce && (e.data = String(e.data)), this._getType(e) !== k.string) {
      const a = this._getOrReturnCtx(e);
      return T(a, {
        code: x.invalid_type,
        expected: k.string,
        received: a.parsedType
      }), P;
    }
    const r = new ue();
    let s;
    for (const a of this._def.checks)
      if (a.kind === "min")
        e.data.length < a.value && (s = this._getOrReturnCtx(e, s), T(s, {
          code: x.too_small,
          minimum: a.value,
          type: "string",
          inclusive: !0,
          exact: !1,
          message: a.message
        }), r.dirty());
      else if (a.kind === "max")
        e.data.length > a.value && (s = this._getOrReturnCtx(e, s), T(s, {
          code: x.too_big,
          maximum: a.value,
          type: "string",
          inclusive: !0,
          exact: !1,
          message: a.message
        }), r.dirty());
      else if (a.kind === "length") {
        const i = e.data.length > a.value, u = e.data.length < a.value;
        (i || u) && (s = this._getOrReturnCtx(e, s), i ? T(s, {
          code: x.too_big,
          maximum: a.value,
          type: "string",
          inclusive: !0,
          exact: !0,
          message: a.message
        }) : u && T(s, {
          code: x.too_small,
          minimum: a.value,
          type: "string",
          inclusive: !0,
          exact: !0,
          message: a.message
        }), r.dirty());
      } else if (a.kind === "email")
        wi.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
          validation: "email",
          code: x.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "emoji")
        nr || (nr = new RegExp(bi, "u")), nr.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
          validation: "emoji",
          code: x.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "uuid")
        gi.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
          validation: "uuid",
          code: x.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "nanoid")
        _i.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
          validation: "nanoid",
          code: x.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "cuid")
        fi.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
          validation: "cuid",
          code: x.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "cuid2")
        hi.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
          validation: "cuid2",
          code: x.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "ulid")
        mi.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
          validation: "ulid",
          code: x.invalid_string,
          message: a.message
        }), r.dirty());
      else if (a.kind === "url")
        try {
          new URL(e.data);
        } catch {
          s = this._getOrReturnCtx(e, s), T(s, {
            validation: "url",
            code: x.invalid_string,
            message: a.message
          }), r.dirty();
        }
      else a.kind === "regex" ? (a.regex.lastIndex = 0, a.regex.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
        validation: "regex",
        code: x.invalid_string,
        message: a.message
      }), r.dirty())) : a.kind === "trim" ? e.data = e.data.trim() : a.kind === "includes" ? e.data.includes(a.value, a.position) || (s = this._getOrReturnCtx(e, s), T(s, {
        code: x.invalid_string,
        validation: { includes: a.value, position: a.position },
        message: a.message
      }), r.dirty()) : a.kind === "toLowerCase" ? e.data = e.data.toLowerCase() : a.kind === "toUpperCase" ? e.data = e.data.toUpperCase() : a.kind === "startsWith" ? e.data.startsWith(a.value) || (s = this._getOrReturnCtx(e, s), T(s, {
        code: x.invalid_string,
        validation: { startsWith: a.value },
        message: a.message
      }), r.dirty()) : a.kind === "endsWith" ? e.data.endsWith(a.value) || (s = this._getOrReturnCtx(e, s), T(s, {
        code: x.invalid_string,
        validation: { endsWith: a.value },
        message: a.message
      }), r.dirty()) : a.kind === "datetime" ? Oi(a).test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
        code: x.invalid_string,
        validation: "datetime",
        message: a.message
      }), r.dirty()) : a.kind === "date" ? Ci.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
        code: x.invalid_string,
        validation: "date",
        message: a.message
      }), r.dirty()) : a.kind === "time" ? Ei(a).test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
        code: x.invalid_string,
        validation: "time",
        message: a.message
      }), r.dirty()) : a.kind === "duration" ? vi.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
        validation: "duration",
        code: x.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "ip" ? Ri(e.data, a.version) || (s = this._getOrReturnCtx(e, s), T(s, {
        validation: "ip",
        code: x.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "jwt" ? Ni(e.data, a.alg) || (s = this._getOrReturnCtx(e, s), T(s, {
        validation: "jwt",
        code: x.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "cidr" ? Di(e.data, a.version) || (s = this._getOrReturnCtx(e, s), T(s, {
        validation: "cidr",
        code: x.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "base64" ? ki.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
        validation: "base64",
        code: x.invalid_string,
        message: a.message
      }), r.dirty()) : a.kind === "base64url" ? Ai.test(e.data) || (s = this._getOrReturnCtx(e, s), T(s, {
        validation: "base64url",
        code: x.invalid_string,
        message: a.message
      }), r.dirty()) : q.assertNever(a);
    return { status: r.value, value: e.data };
  }
  _regex(e, t, r) {
    return this.refinement((s) => e.test(s), {
      validation: t,
      code: x.invalid_string,
      ...C.errToObj(r)
    });
  }
  _addCheck(e) {
    return new $e({
      ...this._def,
      checks: [...this._def.checks, e]
    });
  }
  email(e) {
    return this._addCheck({ kind: "email", ...C.errToObj(e) });
  }
  url(e) {
    return this._addCheck({ kind: "url", ...C.errToObj(e) });
  }
  emoji(e) {
    return this._addCheck({ kind: "emoji", ...C.errToObj(e) });
  }
  uuid(e) {
    return this._addCheck({ kind: "uuid", ...C.errToObj(e) });
  }
  nanoid(e) {
    return this._addCheck({ kind: "nanoid", ...C.errToObj(e) });
  }
  cuid(e) {
    return this._addCheck({ kind: "cuid", ...C.errToObj(e) });
  }
  cuid2(e) {
    return this._addCheck({ kind: "cuid2", ...C.errToObj(e) });
  }
  ulid(e) {
    return this._addCheck({ kind: "ulid", ...C.errToObj(e) });
  }
  base64(e) {
    return this._addCheck({ kind: "base64", ...C.errToObj(e) });
  }
  base64url(e) {
    return this._addCheck({
      kind: "base64url",
      ...C.errToObj(e)
    });
  }
  jwt(e) {
    return this._addCheck({ kind: "jwt", ...C.errToObj(e) });
  }
  ip(e) {
    return this._addCheck({ kind: "ip", ...C.errToObj(e) });
  }
  cidr(e) {
    return this._addCheck({ kind: "cidr", ...C.errToObj(e) });
  }
  datetime(e) {
    return typeof e == "string" ? this._addCheck({
      kind: "datetime",
      precision: null,
      offset: !1,
      local: !1,
      message: e
    }) : this._addCheck({
      kind: "datetime",
      precision: typeof (e == null ? void 0 : e.precision) > "u" ? null : e == null ? void 0 : e.precision,
      offset: (e == null ? void 0 : e.offset) ?? !1,
      local: (e == null ? void 0 : e.local) ?? !1,
      ...C.errToObj(e == null ? void 0 : e.message)
    });
  }
  date(e) {
    return this._addCheck({ kind: "date", message: e });
  }
  time(e) {
    return typeof e == "string" ? this._addCheck({
      kind: "time",
      precision: null,
      message: e
    }) : this._addCheck({
      kind: "time",
      precision: typeof (e == null ? void 0 : e.precision) > "u" ? null : e == null ? void 0 : e.precision,
      ...C.errToObj(e == null ? void 0 : e.message)
    });
  }
  duration(e) {
    return this._addCheck({ kind: "duration", ...C.errToObj(e) });
  }
  regex(e, t) {
    return this._addCheck({
      kind: "regex",
      regex: e,
      ...C.errToObj(t)
    });
  }
  includes(e, t) {
    return this._addCheck({
      kind: "includes",
      value: e,
      position: t == null ? void 0 : t.position,
      ...C.errToObj(t == null ? void 0 : t.message)
    });
  }
  startsWith(e, t) {
    return this._addCheck({
      kind: "startsWith",
      value: e,
      ...C.errToObj(t)
    });
  }
  endsWith(e, t) {
    return this._addCheck({
      kind: "endsWith",
      value: e,
      ...C.errToObj(t)
    });
  }
  min(e, t) {
    return this._addCheck({
      kind: "min",
      value: e,
      ...C.errToObj(t)
    });
  }
  max(e, t) {
    return this._addCheck({
      kind: "max",
      value: e,
      ...C.errToObj(t)
    });
  }
  length(e, t) {
    return this._addCheck({
      kind: "length",
      value: e,
      ...C.errToObj(t)
    });
  }
  /**
   * Equivalent to `.min(1)`
   */
  nonempty(e) {
    return this.min(1, C.errToObj(e));
  }
  trim() {
    return new $e({
      ...this._def,
      checks: [...this._def.checks, { kind: "trim" }]
    });
  }
  toLowerCase() {
    return new $e({
      ...this._def,
      checks: [...this._def.checks, { kind: "toLowerCase" }]
    });
  }
  toUpperCase() {
    return new $e({
      ...this._def,
      checks: [...this._def.checks, { kind: "toUpperCase" }]
    });
  }
  get isDatetime() {
    return !!this._def.checks.find((e) => e.kind === "datetime");
  }
  get isDate() {
    return !!this._def.checks.find((e) => e.kind === "date");
  }
  get isTime() {
    return !!this._def.checks.find((e) => e.kind === "time");
  }
  get isDuration() {
    return !!this._def.checks.find((e) => e.kind === "duration");
  }
  get isEmail() {
    return !!this._def.checks.find((e) => e.kind === "email");
  }
  get isURL() {
    return !!this._def.checks.find((e) => e.kind === "url");
  }
  get isEmoji() {
    return !!this._def.checks.find((e) => e.kind === "emoji");
  }
  get isUUID() {
    return !!this._def.checks.find((e) => e.kind === "uuid");
  }
  get isNANOID() {
    return !!this._def.checks.find((e) => e.kind === "nanoid");
  }
  get isCUID() {
    return !!this._def.checks.find((e) => e.kind === "cuid");
  }
  get isCUID2() {
    return !!this._def.checks.find((e) => e.kind === "cuid2");
  }
  get isULID() {
    return !!this._def.checks.find((e) => e.kind === "ulid");
  }
  get isIP() {
    return !!this._def.checks.find((e) => e.kind === "ip");
  }
  get isCIDR() {
    return !!this._def.checks.find((e) => e.kind === "cidr");
  }
  get isBase64() {
    return !!this._def.checks.find((e) => e.kind === "base64");
  }
  get isBase64url() {
    return !!this._def.checks.find((e) => e.kind === "base64url");
  }
  get minLength() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "min" && (e === null || t.value > e) && (e = t.value);
    return e;
  }
  get maxLength() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "max" && (e === null || t.value < e) && (e = t.value);
    return e;
  }
}
$e.create = (n) => new $e({
  checks: [],
  typeName: S.ZodString,
  coerce: (n == null ? void 0 : n.coerce) ?? !1,
  ...M(n)
});
function Pi(n, e) {
  const t = (n.toString().split(".")[1] || "").length, r = (e.toString().split(".")[1] || "").length, s = t > r ? t : r, a = Number.parseInt(n.toFixed(s).replace(".", "")), i = Number.parseInt(e.toFixed(s).replace(".", ""));
  return a % i / 10 ** s;
}
class Ut extends Z {
  constructor() {
    super(...arguments), this.min = this.gte, this.max = this.lte, this.step = this.multipleOf;
  }
  _parse(e) {
    if (this._def.coerce && (e.data = Number(e.data)), this._getType(e) !== k.number) {
      const a = this._getOrReturnCtx(e);
      return T(a, {
        code: x.invalid_type,
        expected: k.number,
        received: a.parsedType
      }), P;
    }
    let r;
    const s = new ue();
    for (const a of this._def.checks)
      a.kind === "int" ? q.isInteger(e.data) || (r = this._getOrReturnCtx(e, r), T(r, {
        code: x.invalid_type,
        expected: "integer",
        received: "float",
        message: a.message
      }), s.dirty()) : a.kind === "min" ? (a.inclusive ? e.data < a.value : e.data <= a.value) && (r = this._getOrReturnCtx(e, r), T(r, {
        code: x.too_small,
        minimum: a.value,
        type: "number",
        inclusive: a.inclusive,
        exact: !1,
        message: a.message
      }), s.dirty()) : a.kind === "max" ? (a.inclusive ? e.data > a.value : e.data >= a.value) && (r = this._getOrReturnCtx(e, r), T(r, {
        code: x.too_big,
        maximum: a.value,
        type: "number",
        inclusive: a.inclusive,
        exact: !1,
        message: a.message
      }), s.dirty()) : a.kind === "multipleOf" ? Pi(e.data, a.value) !== 0 && (r = this._getOrReturnCtx(e, r), T(r, {
        code: x.not_multiple_of,
        multipleOf: a.value,
        message: a.message
      }), s.dirty()) : a.kind === "finite" ? Number.isFinite(e.data) || (r = this._getOrReturnCtx(e, r), T(r, {
        code: x.not_finite,
        message: a.message
      }), s.dirty()) : q.assertNever(a);
    return { status: s.value, value: e.data };
  }
  gte(e, t) {
    return this.setLimit("min", e, !0, C.toString(t));
  }
  gt(e, t) {
    return this.setLimit("min", e, !1, C.toString(t));
  }
  lte(e, t) {
    return this.setLimit("max", e, !0, C.toString(t));
  }
  lt(e, t) {
    return this.setLimit("max", e, !1, C.toString(t));
  }
  setLimit(e, t, r, s) {
    return new Ut({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind: e,
          value: t,
          inclusive: r,
          message: C.toString(s)
        }
      ]
    });
  }
  _addCheck(e) {
    return new Ut({
      ...this._def,
      checks: [...this._def.checks, e]
    });
  }
  int(e) {
    return this._addCheck({
      kind: "int",
      message: C.toString(e)
    });
  }
  positive(e) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: !1,
      message: C.toString(e)
    });
  }
  negative(e) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: !1,
      message: C.toString(e)
    });
  }
  nonpositive(e) {
    return this._addCheck({
      kind: "max",
      value: 0,
      inclusive: !0,
      message: C.toString(e)
    });
  }
  nonnegative(e) {
    return this._addCheck({
      kind: "min",
      value: 0,
      inclusive: !0,
      message: C.toString(e)
    });
  }
  multipleOf(e, t) {
    return this._addCheck({
      kind: "multipleOf",
      value: e,
      message: C.toString(t)
    });
  }
  finite(e) {
    return this._addCheck({
      kind: "finite",
      message: C.toString(e)
    });
  }
  safe(e) {
    return this._addCheck({
      kind: "min",
      inclusive: !0,
      value: Number.MIN_SAFE_INTEGER,
      message: C.toString(e)
    })._addCheck({
      kind: "max",
      inclusive: !0,
      value: Number.MAX_SAFE_INTEGER,
      message: C.toString(e)
    });
  }
  get minValue() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "min" && (e === null || t.value > e) && (e = t.value);
    return e;
  }
  get maxValue() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "max" && (e === null || t.value < e) && (e = t.value);
    return e;
  }
  get isInt() {
    return !!this._def.checks.find((e) => e.kind === "int" || e.kind === "multipleOf" && q.isInteger(e.value));
  }
  get isFinite() {
    let e = null, t = null;
    for (const r of this._def.checks) {
      if (r.kind === "finite" || r.kind === "int" || r.kind === "multipleOf")
        return !0;
      r.kind === "min" ? (t === null || r.value > t) && (t = r.value) : r.kind === "max" && (e === null || r.value < e) && (e = r.value);
    }
    return Number.isFinite(t) && Number.isFinite(e);
  }
}
Ut.create = (n) => new Ut({
  checks: [],
  typeName: S.ZodNumber,
  coerce: (n == null ? void 0 : n.coerce) || !1,
  ...M(n)
});
class zt extends Z {
  constructor() {
    super(...arguments), this.min = this.gte, this.max = this.lte;
  }
  _parse(e) {
    if (this._def.coerce)
      try {
        e.data = BigInt(e.data);
      } catch {
        return this._getInvalidInput(e);
      }
    if (this._getType(e) !== k.bigint)
      return this._getInvalidInput(e);
    let r;
    const s = new ue();
    for (const a of this._def.checks)
      a.kind === "min" ? (a.inclusive ? e.data < a.value : e.data <= a.value) && (r = this._getOrReturnCtx(e, r), T(r, {
        code: x.too_small,
        type: "bigint",
        minimum: a.value,
        inclusive: a.inclusive,
        message: a.message
      }), s.dirty()) : a.kind === "max" ? (a.inclusive ? e.data > a.value : e.data >= a.value) && (r = this._getOrReturnCtx(e, r), T(r, {
        code: x.too_big,
        type: "bigint",
        maximum: a.value,
        inclusive: a.inclusive,
        message: a.message
      }), s.dirty()) : a.kind === "multipleOf" ? e.data % a.value !== BigInt(0) && (r = this._getOrReturnCtx(e, r), T(r, {
        code: x.not_multiple_of,
        multipleOf: a.value,
        message: a.message
      }), s.dirty()) : q.assertNever(a);
    return { status: s.value, value: e.data };
  }
  _getInvalidInput(e) {
    const t = this._getOrReturnCtx(e);
    return T(t, {
      code: x.invalid_type,
      expected: k.bigint,
      received: t.parsedType
    }), P;
  }
  gte(e, t) {
    return this.setLimit("min", e, !0, C.toString(t));
  }
  gt(e, t) {
    return this.setLimit("min", e, !1, C.toString(t));
  }
  lte(e, t) {
    return this.setLimit("max", e, !0, C.toString(t));
  }
  lt(e, t) {
    return this.setLimit("max", e, !1, C.toString(t));
  }
  setLimit(e, t, r, s) {
    return new zt({
      ...this._def,
      checks: [
        ...this._def.checks,
        {
          kind: e,
          value: t,
          inclusive: r,
          message: C.toString(s)
        }
      ]
    });
  }
  _addCheck(e) {
    return new zt({
      ...this._def,
      checks: [...this._def.checks, e]
    });
  }
  positive(e) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: !1,
      message: C.toString(e)
    });
  }
  negative(e) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: !1,
      message: C.toString(e)
    });
  }
  nonpositive(e) {
    return this._addCheck({
      kind: "max",
      value: BigInt(0),
      inclusive: !0,
      message: C.toString(e)
    });
  }
  nonnegative(e) {
    return this._addCheck({
      kind: "min",
      value: BigInt(0),
      inclusive: !0,
      message: C.toString(e)
    });
  }
  multipleOf(e, t) {
    return this._addCheck({
      kind: "multipleOf",
      value: e,
      message: C.toString(t)
    });
  }
  get minValue() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "min" && (e === null || t.value > e) && (e = t.value);
    return e;
  }
  get maxValue() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "max" && (e === null || t.value < e) && (e = t.value);
    return e;
  }
}
zt.create = (n) => new zt({
  checks: [],
  typeName: S.ZodBigInt,
  coerce: (n == null ? void 0 : n.coerce) ?? !1,
  ...M(n)
});
class mr extends Z {
  _parse(e) {
    if (this._def.coerce && (e.data = !!e.data), this._getType(e) !== k.boolean) {
      const r = this._getOrReturnCtx(e);
      return T(r, {
        code: x.invalid_type,
        expected: k.boolean,
        received: r.parsedType
      }), P;
    }
    return be(e.data);
  }
}
mr.create = (n) => new mr({
  typeName: S.ZodBoolean,
  coerce: (n == null ? void 0 : n.coerce) || !1,
  ...M(n)
});
class Dn extends Z {
  _parse(e) {
    if (this._def.coerce && (e.data = new Date(e.data)), this._getType(e) !== k.date) {
      const a = this._getOrReturnCtx(e);
      return T(a, {
        code: x.invalid_type,
        expected: k.date,
        received: a.parsedType
      }), P;
    }
    if (Number.isNaN(e.data.getTime())) {
      const a = this._getOrReturnCtx(e);
      return T(a, {
        code: x.invalid_date
      }), P;
    }
    const r = new ue();
    let s;
    for (const a of this._def.checks)
      a.kind === "min" ? e.data.getTime() < a.value && (s = this._getOrReturnCtx(e, s), T(s, {
        code: x.too_small,
        message: a.message,
        inclusive: !0,
        exact: !1,
        minimum: a.value,
        type: "date"
      }), r.dirty()) : a.kind === "max" ? e.data.getTime() > a.value && (s = this._getOrReturnCtx(e, s), T(s, {
        code: x.too_big,
        message: a.message,
        inclusive: !0,
        exact: !1,
        maximum: a.value,
        type: "date"
      }), r.dirty()) : q.assertNever(a);
    return {
      status: r.value,
      value: new Date(e.data.getTime())
    };
  }
  _addCheck(e) {
    return new Dn({
      ...this._def,
      checks: [...this._def.checks, e]
    });
  }
  min(e, t) {
    return this._addCheck({
      kind: "min",
      value: e.getTime(),
      message: C.toString(t)
    });
  }
  max(e, t) {
    return this._addCheck({
      kind: "max",
      value: e.getTime(),
      message: C.toString(t)
    });
  }
  get minDate() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "min" && (e === null || t.value > e) && (e = t.value);
    return e != null ? new Date(e) : null;
  }
  get maxDate() {
    let e = null;
    for (const t of this._def.checks)
      t.kind === "max" && (e === null || t.value < e) && (e = t.value);
    return e != null ? new Date(e) : null;
  }
}
Dn.create = (n) => new Dn({
  checks: [],
  coerce: (n == null ? void 0 : n.coerce) || !1,
  typeName: S.ZodDate,
  ...M(n)
});
class ds extends Z {
  _parse(e) {
    if (this._getType(e) !== k.symbol) {
      const r = this._getOrReturnCtx(e);
      return T(r, {
        code: x.invalid_type,
        expected: k.symbol,
        received: r.parsedType
      }), P;
    }
    return be(e.data);
  }
}
ds.create = (n) => new ds({
  typeName: S.ZodSymbol,
  ...M(n)
});
class gr extends Z {
  _parse(e) {
    if (this._getType(e) !== k.undefined) {
      const r = this._getOrReturnCtx(e);
      return T(r, {
        code: x.invalid_type,
        expected: k.undefined,
        received: r.parsedType
      }), P;
    }
    return be(e.data);
  }
}
gr.create = (n) => new gr({
  typeName: S.ZodUndefined,
  ...M(n)
});
class _r extends Z {
  _parse(e) {
    if (this._getType(e) !== k.null) {
      const r = this._getOrReturnCtx(e);
      return T(r, {
        code: x.invalid_type,
        expected: k.null,
        received: r.parsedType
      }), P;
    }
    return be(e.data);
  }
}
_r.create = (n) => new _r({
  typeName: S.ZodNull,
  ...M(n)
});
class yr extends Z {
  constructor() {
    super(...arguments), this._any = !0;
  }
  _parse(e) {
    return be(e.data);
  }
}
yr.create = (n) => new yr({
  typeName: S.ZodAny,
  ...M(n)
});
class ls extends Z {
  constructor() {
    super(...arguments), this._unknown = !0;
  }
  _parse(e) {
    return be(e.data);
  }
}
ls.create = (n) => new ls({
  typeName: S.ZodUnknown,
  ...M(n)
});
class We extends Z {
  _parse(e) {
    const t = this._getOrReturnCtx(e);
    return T(t, {
      code: x.invalid_type,
      expected: k.never,
      received: t.parsedType
    }), P;
  }
}
We.create = (n) => new We({
  typeName: S.ZodNever,
  ...M(n)
});
class ps extends Z {
  _parse(e) {
    if (this._getType(e) !== k.undefined) {
      const r = this._getOrReturnCtx(e);
      return T(r, {
        code: x.invalid_type,
        expected: k.void,
        received: r.parsedType
      }), P;
    }
    return be(e.data);
  }
}
ps.create = (n) => new ps({
  typeName: S.ZodVoid,
  ...M(n)
});
class Ce extends Z {
  _parse(e) {
    const { ctx: t, status: r } = this._processInputParams(e), s = this._def;
    if (t.parsedType !== k.array)
      return T(t, {
        code: x.invalid_type,
        expected: k.array,
        received: t.parsedType
      }), P;
    if (s.exactLength !== null) {
      const i = t.data.length > s.exactLength.value, u = t.data.length < s.exactLength.value;
      (i || u) && (T(t, {
        code: i ? x.too_big : x.too_small,
        minimum: u ? s.exactLength.value : void 0,
        maximum: i ? s.exactLength.value : void 0,
        type: "array",
        inclusive: !0,
        exact: !0,
        message: s.exactLength.message
      }), r.dirty());
    }
    if (s.minLength !== null && t.data.length < s.minLength.value && (T(t, {
      code: x.too_small,
      minimum: s.minLength.value,
      type: "array",
      inclusive: !0,
      exact: !1,
      message: s.minLength.message
    }), r.dirty()), s.maxLength !== null && t.data.length > s.maxLength.value && (T(t, {
      code: x.too_big,
      maximum: s.maxLength.value,
      type: "array",
      inclusive: !0,
      exact: !1,
      message: s.maxLength.message
    }), r.dirty()), t.common.async)
      return Promise.all([...t.data].map((i, u) => s.type._parseAsync(new Ee(t, i, t.path, u)))).then((i) => ue.mergeArray(r, i));
    const a = [...t.data].map((i, u) => s.type._parseSync(new Ee(t, i, t.path, u)));
    return ue.mergeArray(r, a);
  }
  get element() {
    return this._def.type;
  }
  min(e, t) {
    return new Ce({
      ...this._def,
      minLength: { value: e, message: C.toString(t) }
    });
  }
  max(e, t) {
    return new Ce({
      ...this._def,
      maxLength: { value: e, message: C.toString(t) }
    });
  }
  length(e, t) {
    return new Ce({
      ...this._def,
      exactLength: { value: e, message: C.toString(t) }
    });
  }
  nonempty(e) {
    return this.min(1, e);
  }
}
Ce.create = (n, e) => new Ce({
  type: n,
  minLength: null,
  maxLength: null,
  exactLength: null,
  typeName: S.ZodArray,
  ...M(e)
});
function bt(n) {
  if (n instanceof Q) {
    const e = {};
    for (const t in n.shape) {
      const r = n.shape[t];
      e[t] = Fe.create(bt(r));
    }
    return new Q({
      ...n._def,
      shape: () => e
    });
  } else return n instanceof Ce ? new Ce({
    ...n._def,
    type: bt(n.element)
  }) : n instanceof Fe ? Fe.create(bt(n.unwrap())) : n instanceof gt ? gt.create(bt(n.unwrap())) : n instanceof ft ? ft.create(n.items.map((e) => bt(e))) : n;
}
class Q extends Z {
  constructor() {
    super(...arguments), this._cached = null, this.nonstrict = this.passthrough, this.augment = this.extend;
  }
  _getCached() {
    if (this._cached !== null)
      return this._cached;
    const e = this._def.shape(), t = q.objectKeys(e);
    return this._cached = { shape: e, keys: t }, this._cached;
  }
  _parse(e) {
    if (this._getType(e) !== k.object) {
      const c = this._getOrReturnCtx(e);
      return T(c, {
        code: x.invalid_type,
        expected: k.object,
        received: c.parsedType
      }), P;
    }
    const { status: r, ctx: s } = this._processInputParams(e), { shape: a, keys: i } = this._getCached(), u = [];
    if (!(this._def.catchall instanceof We && this._def.unknownKeys === "strip"))
      for (const c in s.data)
        i.includes(c) || u.push(c);
    const l = [];
    for (const c of i) {
      const p = a[c], f = s.data[c];
      l.push({
        key: { status: "valid", value: c },
        value: p._parse(new Ee(s, f, s.path, c)),
        alwaysSet: c in s.data
      });
    }
    if (this._def.catchall instanceof We) {
      const c = this._def.unknownKeys;
      if (c === "passthrough")
        for (const p of u)
          l.push({
            key: { status: "valid", value: p },
            value: { status: "valid", value: s.data[p] }
          });
      else if (c === "strict")
        u.length > 0 && (T(s, {
          code: x.unrecognized_keys,
          keys: u
        }), r.dirty());
      else if (c !== "strip") throw new Error("Internal ZodObject error: invalid unknownKeys value.");
    } else {
      const c = this._def.catchall;
      for (const p of u) {
        const f = s.data[p];
        l.push({
          key: { status: "valid", value: p },
          value: c._parse(
            new Ee(s, f, s.path, p)
            //, ctx.child(key), value, getParsedType(value)
          ),
          alwaysSet: p in s.data
        });
      }
    }
    return s.common.async ? Promise.resolve().then(async () => {
      const c = [];
      for (const p of l) {
        const f = await p.key, h = await p.value;
        c.push({
          key: f,
          value: h,
          alwaysSet: p.alwaysSet
        });
      }
      return c;
    }).then((c) => ue.mergeObjectSync(r, c)) : ue.mergeObjectSync(r, l);
  }
  get shape() {
    return this._def.shape();
  }
  strict(e) {
    return C.errToObj, new Q({
      ...this._def,
      unknownKeys: "strict",
      ...e !== void 0 ? {
        errorMap: (t, r) => {
          var a, i;
          const s = ((i = (a = this._def).errorMap) == null ? void 0 : i.call(a, t, r).message) ?? r.defaultError;
          return t.code === "unrecognized_keys" ? {
            message: C.errToObj(e).message ?? s
          } : {
            message: s
          };
        }
      } : {}
    });
  }
  strip() {
    return new Q({
      ...this._def,
      unknownKeys: "strip"
    });
  }
  passthrough() {
    return new Q({
      ...this._def,
      unknownKeys: "passthrough"
    });
  }
  // const AugmentFactory =
  //   <Def extends ZodObjectDef>(def: Def) =>
  //   <Augmentation extends ZodRawShape>(
  //     augmentation: Augmentation
  //   ): ZodObject<
  //     extendShape<ReturnType<Def["shape"]>, Augmentation>,
  //     Def["unknownKeys"],
  //     Def["catchall"]
  //   > => {
  //     return new ZodObject({
  //       ...def,
  //       shape: () => ({
  //         ...def.shape(),
  //         ...augmentation,
  //       }),
  //     }) as any;
  //   };
  extend(e) {
    return new Q({
      ...this._def,
      shape: () => ({
        ...this._def.shape(),
        ...e
      })
    });
  }
  /**
   * Prior to zod@1.0.12 there was a bug in the
   * inferred type of merged objects. Please
   * upgrade if you are experiencing issues.
   */
  merge(e) {
    return new Q({
      unknownKeys: e._def.unknownKeys,
      catchall: e._def.catchall,
      shape: () => ({
        ...this._def.shape(),
        ...e._def.shape()
      }),
      typeName: S.ZodObject
    });
  }
  // merge<
  //   Incoming extends AnyZodObject,
  //   Augmentation extends Incoming["shape"],
  //   NewOutput extends {
  //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation
  //       ? Augmentation[k]["_output"]
  //       : k extends keyof Output
  //       ? Output[k]
  //       : never;
  //   },
  //   NewInput extends {
  //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation
  //       ? Augmentation[k]["_input"]
  //       : k extends keyof Input
  //       ? Input[k]
  //       : never;
  //   }
  // >(
  //   merging: Incoming
  // ): ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"],
  //   NewOutput,
  //   NewInput
  // > {
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  setKey(e, t) {
    return this.augment({ [e]: t });
  }
  // merge<Incoming extends AnyZodObject>(
  //   merging: Incoming
  // ): //ZodObject<T & Incoming["_shape"], UnknownKeys, Catchall> = (merging) => {
  // ZodObject<
  //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
  //   Incoming["_def"]["unknownKeys"],
  //   Incoming["_def"]["catchall"]
  // > {
  //   // const mergedShape = objectUtil.mergeShapes(
  //   //   this._def.shape(),
  //   //   merging._def.shape()
  //   // );
  //   const merged: any = new ZodObject({
  //     unknownKeys: merging._def.unknownKeys,
  //     catchall: merging._def.catchall,
  //     shape: () =>
  //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
  //     typeName: ZodFirstPartyTypeKind.ZodObject,
  //   }) as any;
  //   return merged;
  // }
  catchall(e) {
    return new Q({
      ...this._def,
      catchall: e
    });
  }
  pick(e) {
    const t = {};
    for (const r of q.objectKeys(e))
      e[r] && this.shape[r] && (t[r] = this.shape[r]);
    return new Q({
      ...this._def,
      shape: () => t
    });
  }
  omit(e) {
    const t = {};
    for (const r of q.objectKeys(this.shape))
      e[r] || (t[r] = this.shape[r]);
    return new Q({
      ...this._def,
      shape: () => t
    });
  }
  /**
   * @deprecated
   */
  deepPartial() {
    return bt(this);
  }
  partial(e) {
    const t = {};
    for (const r of q.objectKeys(this.shape)) {
      const s = this.shape[r];
      e && !e[r] ? t[r] = s : t[r] = s.optional();
    }
    return new Q({
      ...this._def,
      shape: () => t
    });
  }
  required(e) {
    const t = {};
    for (const r of q.objectKeys(this.shape))
      if (e && !e[r])
        t[r] = this.shape[r];
      else {
        let a = this.shape[r];
        for (; a instanceof Fe; )
          a = a._def.innerType;
        t[r] = a;
      }
    return new Q({
      ...this._def,
      shape: () => t
    });
  }
  keyof() {
    return sa(q.objectKeys(this.shape));
  }
}
Q.create = (n, e) => new Q({
  shape: () => n,
  unknownKeys: "strip",
  catchall: We.create(),
  typeName: S.ZodObject,
  ...M(e)
});
Q.strictCreate = (n, e) => new Q({
  shape: () => n,
  unknownKeys: "strict",
  catchall: We.create(),
  typeName: S.ZodObject,
  ...M(e)
});
Q.lazycreate = (n, e) => new Q({
  shape: n,
  unknownKeys: "strip",
  catchall: We.create(),
  typeName: S.ZodObject,
  ...M(e)
});
class Pn extends Z {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e), r = this._def.options;
    function s(a) {
      for (const u of a)
        if (u.result.status === "valid")
          return u.result;
      for (const u of a)
        if (u.result.status === "dirty")
          return t.common.issues.push(...u.ctx.common.issues), u.result;
      const i = a.map((u) => new Le(u.ctx.common.issues));
      return T(t, {
        code: x.invalid_union,
        unionErrors: i
      }), P;
    }
    if (t.common.async)
      return Promise.all(r.map(async (a) => {
        const i = {
          ...t,
          common: {
            ...t.common,
            issues: []
          },
          parent: null
        };
        return {
          result: await a._parseAsync({
            data: t.data,
            path: t.path,
            parent: i
          }),
          ctx: i
        };
      })).then(s);
    {
      let a;
      const i = [];
      for (const l of r) {
        const c = {
          ...t,
          common: {
            ...t.common,
            issues: []
          },
          parent: null
        }, p = l._parseSync({
          data: t.data,
          path: t.path,
          parent: c
        });
        if (p.status === "valid")
          return p;
        p.status === "dirty" && !a && (a = { result: p, ctx: c }), c.common.issues.length && i.push(c.common.issues);
      }
      if (a)
        return t.common.issues.push(...a.ctx.common.issues), a.result;
      const u = i.map((l) => new Le(l));
      return T(t, {
        code: x.invalid_union,
        unionErrors: u
      }), P;
    }
  }
  get options() {
    return this._def.options;
  }
}
Pn.create = (n, e) => new Pn({
  options: n,
  typeName: S.ZodUnion,
  ...M(e)
});
const Ne = (n) => n instanceof $n ? Ne(n.schema) : n instanceof mt ? Ne(n.innerType()) : n instanceof Fn ? [n.value] : n instanceof ht ? n.options : n instanceof wr ? q.objectValues(n.enum) : n instanceof Zn ? Ne(n._def.innerType) : n instanceof gr ? [void 0] : n instanceof _r ? [null] : n instanceof Fe ? [void 0, ...Ne(n.unwrap())] : n instanceof gt ? [null, ...Ne(n.unwrap())] : n instanceof aa || n instanceof qn ? Ne(n.unwrap()) : n instanceof Un ? Ne(n._def.innerType) : [];
class $r extends Z {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e);
    if (t.parsedType !== k.object)
      return T(t, {
        code: x.invalid_type,
        expected: k.object,
        received: t.parsedType
      }), P;
    const r = this.discriminator, s = t.data[r], a = this.optionsMap.get(s);
    return a ? t.common.async ? a._parseAsync({
      data: t.data,
      path: t.path,
      parent: t
    }) : a._parseSync({
      data: t.data,
      path: t.path,
      parent: t
    }) : (T(t, {
      code: x.invalid_union_discriminator,
      options: Array.from(this.optionsMap.keys()),
      path: [r]
    }), P);
  }
  get discriminator() {
    return this._def.discriminator;
  }
  get options() {
    return this._def.options;
  }
  get optionsMap() {
    return this._def.optionsMap;
  }
  /**
   * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.
   * However, it only allows a union of objects, all of which need to share a discriminator property. This property must
   * have a different value for each object in the union.
   * @param discriminator the name of the discriminator property
   * @param types an array of object schemas
   * @param params
   */
  static create(e, t, r) {
    const s = /* @__PURE__ */ new Map();
    for (const a of t) {
      const i = Ne(a.shape[e]);
      if (!i.length)
        throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);
      for (const u of i) {
        if (s.has(u))
          throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);
        s.set(u, a);
      }
    }
    return new $r({
      typeName: S.ZodDiscriminatedUnion,
      discriminator: e,
      options: t,
      optionsMap: s,
      ...M(r)
    });
  }
}
function vr(n, e) {
  const t = Ue(n), r = Ue(e);
  if (n === e)
    return { valid: !0, data: n };
  if (t === k.object && r === k.object) {
    const s = q.objectKeys(e), a = q.objectKeys(n).filter((u) => s.indexOf(u) !== -1), i = { ...n, ...e };
    for (const u of a) {
      const l = vr(n[u], e[u]);
      if (!l.valid)
        return { valid: !1 };
      i[u] = l.data;
    }
    return { valid: !0, data: i };
  } else if (t === k.array && r === k.array) {
    if (n.length !== e.length)
      return { valid: !1 };
    const s = [];
    for (let a = 0; a < n.length; a++) {
      const i = n[a], u = e[a], l = vr(i, u);
      if (!l.valid)
        return { valid: !1 };
      s.push(l.data);
    }
    return { valid: !0, data: s };
  } else return t === k.date && r === k.date && +n == +e ? { valid: !0, data: n } : { valid: !1 };
}
class Mn extends Z {
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e), s = (a, i) => {
      if (os(a) || os(i))
        return P;
      const u = vr(a.value, i.value);
      return u.valid ? ((us(a) || us(i)) && t.dirty(), { status: t.value, value: u.data }) : (T(r, {
        code: x.invalid_intersection_types
      }), P);
    };
    return r.common.async ? Promise.all([
      this._def.left._parseAsync({
        data: r.data,
        path: r.path,
        parent: r
      }),
      this._def.right._parseAsync({
        data: r.data,
        path: r.path,
        parent: r
      })
    ]).then(([a, i]) => s(a, i)) : s(this._def.left._parseSync({
      data: r.data,
      path: r.path,
      parent: r
    }), this._def.right._parseSync({
      data: r.data,
      path: r.path,
      parent: r
    }));
  }
}
Mn.create = (n, e, t) => new Mn({
  left: n,
  right: e,
  typeName: S.ZodIntersection,
  ...M(t)
});
class ft extends Z {
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.parsedType !== k.array)
      return T(r, {
        code: x.invalid_type,
        expected: k.array,
        received: r.parsedType
      }), P;
    if (r.data.length < this._def.items.length)
      return T(r, {
        code: x.too_small,
        minimum: this._def.items.length,
        inclusive: !0,
        exact: !1,
        type: "array"
      }), P;
    !this._def.rest && r.data.length > this._def.items.length && (T(r, {
      code: x.too_big,
      maximum: this._def.items.length,
      inclusive: !0,
      exact: !1,
      type: "array"
    }), t.dirty());
    const a = [...r.data].map((i, u) => {
      const l = this._def.items[u] || this._def.rest;
      return l ? l._parse(new Ee(r, i, r.path, u)) : null;
    }).filter((i) => !!i);
    return r.common.async ? Promise.all(a).then((i) => ue.mergeArray(t, i)) : ue.mergeArray(t, a);
  }
  get items() {
    return this._def.items;
  }
  rest(e) {
    return new ft({
      ...this._def,
      rest: e
    });
  }
}
ft.create = (n, e) => {
  if (!Array.isArray(n))
    throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
  return new ft({
    items: n,
    typeName: S.ZodTuple,
    rest: null,
    ...M(e)
  });
};
class jn extends Z {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.parsedType !== k.object)
      return T(r, {
        code: x.invalid_type,
        expected: k.object,
        received: r.parsedType
      }), P;
    const s = [], a = this._def.keyType, i = this._def.valueType;
    for (const u in r.data)
      s.push({
        key: a._parse(new Ee(r, u, r.path, u)),
        value: i._parse(new Ee(r, r.data[u], r.path, u)),
        alwaysSet: u in r.data
      });
    return r.common.async ? ue.mergeObjectAsync(t, s) : ue.mergeObjectSync(t, s);
  }
  get element() {
    return this._def.valueType;
  }
  static create(e, t, r) {
    return t instanceof Z ? new jn({
      keyType: e,
      valueType: t,
      typeName: S.ZodRecord,
      ...M(r)
    }) : new jn({
      keyType: $e.create(),
      valueType: e,
      typeName: S.ZodRecord,
      ...M(t)
    });
  }
}
class fs extends Z {
  get keySchema() {
    return this._def.keyType;
  }
  get valueSchema() {
    return this._def.valueType;
  }
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.parsedType !== k.map)
      return T(r, {
        code: x.invalid_type,
        expected: k.map,
        received: r.parsedType
      }), P;
    const s = this._def.keyType, a = this._def.valueType, i = [...r.data.entries()].map(([u, l], c) => ({
      key: s._parse(new Ee(r, u, r.path, [c, "key"])),
      value: a._parse(new Ee(r, l, r.path, [c, "value"]))
    }));
    if (r.common.async) {
      const u = /* @__PURE__ */ new Map();
      return Promise.resolve().then(async () => {
        for (const l of i) {
          const c = await l.key, p = await l.value;
          if (c.status === "aborted" || p.status === "aborted")
            return P;
          (c.status === "dirty" || p.status === "dirty") && t.dirty(), u.set(c.value, p.value);
        }
        return { status: t.value, value: u };
      });
    } else {
      const u = /* @__PURE__ */ new Map();
      for (const l of i) {
        const c = l.key, p = l.value;
        if (c.status === "aborted" || p.status === "aborted")
          return P;
        (c.status === "dirty" || p.status === "dirty") && t.dirty(), u.set(c.value, p.value);
      }
      return { status: t.value, value: u };
    }
  }
}
fs.create = (n, e, t) => new fs({
  valueType: e,
  keyType: n,
  typeName: S.ZodMap,
  ...M(t)
});
class Vt extends Z {
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.parsedType !== k.set)
      return T(r, {
        code: x.invalid_type,
        expected: k.set,
        received: r.parsedType
      }), P;
    const s = this._def;
    s.minSize !== null && r.data.size < s.minSize.value && (T(r, {
      code: x.too_small,
      minimum: s.minSize.value,
      type: "set",
      inclusive: !0,
      exact: !1,
      message: s.minSize.message
    }), t.dirty()), s.maxSize !== null && r.data.size > s.maxSize.value && (T(r, {
      code: x.too_big,
      maximum: s.maxSize.value,
      type: "set",
      inclusive: !0,
      exact: !1,
      message: s.maxSize.message
    }), t.dirty());
    const a = this._def.valueType;
    function i(l) {
      const c = /* @__PURE__ */ new Set();
      for (const p of l) {
        if (p.status === "aborted")
          return P;
        p.status === "dirty" && t.dirty(), c.add(p.value);
      }
      return { status: t.value, value: c };
    }
    const u = [...r.data.values()].map((l, c) => a._parse(new Ee(r, l, r.path, c)));
    return r.common.async ? Promise.all(u).then((l) => i(l)) : i(u);
  }
  min(e, t) {
    return new Vt({
      ...this._def,
      minSize: { value: e, message: C.toString(t) }
    });
  }
  max(e, t) {
    return new Vt({
      ...this._def,
      maxSize: { value: e, message: C.toString(t) }
    });
  }
  size(e, t) {
    return this.min(e, t).max(e, t);
  }
  nonempty(e) {
    return this.min(1, e);
  }
}
Vt.create = (n, e) => new Vt({
  valueType: n,
  minSize: null,
  maxSize: null,
  typeName: S.ZodSet,
  ...M(e)
});
class $n extends Z {
  get schema() {
    return this._def.getter();
  }
  _parse(e) {
    const { ctx: t } = this._processInputParams(e);
    return this._def.getter()._parse({ data: t.data, path: t.path, parent: t });
  }
}
$n.create = (n, e) => new $n({
  getter: n,
  typeName: S.ZodLazy,
  ...M(e)
});
class Fn extends Z {
  _parse(e) {
    if (e.data !== this._def.value) {
      const t = this._getOrReturnCtx(e);
      return T(t, {
        received: t.data,
        code: x.invalid_literal,
        expected: this._def.value
      }), P;
    }
    return { status: "valid", value: e.data };
  }
  get value() {
    return this._def.value;
  }
}
Fn.create = (n, e) => new Fn({
  value: n,
  typeName: S.ZodLiteral,
  ...M(e)
});
function sa(n, e) {
  return new ht({
    values: n,
    typeName: S.ZodEnum,
    ...M(e)
  });
}
class ht extends Z {
  _parse(e) {
    if (typeof e.data != "string") {
      const t = this._getOrReturnCtx(e), r = this._def.values;
      return T(t, {
        expected: q.joinValues(r),
        received: t.parsedType,
        code: x.invalid_type
      }), P;
    }
    if (this._cache || (this._cache = new Set(this._def.values)), !this._cache.has(e.data)) {
      const t = this._getOrReturnCtx(e), r = this._def.values;
      return T(t, {
        received: t.data,
        code: x.invalid_enum_value,
        options: r
      }), P;
    }
    return be(e.data);
  }
  get options() {
    return this._def.values;
  }
  get enum() {
    const e = {};
    for (const t of this._def.values)
      e[t] = t;
    return e;
  }
  get Values() {
    const e = {};
    for (const t of this._def.values)
      e[t] = t;
    return e;
  }
  get Enum() {
    const e = {};
    for (const t of this._def.values)
      e[t] = t;
    return e;
  }
  extract(e, t = this._def) {
    return ht.create(e, {
      ...this._def,
      ...t
    });
  }
  exclude(e, t = this._def) {
    return ht.create(this.options.filter((r) => !e.includes(r)), {
      ...this._def,
      ...t
    });
  }
}
ht.create = sa;
class wr extends Z {
  _parse(e) {
    const t = q.getValidEnumValues(this._def.values), r = this._getOrReturnCtx(e);
    if (r.parsedType !== k.string && r.parsedType !== k.number) {
      const s = q.objectValues(t);
      return T(r, {
        expected: q.joinValues(s),
        received: r.parsedType,
        code: x.invalid_type
      }), P;
    }
    if (this._cache || (this._cache = new Set(q.getValidEnumValues(this._def.values))), !this._cache.has(e.data)) {
      const s = q.objectValues(t);
      return T(r, {
        received: r.data,
        code: x.invalid_enum_value,
        options: s
      }), P;
    }
    return be(e.data);
  }
  get enum() {
    return this._def.values;
  }
}
wr.create = (n, e) => new wr({
  values: n,
  typeName: S.ZodNativeEnum,
  ...M(e)
});
class Ln extends Z {
  unwrap() {
    return this._def.type;
  }
  _parse(e) {
    const { ctx: t } = this._processInputParams(e);
    if (t.parsedType !== k.promise && t.common.async === !1)
      return T(t, {
        code: x.invalid_type,
        expected: k.promise,
        received: t.parsedType
      }), P;
    const r = t.parsedType === k.promise ? t.data : Promise.resolve(t.data);
    return be(r.then((s) => this._def.type.parseAsync(s, {
      path: t.path,
      errorMap: t.common.contextualErrorMap
    })));
  }
}
Ln.create = (n, e) => new Ln({
  type: n,
  typeName: S.ZodPromise,
  ...M(e)
});
class mt extends Z {
  innerType() {
    return this._def.schema;
  }
  sourceType() {
    return this._def.schema._def.typeName === S.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
  }
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e), s = this._def.effect || null, a = {
      addIssue: (i) => {
        T(r, i), i.fatal ? t.abort() : t.dirty();
      },
      get path() {
        return r.path;
      }
    };
    if (a.addIssue = a.addIssue.bind(a), s.type === "preprocess") {
      const i = s.transform(r.data, a);
      if (r.common.async)
        return Promise.resolve(i).then(async (u) => {
          if (t.value === "aborted")
            return P;
          const l = await this._def.schema._parseAsync({
            data: u,
            path: r.path,
            parent: r
          });
          return l.status === "aborted" ? P : l.status === "dirty" || t.value === "dirty" ? Bt(l.value) : l;
        });
      {
        if (t.value === "aborted")
          return P;
        const u = this._def.schema._parseSync({
          data: i,
          path: r.path,
          parent: r
        });
        return u.status === "aborted" ? P : u.status === "dirty" || t.value === "dirty" ? Bt(u.value) : u;
      }
    }
    if (s.type === "refinement") {
      const i = (u) => {
        const l = s.refinement(u, a);
        if (r.common.async)
          return Promise.resolve(l);
        if (l instanceof Promise)
          throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
        return u;
      };
      if (r.common.async === !1) {
        const u = this._def.schema._parseSync({
          data: r.data,
          path: r.path,
          parent: r
        });
        return u.status === "aborted" ? P : (u.status === "dirty" && t.dirty(), i(u.value), { status: t.value, value: u.value });
      } else
        return this._def.schema._parseAsync({ data: r.data, path: r.path, parent: r }).then((u) => u.status === "aborted" ? P : (u.status === "dirty" && t.dirty(), i(u.value).then(() => ({ status: t.value, value: u.value }))));
    }
    if (s.type === "transform")
      if (r.common.async === !1) {
        const i = this._def.schema._parseSync({
          data: r.data,
          path: r.path,
          parent: r
        });
        if (!Zt(i))
          return P;
        const u = s.transform(i.value, a);
        if (u instanceof Promise)
          throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");
        return { status: t.value, value: u };
      } else
        return this._def.schema._parseAsync({ data: r.data, path: r.path, parent: r }).then((i) => Zt(i) ? Promise.resolve(s.transform(i.value, a)).then((u) => ({
          status: t.value,
          value: u
        })) : P);
    q.assertNever(s);
  }
}
mt.create = (n, e, t) => new mt({
  schema: n,
  typeName: S.ZodEffects,
  effect: e,
  ...M(t)
});
mt.createWithPreprocess = (n, e, t) => new mt({
  schema: e,
  effect: { type: "preprocess", transform: n },
  typeName: S.ZodEffects,
  ...M(t)
});
class Fe extends Z {
  _parse(e) {
    return this._getType(e) === k.undefined ? be(void 0) : this._def.innerType._parse(e);
  }
  unwrap() {
    return this._def.innerType;
  }
}
Fe.create = (n, e) => new Fe({
  innerType: n,
  typeName: S.ZodOptional,
  ...M(e)
});
class gt extends Z {
  _parse(e) {
    return this._getType(e) === k.null ? be(null) : this._def.innerType._parse(e);
  }
  unwrap() {
    return this._def.innerType;
  }
}
gt.create = (n, e) => new gt({
  innerType: n,
  typeName: S.ZodNullable,
  ...M(e)
});
class Zn extends Z {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e);
    let r = t.data;
    return t.parsedType === k.undefined && (r = this._def.defaultValue()), this._def.innerType._parse({
      data: r,
      path: t.path,
      parent: t
    });
  }
  removeDefault() {
    return this._def.innerType;
  }
}
Zn.create = (n, e) => new Zn({
  innerType: n,
  typeName: S.ZodDefault,
  defaultValue: typeof e.default == "function" ? e.default : () => e.default,
  ...M(e)
});
class Un extends Z {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e), r = {
      ...t,
      common: {
        ...t.common,
        issues: []
      }
    }, s = this._def.innerType._parse({
      data: r.data,
      path: r.path,
      parent: {
        ...r
      }
    });
    return Nn(s) ? s.then((a) => ({
      status: "valid",
      value: a.status === "valid" ? a.value : this._def.catchValue({
        get error() {
          return new Le(r.common.issues);
        },
        input: r.data
      })
    })) : {
      status: "valid",
      value: s.status === "valid" ? s.value : this._def.catchValue({
        get error() {
          return new Le(r.common.issues);
        },
        input: r.data
      })
    };
  }
  removeCatch() {
    return this._def.innerType;
  }
}
Un.create = (n, e) => new Un({
  innerType: n,
  typeName: S.ZodCatch,
  catchValue: typeof e.catch == "function" ? e.catch : () => e.catch,
  ...M(e)
});
class hs extends Z {
  _parse(e) {
    if (this._getType(e) !== k.nan) {
      const r = this._getOrReturnCtx(e);
      return T(r, {
        code: x.invalid_type,
        expected: k.nan,
        received: r.parsedType
      }), P;
    }
    return { status: "valid", value: e.data };
  }
}
hs.create = (n) => new hs({
  typeName: S.ZodNaN,
  ...M(n)
});
class aa extends Z {
  _parse(e) {
    const { ctx: t } = this._processInputParams(e), r = t.data;
    return this._def.type._parse({
      data: r,
      path: t.path,
      parent: t
    });
  }
  unwrap() {
    return this._def.type;
  }
}
class Fr extends Z {
  _parse(e) {
    const { status: t, ctx: r } = this._processInputParams(e);
    if (r.common.async)
      return (async () => {
        const a = await this._def.in._parseAsync({
          data: r.data,
          path: r.path,
          parent: r
        });
        return a.status === "aborted" ? P : a.status === "dirty" ? (t.dirty(), Bt(a.value)) : this._def.out._parseAsync({
          data: a.value,
          path: r.path,
          parent: r
        });
      })();
    {
      const s = this._def.in._parseSync({
        data: r.data,
        path: r.path,
        parent: r
      });
      return s.status === "aborted" ? P : s.status === "dirty" ? (t.dirty(), {
        status: "dirty",
        value: s.value
      }) : this._def.out._parseSync({
        data: s.value,
        path: r.path,
        parent: r
      });
    }
  }
  static create(e, t) {
    return new Fr({
      in: e,
      out: t,
      typeName: S.ZodPipeline
    });
  }
}
class qn extends Z {
  _parse(e) {
    const t = this._def.innerType._parse(e), r = (s) => (Zt(s) && (s.value = Object.freeze(s.value)), s);
    return Nn(t) ? t.then((s) => r(s)) : r(t);
  }
  unwrap() {
    return this._def.innerType;
  }
}
qn.create = (n, e) => new qn({
  innerType: n,
  typeName: S.ZodReadonly,
  ...M(e)
});
var S;
(function(n) {
  n.ZodString = "ZodString", n.ZodNumber = "ZodNumber", n.ZodNaN = "ZodNaN", n.ZodBigInt = "ZodBigInt", n.ZodBoolean = "ZodBoolean", n.ZodDate = "ZodDate", n.ZodSymbol = "ZodSymbol", n.ZodUndefined = "ZodUndefined", n.ZodNull = "ZodNull", n.ZodAny = "ZodAny", n.ZodUnknown = "ZodUnknown", n.ZodNever = "ZodNever", n.ZodVoid = "ZodVoid", n.ZodArray = "ZodArray", n.ZodObject = "ZodObject", n.ZodUnion = "ZodUnion", n.ZodDiscriminatedUnion = "ZodDiscriminatedUnion", n.ZodIntersection = "ZodIntersection", n.ZodTuple = "ZodTuple", n.ZodRecord = "ZodRecord", n.ZodMap = "ZodMap", n.ZodSet = "ZodSet", n.ZodFunction = "ZodFunction", n.ZodLazy = "ZodLazy", n.ZodLiteral = "ZodLiteral", n.ZodEnum = "ZodEnum", n.ZodEffects = "ZodEffects", n.ZodNativeEnum = "ZodNativeEnum", n.ZodOptional = "ZodOptional", n.ZodNullable = "ZodNullable", n.ZodDefault = "ZodDefault", n.ZodCatch = "ZodCatch", n.ZodPromise = "ZodPromise", n.ZodBranded = "ZodBranded", n.ZodPipeline = "ZodPipeline", n.ZodReadonly = "ZodReadonly";
})(S || (S = {}));
const d = $e.create, A = Ut.create, lt = mr.create, L = yr.create;
We.create;
const U = Ce.create, m = Q.create, ia = Pn.create, me = $r.create;
Mn.create;
ft.create;
const ee = jn.create, Mi = $n.create, g = Fn.create, ae = ht.create;
Ln.create;
Fe.create;
gt.create;
function ji() {
  return {};
}
function $i(n, e) {
  var r, s;
  const t = {
    type: "array"
  };
  return ((s = (r = n.type) == null ? void 0 : r._def) == null ? void 0 : s.typeName) !== S.ZodAny && (t.items = B(n.type._def, {
    ...e,
    currentPath: [...e.currentPath, "items"]
  })), n.minLength && z(t, "minItems", n.minLength.value, n.minLength.message, e), n.maxLength && z(t, "maxItems", n.maxLength.value, n.maxLength.message, e), n.exactLength && (z(t, "minItems", n.exactLength.value, n.exactLength.message, e), z(t, "maxItems", n.exactLength.value, n.exactLength.message, e)), t;
}
function Fi(n, e) {
  const t = {
    type: "integer",
    format: "int64"
  };
  if (!n.checks)
    return t;
  for (const r of n.checks)
    switch (r.kind) {
      case "min":
        e.target === "jsonSchema7" ? r.inclusive ? z(t, "minimum", r.value, r.message, e) : z(t, "exclusiveMinimum", r.value, r.message, e) : (r.inclusive || (t.exclusiveMinimum = !0), z(t, "minimum", r.value, r.message, e));
        break;
      case "max":
        e.target === "jsonSchema7" ? r.inclusive ? z(t, "maximum", r.value, r.message, e) : z(t, "exclusiveMaximum", r.value, r.message, e) : (r.inclusive || (t.exclusiveMaximum = !0), z(t, "maximum", r.value, r.message, e));
        break;
      case "multipleOf":
        z(t, "multipleOf", r.value, r.message, e);
        break;
    }
  return t;
}
function Li() {
  return {
    type: "boolean"
  };
}
function Zi(n, e) {
  return B(n.type._def, e);
}
const Ui = (n, e) => B(n.innerType._def, e);
function oa(n, e, t) {
  const r = t ?? e.dateStrategy;
  if (Array.isArray(r))
    return {
      anyOf: r.map((s, a) => oa(n, e, s))
    };
  switch (r) {
    case "string":
    case "format:date-time":
      return {
        type: "string",
        format: "date-time"
      };
    case "format:date":
      return {
        type: "string",
        format: "date"
      };
    case "integer":
      return qi(n, e);
  }
}
const qi = (n, e) => {
  const t = {
    type: "integer",
    format: "unix-time"
  };
  if (e.target === "openApi3")
    return t;
  for (const r of n.checks)
    switch (r.kind) {
      case "min":
        z(
          t,
          "minimum",
          r.value,
          // This is in milliseconds
          r.message,
          e
        );
        break;
      case "max":
        z(
          t,
          "maximum",
          r.value,
          // This is in milliseconds
          r.message,
          e
        );
        break;
    }
  return t;
};
function Ji(n, e) {
  return {
    ...B(n.innerType._def, e),
    default: n.defaultValue()
  };
}
function Bi(n, e, t) {
  return e.effectStrategy === "input" ? B(n.schema._def, e, t) : {};
}
function Gi(n) {
  return {
    type: "string",
    enum: [...n.values]
  };
}
const zi = (n) => "type" in n && n.type === "string" ? !1 : "allOf" in n;
function Vi(n, e) {
  const t = [
    B(n.left._def, {
      ...e,
      currentPath: [...e.currentPath, "allOf", "0"]
    }),
    B(n.right._def, {
      ...e,
      currentPath: [...e.currentPath, "allOf", "1"]
    })
  ].filter((a) => !!a);
  let r = e.target === "jsonSchema2019-09" ? { unevaluatedProperties: !1 } : void 0;
  const s = [];
  return t.forEach((a) => {
    if (zi(a))
      s.push(...a.allOf), a.unevaluatedProperties === void 0 && (r = void 0);
    else {
      let i = a;
      if ("additionalProperties" in a && a.additionalProperties === !1) {
        const { additionalProperties: u, ...l } = a;
        i = l;
      } else
        r = void 0;
      s.push(i);
    }
  }), s.length ? {
    allOf: s,
    ...r
  } : void 0;
}
function Hi(n, e) {
  const t = typeof n.value;
  return t !== "bigint" && t !== "number" && t !== "boolean" && t !== "string" ? {
    type: Array.isArray(n.value) ? "array" : "object"
  } : e.target === "openApi3" ? {
    type: t === "bigint" ? "integer" : t,
    enum: [n.value]
  } : {
    type: t === "bigint" ? "integer" : t,
    const: n.value
  };
}
let rr;
const Xe = {
  /**
   * `c` was changed to `[cC]` to replicate /i flag
   */
  cuid: /^[cC][^\s-]{8,}$/,
  cuid2: /^[0-9a-z]+$/,
  ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,
  /**
   * `a-z` was added to replicate /i flag
   */
  email: /^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,
  /**
   * Constructed a valid Unicode RegExp
   *
   * Lazily instantiate since this type of regex isn't supported
   * in all envs (e.g. React Native).
   *
   * See:
   * https://github.com/colinhacks/zod/issues/2433
   * Fix in Zod:
   * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b
   */
  emoji: () => (rr === void 0 && (rr = RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$", "u")), rr),
  base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,
  nanoid: /^[a-zA-Z0-9_-]{21}$/
};
function ua(n, e) {
  const t = {
    type: "string"
  };
  function r(s) {
    return e.patternStrategy === "escape" ? Wi(s) : s;
  }
  if (n.checks)
    for (const s of n.checks)
      switch (s.kind) {
        case "min":
          z(t, "minLength", typeof t.minLength == "number" ? Math.max(t.minLength, s.value) : s.value, s.message, e);
          break;
        case "max":
          z(t, "maxLength", typeof t.maxLength == "number" ? Math.min(t.maxLength, s.value) : s.value, s.message, e);
          break;
        case "email":
          switch (e.emailStrategy) {
            case "format:email":
              Se(t, "email", s.message, e);
              break;
            case "format:idn-email":
              Se(t, "idn-email", s.message, e);
              break;
            case "pattern:zod":
              Ie(t, Xe.email, s.message, e);
              break;
          }
          break;
        case "url":
          Se(t, "uri", s.message, e);
          break;
        case "uuid":
          Se(t, "uuid", s.message, e);
          break;
        case "regex":
          Ie(t, s.regex, s.message, e);
          break;
        case "cuid":
          Ie(t, Xe.cuid, s.message, e);
          break;
        case "cuid2":
          Ie(t, Xe.cuid2, s.message, e);
          break;
        case "startsWith":
          Ie(t, RegExp(`^${r(s.value)}`), s.message, e);
          break;
        case "endsWith":
          Ie(t, RegExp(`${r(s.value)}$`), s.message, e);
          break;
        case "datetime":
          Se(t, "date-time", s.message, e);
          break;
        case "date":
          Se(t, "date", s.message, e);
          break;
        case "time":
          Se(t, "time", s.message, e);
          break;
        case "duration":
          Se(t, "duration", s.message, e);
          break;
        case "length":
          z(t, "minLength", typeof t.minLength == "number" ? Math.max(t.minLength, s.value) : s.value, s.message, e), z(t, "maxLength", typeof t.maxLength == "number" ? Math.min(t.maxLength, s.value) : s.value, s.message, e);
          break;
        case "includes": {
          Ie(t, RegExp(r(s.value)), s.message, e);
          break;
        }
        case "ip": {
          s.version !== "v6" && Se(t, "ipv4", s.message, e), s.version !== "v4" && Se(t, "ipv6", s.message, e);
          break;
        }
        case "emoji":
          Ie(t, Xe.emoji, s.message, e);
          break;
        case "ulid": {
          Ie(t, Xe.ulid, s.message, e);
          break;
        }
        case "base64": {
          switch (e.base64Strategy) {
            case "format:binary": {
              Se(t, "binary", s.message, e);
              break;
            }
            case "contentEncoding:base64": {
              z(t, "contentEncoding", "base64", s.message, e);
              break;
            }
            case "pattern:zod": {
              Ie(t, Xe.base64, s.message, e);
              break;
            }
          }
          break;
        }
        case "nanoid":
          Ie(t, Xe.nanoid, s.message, e);
      }
  return t;
}
const Wi = (n) => Array.from(n).map((e) => /[a-zA-Z0-9]/.test(e) ? e : `\\${e}`).join(""), Se = (n, e, t, r) => {
  var s;
  n.format || (s = n.anyOf) != null && s.some((a) => a.format) ? (n.anyOf || (n.anyOf = []), n.format && (n.anyOf.push({
    format: n.format,
    ...n.errorMessage && r.errorMessages && {
      errorMessage: { format: n.errorMessage.format }
    }
  }), delete n.format, n.errorMessage && (delete n.errorMessage.format, Object.keys(n.errorMessage).length === 0 && delete n.errorMessage)), n.anyOf.push({
    format: e,
    ...t && r.errorMessages && { errorMessage: { format: t } }
  })) : z(n, "format", e, t, r);
}, Ie = (n, e, t, r) => {
  var s;
  n.pattern || (s = n.allOf) != null && s.some((a) => a.pattern) ? (n.allOf || (n.allOf = []), n.pattern && (n.allOf.push({
    pattern: n.pattern,
    ...n.errorMessage && r.errorMessages && {
      errorMessage: { pattern: n.errorMessage.pattern }
    }
  }), delete n.pattern, n.errorMessage && (delete n.errorMessage.pattern, Object.keys(n.errorMessage).length === 0 && delete n.errorMessage)), n.allOf.push({
    pattern: ms(e, r),
    ...t && r.errorMessages && { errorMessage: { pattern: t } }
  })) : z(n, "pattern", ms(e, r), t, r);
}, ms = (n, e) => {
  var c;
  const t = typeof n == "function" ? n() : n;
  if (!e.applyRegexFlags || !t.flags)
    return t.source;
  const r = {
    i: t.flags.includes("i"),
    // Case-insensitive
    m: t.flags.includes("m"),
    // `^` and `$` matches adjacent to newline characters
    s: t.flags.includes("s")
    // `.` matches newlines
  }, s = r.i ? t.source.toLowerCase() : t.source;
  let a = "", i = !1, u = !1, l = !1;
  for (let p = 0; p < s.length; p++) {
    if (i) {
      a += s[p], i = !1;
      continue;
    }
    if (r.i) {
      if (u) {
        if (s[p].match(/[a-z]/)) {
          l ? (a += s[p], a += `${s[p - 2]}-${s[p]}`.toUpperCase(), l = !1) : s[p + 1] === "-" && ((c = s[p + 2]) != null && c.match(/[a-z]/)) ? (a += s[p], l = !0) : a += `${s[p]}${s[p].toUpperCase()}`;
          continue;
        }
      } else if (s[p].match(/[a-z]/)) {
        a += `[${s[p]}${s[p].toUpperCase()}]`;
        continue;
      }
    }
    if (r.m) {
      if (s[p] === "^") {
        a += `(^|(?<=[\r
]))`;
        continue;
      } else if (s[p] === "$") {
        a += `($|(?=[\r
]))`;
        continue;
      }
    }
    if (r.s && s[p] === ".") {
      a += u ? `${s[p]}\r
` : `[${s[p]}\r
]`;
      continue;
    }
    a += s[p], s[p] === "\\" ? i = !0 : u && s[p] === "]" ? u = !1 : !u && s[p] === "[" && (u = !0);
  }
  try {
    const p = new RegExp(a);
  } catch {
    return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`), t.source;
  }
  return a;
};
function ca(n, e) {
  var r, s, a, i;
  if (e.target === "openApi3" && ((r = n.keyType) == null ? void 0 : r._def.typeName) === S.ZodEnum)
    return {
      type: "object",
      required: n.keyType._def.values,
      properties: n.keyType._def.values.reduce((u, l) => ({
        ...u,
        [l]: B(n.valueType._def, {
          ...e,
          currentPath: [...e.currentPath, "properties", l]
        }) ?? {}
      }), {}),
      additionalProperties: !1
    };
  const t = {
    type: "object",
    additionalProperties: B(n.valueType._def, {
      ...e,
      currentPath: [...e.currentPath, "additionalProperties"]
    }) ?? {}
  };
  if (e.target === "openApi3")
    return t;
  if (((s = n.keyType) == null ? void 0 : s._def.typeName) === S.ZodString && ((a = n.keyType._def.checks) != null && a.length)) {
    const u = Object.entries(ua(n.keyType._def, e)).reduce((l, [c, p]) => c === "type" ? l : { ...l, [c]: p }, {});
    return {
      ...t,
      propertyNames: u
    };
  } else if (((i = n.keyType) == null ? void 0 : i._def.typeName) === S.ZodEnum)
    return {
      ...t,
      propertyNames: {
        enum: n.keyType._def.values
      }
    };
  return t;
}
function Ki(n, e) {
  if (e.mapStrategy === "record")
    return ca(n, e);
  const t = B(n.keyType._def, {
    ...e,
    currentPath: [...e.currentPath, "items", "items", "0"]
  }) || {}, r = B(n.valueType._def, {
    ...e,
    currentPath: [...e.currentPath, "items", "items", "1"]
  }) || {};
  return {
    type: "array",
    maxItems: 125,
    items: {
      type: "array",
      items: [t, r],
      minItems: 2,
      maxItems: 2
    }
  };
}
function Yi(n) {
  const e = n.values, r = Object.keys(n.values).filter((a) => typeof e[e[a]] != "number").map((a) => e[a]), s = Array.from(new Set(r.map((a) => typeof a)));
  return {
    type: s.length === 1 ? s[0] === "string" ? "string" : "number" : ["string", "number"],
    enum: r
  };
}
function Xi() {
  return {
    not: {}
  };
}
function Qi(n) {
  return n.target === "openApi3" ? {
    enum: ["null"],
    nullable: !0
  } : {
    type: "null"
  };
}
const Jn = {
  ZodString: "string",
  ZodNumber: "number",
  ZodBigInt: "integer",
  ZodBoolean: "boolean",
  ZodNull: "null"
};
function eo(n, e) {
  if (e.target === "openApi3")
    return gs(n, e);
  const t = n.options instanceof Map ? Array.from(n.options.values()) : n.options;
  if (t.every((r) => r._def.typeName in Jn && (!r._def.checks || !r._def.checks.length))) {
    const r = t.reduce((s, a) => {
      const i = Jn[a._def.typeName];
      return i && !s.includes(i) ? [...s, i] : s;
    }, []);
    return {
      type: r.length > 1 ? r : r[0]
    };
  } else if (t.every((r) => r._def.typeName === "ZodLiteral" && !r.description)) {
    const r = t.reduce((s, a) => {
      const i = typeof a._def.value;
      switch (i) {
        case "string":
        case "number":
        case "boolean":
          return [...s, i];
        case "bigint":
          return [...s, "integer"];
        case "object":
          if (a._def.value === null)
            return [...s, "null"];
        case "symbol":
        case "undefined":
        case "function":
        default:
          return s;
      }
    }, []);
    if (r.length === t.length) {
      const s = r.filter((a, i, u) => u.indexOf(a) === i);
      return {
        type: s.length > 1 ? s : s[0],
        enum: t.reduce((a, i) => a.includes(i._def.value) ? a : [...a, i._def.value], [])
      };
    }
  } else if (t.every((r) => r._def.typeName === "ZodEnum"))
    return {
      type: "string",
      enum: t.reduce((r, s) => [...r, ...s._def.values.filter((a) => !r.includes(a))], [])
    };
  return gs(n, e);
}
const gs = (n, e) => {
  const t = (n.options instanceof Map ? Array.from(n.options.values()) : n.options).map((r, s) => B(r._def, {
    ...e,
    currentPath: [...e.currentPath, "anyOf", `${s}`]
  })).filter((r) => !!r && (!e.strictUnions || typeof r == "object" && Object.keys(r).length > 0));
  return t.length ? { anyOf: t } : void 0;
};
function to(n, e) {
  if (["ZodString", "ZodNumber", "ZodBigInt", "ZodBoolean", "ZodNull"].includes(n.innerType._def.typeName) && (!n.innerType._def.checks || !n.innerType._def.checks.length))
    return e.target === "openApi3" || e.nullableStrategy === "property" ? {
      type: Jn[n.innerType._def.typeName],
      nullable: !0
    } : {
      type: [Jn[n.innerType._def.typeName], "null"]
    };
  if (e.target === "openApi3") {
    const r = B(n.innerType._def, {
      ...e,
      currentPath: [...e.currentPath]
    });
    return r && "$ref" in r ? { allOf: [r], nullable: !0 } : r && { ...r, nullable: !0 };
  }
  const t = B(n.innerType._def, {
    ...e,
    currentPath: [...e.currentPath, "anyOf", "0"]
  });
  return t && { anyOf: [t, { type: "null" }] };
}
function no(n, e) {
  const t = {
    type: "number"
  };
  if (!n.checks)
    return t;
  for (const r of n.checks)
    switch (r.kind) {
      case "int":
        t.type = "integer", ta(t, "type", r.message, e);
        break;
      case "min":
        e.target === "jsonSchema7" ? r.inclusive ? z(t, "minimum", r.value, r.message, e) : z(t, "exclusiveMinimum", r.value, r.message, e) : (r.inclusive || (t.exclusiveMinimum = !0), z(t, "minimum", r.value, r.message, e));
        break;
      case "max":
        e.target === "jsonSchema7" ? r.inclusive ? z(t, "maximum", r.value, r.message, e) : z(t, "exclusiveMaximum", r.value, r.message, e) : (r.inclusive || (t.exclusiveMaximum = !0), z(t, "maximum", r.value, r.message, e));
        break;
      case "multipleOf":
        z(t, "multipleOf", r.value, r.message, e);
        break;
    }
  return t;
}
function ro(n, e) {
  return e.removeAdditionalStrategy === "strict" ? n.catchall._def.typeName === "ZodNever" ? n.unknownKeys !== "strict" : B(n.catchall._def, {
    ...e,
    currentPath: [...e.currentPath, "additionalProperties"]
  }) ?? !0 : n.catchall._def.typeName === "ZodNever" ? n.unknownKeys === "passthrough" : B(n.catchall._def, {
    ...e,
    currentPath: [...e.currentPath, "additionalProperties"]
  }) ?? !0;
}
function so(n, e) {
  const t = {
    type: "object",
    ...Object.entries(n.shape()).reduce((r, [s, a]) => {
      var l;
      if (a === void 0 || a._def === void 0)
        return r;
      const i = [...e.currentPath, "properties", s], u = B(a._def, {
        ...e,
        currentPath: i,
        propertyPath: i
      });
      if (u === void 0)
        return r;
      if (e.openaiStrictMode && a.isOptional() && !a.isNullable() && typeof ((l = a._def) == null ? void 0 : l.defaultValue) > "u")
        throw new Error(`Zod field at \`${i.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);
      return {
        properties: {
          ...r.properties,
          [s]: u
        },
        required: a.isOptional() && !e.openaiStrictMode ? r.required : [...r.required, s]
      };
    }, { properties: {}, required: [] }),
    additionalProperties: ro(n, e)
  };
  return t.required.length || delete t.required, t;
}
const ao = (n, e) => {
  if (e.propertyPath && e.currentPath.slice(0, e.propertyPath.length).toString() === e.propertyPath.toString())
    return B(n.innerType._def, { ...e, currentPath: e.currentPath });
  const t = B(n.innerType._def, {
    ...e,
    currentPath: [...e.currentPath, "anyOf", "1"]
  });
  return t ? {
    anyOf: [
      {
        not: {}
      },
      t
    ]
  } : {};
}, io = (n, e) => {
  if (e.pipeStrategy === "input")
    return B(n.in._def, e);
  if (e.pipeStrategy === "output")
    return B(n.out._def, e);
  const t = B(n.in._def, {
    ...e,
    currentPath: [...e.currentPath, "allOf", "0"]
  }), r = B(n.out._def, {
    ...e,
    currentPath: [...e.currentPath, "allOf", t ? "1" : "0"]
  });
  return {
    allOf: [t, r].filter((s) => s !== void 0)
  };
};
function oo(n, e) {
  return B(n.type._def, e);
}
function uo(n, e) {
  const r = {
    type: "array",
    uniqueItems: !0,
    items: B(n.valueType._def, {
      ...e,
      currentPath: [...e.currentPath, "items"]
    })
  };
  return n.minSize && z(r, "minItems", n.minSize.value, n.minSize.message, e), n.maxSize && z(r, "maxItems", n.maxSize.value, n.maxSize.message, e), r;
}
function co(n, e) {
  return n.rest ? {
    type: "array",
    minItems: n.items.length,
    items: n.items.map((t, r) => B(t._def, {
      ...e,
      currentPath: [...e.currentPath, "items", `${r}`]
    })).reduce((t, r) => r === void 0 ? t : [...t, r], []),
    additionalItems: B(n.rest._def, {
      ...e,
      currentPath: [...e.currentPath, "additionalItems"]
    })
  } : {
    type: "array",
    minItems: n.items.length,
    maxItems: n.items.length,
    items: n.items.map((t, r) => B(t._def, {
      ...e,
      currentPath: [...e.currentPath, "items", `${r}`]
    })).reduce((t, r) => r === void 0 ? t : [...t, r], [])
  };
}
function lo() {
  return {
    not: {}
  };
}
function po() {
  return {};
}
const fo = (n, e) => B(n.innerType._def, e);
function B(n, e, t = !1) {
  var i;
  const r = e.seen.get(n);
  if (e.override) {
    const u = (i = e.override) == null ? void 0 : i.call(e, n, e, r, t);
    if (u !== ii)
      return u;
  }
  if (r && !t) {
    const u = ho(r, e);
    if (u !== void 0)
      return "$ref" in u && e.seenRefs.add(u.$ref), u;
  }
  const s = { def: n, path: e.currentPath, jsonSchema: void 0 };
  e.seen.set(n, s);
  const a = go(n, n.typeName, e, t);
  return a && _o(n, e, a), s.jsonSchema = a, a;
}
const ho = (n, e) => {
  switch (e.$refStrategy) {
    case "root":
      return { $ref: n.path.join("/") };
    // this case is needed as OpenAI strict mode doesn't support top-level `$ref`s, i.e.
    // the top-level schema *must* be `{"type": "object", "properties": {...}}` but if we ever
    // need to define a `$ref`, relative `$ref`s aren't supported, so we need to extract
    // the schema to `#/definitions/` and reference that.
    //
    // e.g. if we need to reference a schema at
    // `["#","definitions","contactPerson","properties","person1","properties","name"]`
    // then we'll extract it out to `contactPerson_properties_person1_properties_name`
    case "extract-to-root":
      const t = n.path.slice(e.basePath.length + 1).join("_");
      return t !== e.name && e.nameStrategy === "duplicate-ref" && (e.definitions[t] = n.def), { $ref: [...e.basePath, e.definitionPath, t].join("/") };
    case "relative":
      return { $ref: mo(e.currentPath, n.path) };
    case "none":
    case "seen":
      return n.path.length < e.currentPath.length && n.path.every((r, s) => e.currentPath[s] === r) ? (console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`), {}) : e.$refStrategy === "seen" ? {} : void 0;
  }
}, mo = (n, e) => {
  let t = 0;
  for (; t < n.length && t < e.length && n[t] === e[t]; t++)
    ;
  return [(n.length - t).toString(), ...e.slice(t)].join("/");
}, go = (n, e, t, r) => {
  switch (e) {
    case S.ZodString:
      return ua(n, t);
    case S.ZodNumber:
      return no(n, t);
    case S.ZodObject:
      return so(n, t);
    case S.ZodBigInt:
      return Fi(n, t);
    case S.ZodBoolean:
      return Li();
    case S.ZodDate:
      return oa(n, t);
    case S.ZodUndefined:
      return lo();
    case S.ZodNull:
      return Qi(t);
    case S.ZodArray:
      return $i(n, t);
    case S.ZodUnion:
    case S.ZodDiscriminatedUnion:
      return eo(n, t);
    case S.ZodIntersection:
      return Vi(n, t);
    case S.ZodTuple:
      return co(n, t);
    case S.ZodRecord:
      return ca(n, t);
    case S.ZodLiteral:
      return Hi(n, t);
    case S.ZodEnum:
      return Gi(n);
    case S.ZodNativeEnum:
      return Yi(n);
    case S.ZodNullable:
      return to(n, t);
    case S.ZodOptional:
      return ao(n, t);
    case S.ZodMap:
      return Ki(n, t);
    case S.ZodSet:
      return uo(n, t);
    case S.ZodLazy:
      return B(n.getter()._def, t);
    case S.ZodPromise:
      return oo(n, t);
    case S.ZodNaN:
    case S.ZodNever:
      return Xi();
    case S.ZodEffects:
      return Bi(n, t, r);
    case S.ZodAny:
      return ji();
    case S.ZodUnknown:
      return po();
    case S.ZodDefault:
      return Ji(n, t);
    case S.ZodBranded:
      return Zi(n, t);
    case S.ZodReadonly:
      return fo(n, t);
    case S.ZodCatch:
      return Ui(n, t);
    case S.ZodPipeline:
      return io(n, t);
    case S.ZodFunction:
    case S.ZodVoid:
    case S.ZodSymbol:
      return;
    default:
      return /* @__PURE__ */ ((s) => {
      })();
  }
}, _o = (n, e, t) => (n.description && (t.description = n.description, e.markdownDescription && (t.markdownDescription = n.description)), t), yo = (n, e) => {
  const t = ci(e), r = typeof e == "string" ? e : (e == null ? void 0 : e.nameStrategy) === "title" || e == null ? void 0 : e.name, s = B(n._def, r === void 0 ? t : {
    ...t,
    currentPath: [...t.basePath, t.definitionPath, r]
  }, !1) ?? {}, a = typeof e == "object" && e.name !== void 0 && e.nameStrategy === "title" ? e.name : void 0;
  a !== void 0 && (s.title = a);
  const i = (() => {
    if (ui(t.definitions))
      return;
    const l = {}, c = /* @__PURE__ */ new Set();
    for (let p = 0; p < 500; p++) {
      const f = Object.entries(t.definitions).filter(([h]) => !c.has(h));
      if (f.length === 0)
        break;
      for (const [h, b] of f)
        l[h] = B(fr(b), { ...t, currentPath: [...t.basePath, t.definitionPath, h] }, !0) ?? {}, c.add(h);
    }
    return l;
  })(), u = r === void 0 ? i ? {
    ...s,
    [t.definitionPath]: i
  } : s : t.nameStrategy === "duplicate-ref" ? {
    ...s,
    ...i || t.seenRefs.size ? {
      [t.definitionPath]: {
        ...i,
        // only actually duplicate the schema definition if it was ever referenced
        // otherwise the duplication is completely pointless
        ...t.seenRefs.size ? { [r]: s } : void 0
      }
    } : void 0
  } : {
    $ref: [...t.$refStrategy === "relative" ? [] : t.basePath, t.definitionPath, r].join("/"),
    [t.definitionPath]: {
      ...i,
      [r]: s
    }
  };
  return t.target === "jsonSchema7" ? u.$schema = "http://json-schema.org/draft-07/schema#" : t.target === "jsonSchema2019-09" && (u.$schema = "https://json-schema.org/draft/2019-09/schema#"), u;
};
function vo(n, { parser: e, callback: t }) {
  const r = { ...n };
  return Object.defineProperties(r, {
    $brand: {
      value: "auto-parseable-tool",
      enumerable: !1
    },
    $parseRaw: {
      value: e,
      enumerable: !1
    },
    $callback: {
      value: t,
      enumerable: !1
    }
  }), r;
}
function da(n, e) {
  return yo(n, {
    openaiStrictMode: !0,
    name: e.name,
    nameStrategy: "duplicate-ref",
    $refStrategy: "extract-to-root",
    nullableStrategy: "property"
  });
}
function wo(n, e, t) {
  return ai({
    type: "json_schema",
    ...t,
    name: e,
    strict: !0,
    schema: da(n, { name: e })
  }, (r) => n.parse(JSON.parse(r)));
}
function bo(n) {
  return vo({
    type: "function",
    name: n.name,
    parameters: da(n.parameters, { name: n.name }),
    strict: !0
  }, {
    callback: n.function,
    parser: (e) => n.parameters.parse(JSON.parse(e))
  });
}
class Ye extends Error {
  constructor(t, r) {
    super(t);
    _(this, "state");
    this.state = r;
  }
}
class xo extends Ye {
}
class _s extends Ye {
}
class ve extends Ye {
}
class te extends Ye {
}
class ys extends Ye {
  constructor(t, r, s) {
    super(t, s);
    _(this, "error");
    this.error = r;
  }
}
class So extends Ye {
  constructor(t, r, s) {
    super(t, s);
    _(this, "error");
    this.error = r;
  }
}
class vs extends Ye {
  constructor(t, r, s) {
    super(t, s);
    _(this, "result");
    this.result = r;
  }
}
class br extends Ye {
  constructor(t, r, s) {
    super(t, s);
    _(this, "result");
    this.result = r;
  }
}
function _t(n) {
  return typeof n == "object" && n !== null && "_def" in n && typeof n._def == "object" && n._def !== null && "typeName" in n._def && n._def.typeName === "ZodObject";
}
function Io(n) {
  return typeof n == "object" && n !== null && "input" in n && typeof n.input == "string";
}
function Bn(n) {
  if (n = n.replace(/\s/g, "_"), n = n.replace(/[^a-zA-Z0-9]/g, "_"), n.length === 0)
    throw new Error("Tool name cannot be empty");
  return n;
}
function Lr(n, e) {
  const t = (r) => JSON.parse(r);
  if (_t(n)) {
    const r = bo({
      name: e,
      parameters: n,
      function: () => {
      }
    });
    return {
      schema: r.parameters,
      parser: r.$parseRaw
    };
  } else if (typeof n == "object" && n !== null)
    return {
      schema: n,
      parser: t
    };
  throw new te("Input type is not a ZodObject or a valid JSON schema");
}
function ws(n) {
  if (n === "text")
    return "text";
  if (_t(n)) {
    const e = wo(n, "output");
    return {
      type: e.type,
      name: e.name,
      strict: e.strict || !1,
      schema: e.schema
    };
  }
  return n;
}
function To(n) {
  return n && n.__esModule && Object.prototype.hasOwnProperty.call(n, "default") ? n.default : n;
}
var In = { exports: {} }, sr, bs;
function ko() {
  if (bs) return sr;
  bs = 1;
  var n = 1e3, e = n * 60, t = e * 60, r = t * 24, s = r * 7, a = r * 365.25;
  sr = function(p, f) {
    f = f || {};
    var h = typeof p;
    if (h === "string" && p.length > 0)
      return i(p);
    if (h === "number" && isFinite(p))
      return f.long ? l(p) : u(p);
    throw new Error(
      "val is not a non-empty string or a valid number. val=" + JSON.stringify(p)
    );
  };
  function i(p) {
    if (p = String(p), !(p.length > 100)) {
      var f = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
        p
      );
      if (f) {
        var h = parseFloat(f[1]), b = (f[2] || "ms").toLowerCase();
        switch (b) {
          case "years":
          case "year":
          case "yrs":
          case "yr":
          case "y":
            return h * a;
          case "weeks":
          case "week":
          case "w":
            return h * s;
          case "days":
          case "day":
          case "d":
            return h * r;
          case "hours":
          case "hour":
          case "hrs":
          case "hr":
          case "h":
            return h * t;
          case "minutes":
          case "minute":
          case "mins":
          case "min":
          case "m":
            return h * e;
          case "seconds":
          case "second":
          case "secs":
          case "sec":
          case "s":
            return h * n;
          case "milliseconds":
          case "millisecond":
          case "msecs":
          case "msec":
          case "ms":
            return h;
          default:
            return;
        }
      }
    }
  }
  function u(p) {
    var f = Math.abs(p);
    return f >= r ? Math.round(p / r) + "d" : f >= t ? Math.round(p / t) + "h" : f >= e ? Math.round(p / e) + "m" : f >= n ? Math.round(p / n) + "s" : p + "ms";
  }
  function l(p) {
    var f = Math.abs(p);
    return f >= r ? c(p, f, r, "day") : f >= t ? c(p, f, t, "hour") : f >= e ? c(p, f, e, "minute") : f >= n ? c(p, f, n, "second") : p + " ms";
  }
  function c(p, f, h, b) {
    var y = f >= h * 1.5;
    return Math.round(p / h) + " " + b + (y ? "s" : "");
  }
  return sr;
}
var ar, xs;
function Ao() {
  if (xs) return ar;
  xs = 1;
  function n(e) {
    r.debug = r, r.default = r, r.coerce = c, r.disable = u, r.enable = a, r.enabled = l, r.humanize = ko(), r.destroy = p, Object.keys(e).forEach((f) => {
      r[f] = e[f];
    }), r.names = [], r.skips = [], r.formatters = {};
    function t(f) {
      let h = 0;
      for (let b = 0; b < f.length; b++)
        h = (h << 5) - h + f.charCodeAt(b), h |= 0;
      return r.colors[Math.abs(h) % r.colors.length];
    }
    r.selectColor = t;
    function r(f) {
      let h, b = null, y, w;
      function E(...R) {
        if (!E.enabled)
          return;
        const F = E, W = Number(/* @__PURE__ */ new Date()), J = W - (h || W);
        F.diff = J, F.prev = h, F.curr = W, h = W, R[0] = r.coerce(R[0]), typeof R[0] != "string" && R.unshift("%O");
        let G = 0;
        R[0] = R[0].replace(/%([a-zA-Z%])/g, (X, le) => {
          if (X === "%%")
            return "%";
          G++;
          const xe = r.formatters[le];
          if (typeof xe == "function") {
            const ge = R[G];
            X = xe.call(F, ge), R.splice(G, 1), G--;
          }
          return X;
        }), r.formatArgs.call(F, R), (F.log || r.log).apply(F, R);
      }
      return E.namespace = f, E.useColors = r.useColors(), E.color = r.selectColor(f), E.extend = s, E.destroy = r.destroy, Object.defineProperty(E, "enabled", {
        enumerable: !0,
        configurable: !1,
        get: () => b !== null ? b : (y !== r.namespaces && (y = r.namespaces, w = r.enabled(f)), w),
        set: (R) => {
          b = R;
        }
      }), typeof r.init == "function" && r.init(E), E;
    }
    function s(f, h) {
      const b = r(this.namespace + (typeof h > "u" ? ":" : h) + f);
      return b.log = this.log, b;
    }
    function a(f) {
      r.save(f), r.namespaces = f, r.names = [], r.skips = [];
      const h = (typeof f == "string" ? f : "").trim().replace(/\s+/g, ",").split(",").filter(Boolean);
      for (const b of h)
        b[0] === "-" ? r.skips.push(b.slice(1)) : r.names.push(b);
    }
    function i(f, h) {
      let b = 0, y = 0, w = -1, E = 0;
      for (; b < f.length; )
        if (y < h.length && (h[y] === f[b] || h[y] === "*"))
          h[y] === "*" ? (w = y, E = b, y++) : (b++, y++);
        else if (w !== -1)
          y = w + 1, E++, b = E;
        else
          return !1;
      for (; y < h.length && h[y] === "*"; )
        y++;
      return y === h.length;
    }
    function u() {
      const f = [
        ...r.names,
        ...r.skips.map((h) => "-" + h)
      ].join(",");
      return r.enable(""), f;
    }
    function l(f) {
      for (const h of r.skips)
        if (i(f, h))
          return !1;
      for (const h of r.names)
        if (i(f, h))
          return !0;
      return !1;
    }
    function c(f) {
      return f instanceof Error ? f.stack || f.message : f;
    }
    function p() {
      console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
    }
    return r.enable(r.load()), r;
  }
  return ar = n, ar;
}
var Ss;
function Co() {
  return Ss || (Ss = 1, (function(n, e) {
    e.formatArgs = r, e.save = s, e.load = a, e.useColors = t, e.storage = i(), e.destroy = /* @__PURE__ */ (() => {
      let l = !1;
      return () => {
        l || (l = !0, console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));
      };
    })(), e.colors = [
      "#0000CC",
      "#0000FF",
      "#0033CC",
      "#0033FF",
      "#0066CC",
      "#0066FF",
      "#0099CC",
      "#0099FF",
      "#00CC00",
      "#00CC33",
      "#00CC66",
      "#00CC99",
      "#00CCCC",
      "#00CCFF",
      "#3300CC",
      "#3300FF",
      "#3333CC",
      "#3333FF",
      "#3366CC",
      "#3366FF",
      "#3399CC",
      "#3399FF",
      "#33CC00",
      "#33CC33",
      "#33CC66",
      "#33CC99",
      "#33CCCC",
      "#33CCFF",
      "#6600CC",
      "#6600FF",
      "#6633CC",
      "#6633FF",
      "#66CC00",
      "#66CC33",
      "#9900CC",
      "#9900FF",
      "#9933CC",
      "#9933FF",
      "#99CC00",
      "#99CC33",
      "#CC0000",
      "#CC0033",
      "#CC0066",
      "#CC0099",
      "#CC00CC",
      "#CC00FF",
      "#CC3300",
      "#CC3333",
      "#CC3366",
      "#CC3399",
      "#CC33CC",
      "#CC33FF",
      "#CC6600",
      "#CC6633",
      "#CC9900",
      "#CC9933",
      "#CCCC00",
      "#CCCC33",
      "#FF0000",
      "#FF0033",
      "#FF0066",
      "#FF0099",
      "#FF00CC",
      "#FF00FF",
      "#FF3300",
      "#FF3333",
      "#FF3366",
      "#FF3399",
      "#FF33CC",
      "#FF33FF",
      "#FF6600",
      "#FF6633",
      "#FF9900",
      "#FF9933",
      "#FFCC00",
      "#FFCC33"
    ];
    function t() {
      if (typeof window < "u" && window.process && (window.process.type === "renderer" || window.process.__nwjs))
        return !0;
      if (typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))
        return !1;
      let l;
      return typeof document < "u" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
      typeof window < "u" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
      // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
      typeof navigator < "u" && navigator.userAgent && (l = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(l[1], 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
      typeof navigator < "u" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
    }
    function r(l) {
      if (l[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + l[0] + (this.useColors ? "%c " : " ") + "+" + n.exports.humanize(this.diff), !this.useColors)
        return;
      const c = "color: " + this.color;
      l.splice(1, 0, c, "color: inherit");
      let p = 0, f = 0;
      l[0].replace(/%[a-zA-Z%]/g, (h) => {
        h !== "%%" && (p++, h === "%c" && (f = p));
      }), l.splice(f, 0, c);
    }
    e.log = console.debug || console.log || (() => {
    });
    function s(l) {
      try {
        l ? e.storage.setItem("debug", l) : e.storage.removeItem("debug");
      } catch {
      }
    }
    function a() {
      let l;
      try {
        l = e.storage.getItem("debug") || e.storage.getItem("DEBUG");
      } catch {
      }
      return !l && typeof process < "u" && "env" in process && (l = process.env.DEBUG), l;
    }
    function i() {
      try {
        return localStorage;
      } catch {
      }
    }
    n.exports = Ao()(e);
    const { formatters: u } = n.exports;
    u.j = function(l) {
      try {
        return JSON.stringify(l);
      } catch (c) {
        return "[UnexpectedJSONParseError]: " + c.message;
      }
    };
  })(In, In.exports)), In.exports;
}
var Eo = Co();
const Oo = /* @__PURE__ */ To(Eo);
function la() {
  return $o();
}
function Is(n) {
  const e = la();
  return typeof e < "u" && (e[n] === "true" || e[n] === "1");
}
const pa = {
  get disabled() {
    return !0;
  }
}, fa = {
  get dontLogModelData() {
    return Is("OPENAI_AGENTS_DONT_LOG_MODEL_DATA");
  },
  get dontLogToolData() {
    return Is("OPENAI_AGENTS_DONT_LOG_TOOL_DATA");
  }
}, Ro = fa.dontLogModelData, No = fa.dontLogToolData;
function ha(n = "openai-agents") {
  return {
    namespace: n,
    debug: Oo(n),
    error: console.error,
    warn: console.warn,
    dontLogModelData: Ro,
    dontLogToolData: No
  };
}
const O = ha("openai-agents:core");
function Ke(n) {
  if (n == null)
    return String(n);
  if (typeof n == "string")
    return n;
  if (typeof n == "object")
    try {
      return JSON.stringify(n);
    } catch {
      return "[object with circular references]";
    }
  return String(n);
}
function Do(n, e) {
  return `An error occurred while running the tool. Please try again. Error: ${e instanceof Error ? e.toString() : String(e)}`;
}
function xr(n) {
  const e = n.name ? Bn(n.name) : Bn(n.execute.name), t = typeof n.errorFunction > "u" ? Do : n.errorFunction;
  if (!e)
    throw new Error("Tool name cannot be empty. Either name your function or provide a name in the options.");
  const r = n.strict ?? !0;
  if (!r && _t(n.parameters))
    throw new te("Strict mode is required for Zod parameters");
  const { parser: s, schema: a } = Lr(n.parameters, e);
  async function i(p, f, h) {
    const [b, y] = await jr(() => s(f));
    if (b !== null)
      throw O.dontLogToolData ? O.debug(`Invalid JSON input for tool ${e}`) : O.debug(`Invalid JSON input for tool ${e}: ${f}`), new ve("Invalid JSON input for tool");
    O.dontLogToolData ? O.debug(`Invoking tool ${e}`) : O.debug(`Invoking tool ${e} with input ${f}`);
    const w = await n.execute(y, p, h), E = Ke(w);
    return O.dontLogToolData ? O.debug(`Tool ${e} completed`) : O.debug(`Tool ${e} returned: ${E}`), w;
  }
  async function u(p, f, h) {
    return i(p, f, h).catch((b) => {
      if (t) {
        const y = Xt();
        return y == null || y.setError({
          message: "Error running tool (non-fatal)",
          data: {
            tool_name: e,
            error: b.toString()
          }
        }), t(p, b);
      }
      throw b;
    });
  }
  const l = typeof n.needsApproval == "function" ? n.needsApproval : async () => typeof n.needsApproval == "boolean" ? n.needsApproval : !1, c = typeof n.isEnabled == "function" ? async (p, f) => {
    const h = n.isEnabled;
    return !!await h({ runContext: p, agent: f });
  } : async () => typeof n.isEnabled == "boolean" ? n.isEnabled : !0;
  return {
    type: "function",
    name: e,
    description: n.description,
    parameters: a,
    strict: r,
    invoke: u,
    needsApproval: l,
    isEnabled: c
  };
}
m({
  name: d(),
  description: d().optional(),
  inputSchema: m({
    type: g("object"),
    properties: ee(d(), L()),
    required: U(d()),
    additionalProperties: lt()
  })
});
const ir = {};
async function Po({ server: n, convertSchemasToStrict: e, runContext: t, agent: r }) {
  return n.cacheToolsList && ir[n.name] ? ir[n.name].map((s) => Ts(s, n, e)) : Tu(async (s) => {
    const a = await n.listTools();
    let i = a;
    if (t && r) {
      const l = { runContext: t, agent: r, serverName: n.name }, c = [];
      for (const p of a) {
        const f = n.toolFilter;
        if (f)
          if (typeof f == "function") {
            if (!await f(l, p)) {
              O.debug(`MCP Tool (server: ${n.name}, tool: ${p.name}) is blocked by the callable filter.`);
              continue;
            }
          } else {
            const h = f.allowedToolNames ?? [], b = f.blockedToolNames ?? [];
            if (h.length > 0 || b.length > 0) {
              const y = h.length > 0 ? h.includes(p.name) : !0, w = b.length > 0 ? b.includes(p.name) : !1;
              if (!y || w) {
                w ? O.debug(`MCP Tool (server: ${n.name}, tool: ${p.name}) is blocked by the static filter.`) : y || O.debug(`MCP Tool (server: ${n.name}, tool: ${p.name}) is not allowed by the static filter.`);
                continue;
              }
            }
          }
        c.push(p);
      }
      i = c;
    }
    s.spanData.result = i.map((l) => l.name);
    const u = i.map((l) => Ts(l, n, e));
    return n.cacheToolsList && (ir[n.name] = i), u;
  }, { data: { server: n.name } });
}
async function Mo(n, e, t, r = !1) {
  const s = Array.isArray(n) ? {
    mcpServers: n,
    runContext: e,
    agent: t,
    convertSchemasToStrict: r
  } : n, { mcpServers: a, convertSchemasToStrict: i = !1, runContext: u, agent: l } = s, c = [], p = /* @__PURE__ */ new Set();
  for (const f of a) {
    const h = await Po({
      server: f,
      convertSchemasToStrict: i,
      runContext: u,
      agent: l
    }), y = [...new Set(h.map((w) => w.name))].filter((w) => p.has(w));
    if (y.length > 0)
      throw new te(`Duplicate tool names found across MCP servers: ${y.join(", ")}`);
    for (const w of h)
      p.add(w.name), c.push(w);
  }
  return c;
}
function Ts(n, e, t) {
  var i, u, l, c;
  async function r(p, f) {
    let h = {};
    typeof p == "string" && p ? h = JSON.parse(p) : typeof p == "object" && p != null && (h = p);
    const b = Xt();
    b && (b.spanData.mcp_data = { server: e.name });
    const y = await e.callTool(n.name, h);
    return y.length === 1 ? y[0] : y;
  }
  const s = {
    ...n.inputSchema,
    type: ((i = n.inputSchema) == null ? void 0 : i.type) ?? "object",
    properties: ((u = n.inputSchema) == null ? void 0 : u.properties) ?? {},
    required: ((l = n.inputSchema) == null ? void 0 : l.required) ?? [],
    additionalProperties: ((c = n.inputSchema) == null ? void 0 : c.additionalProperties) ?? !1
  };
  if (t || s.additionalProperties === !0)
    try {
      const p = jo(s);
      return xr({
        name: n.name,
        description: n.description || "",
        parameters: p,
        strict: !0,
        execute: r
      });
    } catch (p) {
      O.warn(`Error converting MCP schema to strict mode: ${p}`);
    }
  const a = {
    ...s,
    additionalProperties: !0
  };
  return xr({
    name: n.name,
    description: n.description || "",
    parameters: a,
    strict: !1,
    execute: r
  });
}
function jo(n) {
  const e = {
    ...n,
    additionalProperties: !1
  };
  return e.required || (e.required = []), e;
}
function $o() {
  return {};
}
var kt, tt;
class Wn {
  constructor() {
    I(this, kt, new EventTarget());
    I(this, tt, /* @__PURE__ */ new Map());
  }
  on(e, t) {
    const r = e;
    let s = o(this, tt).get(r);
    s || (s = /* @__PURE__ */ new Map(), o(this, tt).set(r, s));
    let a = s.get(t);
    a || (a = /* @__PURE__ */ new Set(), s.set(t, a));
    const i = ((u) => t(...u.detail ?? []));
    return a.add(i), o(this, kt).addEventListener(r, i), this;
  }
  off(e, t) {
    const r = e, s = o(this, tt).get(r), a = s == null ? void 0 : s.get(t);
    if (a != null && a.size) {
      for (const i of a)
        o(this, kt).removeEventListener(r, i);
      s == null || s.delete(t), (s == null ? void 0 : s.size) === 0 && o(this, tt).delete(r);
    }
    return this;
  }
  emit(e, ...t) {
    const r = new CustomEvent(e, { detail: t });
    return o(this, kt).dispatchEvent(r);
  }
  once(e, t) {
    const r = (...s) => {
      this.off(e, r), t(...s);
    };
    return this.on(e, r), this;
  }
}
kt = new WeakMap(), tt = new WeakMap();
const ma = () => typeof crypto < "u" && crypto.randomUUID ? crypto.randomUUID() : "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(n) {
  const e = Math.random() * 16 | 0;
  return (n === "x" ? e : e & 3 | 8).toString(16);
}), Fo = class {
  constructor() {
  }
  pipeTo(e, t) {
  }
  pipeThrough(e, t) {
  }
}, Lo = globalThis.ReadableStream, Zo = globalThis.TransformStream;
class Uo {
  constructor() {
    _(this, "context", null);
  }
  run(e, t) {
    return this.context = e, t();
  }
  getStore() {
    return this.context;
  }
  enterWith(e) {
    this.context = e;
  }
}
class qo {
  constructor() {
  }
  setTimeout(e, t) {
    const r = setTimeout(e, t);
    return r.ref = typeof r.ref == "function" ? r.ref : () => r, r.unref = typeof r.unref == "function" ? r.unref : () => r, r.hasRef = typeof r.hasRef == "function" ? r.hasRef : () => !0, r.refresh = typeof r.refresh == "function" ? r.refresh : () => r, r;
  }
  clearTimeout(e) {
    window.clearTimeout(e);
  }
}
const Jo = new qo();
class Zr {
  on(e, t) {
    return this.eventEmitter.on(e, t), this.eventEmitter;
  }
  off(e, t) {
    return this.eventEmitter.off(e, t), this.eventEmitter;
  }
  emit(e, ...t) {
    return this.eventEmitter.emit(e, ...t);
  }
  once(e, t) {
    return this.eventEmitter.once(e, t), this.eventEmitter;
  }
}
class Bo extends Zr {
  constructor() {
    super(...arguments);
    _(this, "eventEmitter", new Wn());
  }
}
class Go extends Zr {
  constructor() {
    super(...arguments);
    _(this, "eventEmitter", new Wn());
  }
}
const zo = "OPENAI_DEFAULT_MODEL";
function Kn(n) {
  return n.startsWith("gpt-5-chat") ? !1 : n.startsWith("gpt-5");
}
function ga() {
  return Kn(_a());
}
function _a() {
  var e;
  return ((e = la()[zo]) == null ? void 0 : e.toLowerCase()) ?? "gpt-4.1";
}
function Vo(n) {
  const e = _a();
  return Kn(e) ? {
    // We chose "low" instead of "minimal" because some of the built-in tools
    // (e.g., file search, image generation, etc.) do not support "minimal"
    // If you want to use "minimal" reasoning effort, you can pass your own model settings
    reasoning: { effort: "low" },
    text: { verbosity: "low" }
  } : {};
}
function ya(n) {
  return JSON.stringify({ assistant: n.name });
}
function Ho(n) {
  return `transfer_to_${Bn(n.name)}`;
}
function Wo(n) {
  return `Handoff to the ${n.name} agent to handle the request. ${n.handoffDescription ?? ""}`;
}
class va {
  constructor(e, t) {
    /**
     * The name of the tool that represents the handoff.
     */
    _(this, "toolName");
    /**
     * The description of the tool that represents the handoff.
     */
    _(this, "toolDescription");
    /**
     * The JSON schema for the handoff input. Can be empty if the handoff does not take an input
     */
    _(this, "inputJsonSchema", {
      type: "object",
      properties: {},
      required: [],
      additionalProperties: !1
    });
    /**
     * Whether the input JSON schema is in strict mode. We **strongly** recommend setting this to
     * true, as it increases the likelihood of correct JSON input.
     */
    _(this, "strictJsonSchema", !0);
    /**
     * The function that invokes the handoff. The parameters passed are:
     * 1. The handoff run context
     * 2. The arguments from the LLM, as a JSON string. Empty string if inputJsonSchema is empty.
     *
     * Must return an agent
     */
    _(this, "onInvokeHandoff");
    /**
     * The name of the agent that is being handed off to.
     */
    _(this, "agentName");
    /**
     * A function that filters the inputs that are passed to the next agent. By default, the new agent
     * sees the entire conversation history. In some cases, you may want to filter inputs e.g. to
     * remove older inputs, or remove tools from existing inputs.
     *
     * The function will receive the entire conversation hisstory so far, including the input item
     * that triggered the handoff and a tool call output item representing the handoff tool's output.
     *
     * You are free to modify the input history or new items as you see fit. The next agent that runs
     * will receive `handoffInputData.allItems
     */
    _(this, "inputFilter");
    /**
     * The agent that is being handed off to.
     */
    _(this, "agent");
    _(this, "isEnabled", async () => !0);
    this.agentName = e.name, this.onInvokeHandoff = t, this.toolName = Ho(e), this.toolDescription = Wo(e), this.agent = e;
  }
  /**
   * Returns a function tool definition that can be used to invoke the handoff.
   */
  getHandoffAsFunctionTool() {
    return {
      type: "function",
      name: this.toolName,
      description: this.toolDescription,
      parameters: this.inputJsonSchema,
      strict: this.strictJsonSchema
    };
  }
}
function wa(n, e = {}) {
  let t;
  const r = !!e.onHandoff, s = !!e.inputType;
  if (!(r === s))
    throw new te("You must provide either both `onHandoff` and `inputType` or neither.");
  async function i(l, c) {
    var p;
    if (t) {
      if (!c)
        throw Tt({
          message: `Handoff function expected non empty input but got: ${c}`,
          data: {
            details: "input is empty"
          }
        }), new ve("Handoff function expected non empty input");
      try {
        const f = await t(c);
        e.onHandoff && await e.onHandoff(l, f);
      } catch (f) {
        throw Tt({
          message: "Invalid JSON provided",
          data: {}
        }), O.dontLogToolData || O.error(`Invalid JSON when parsing: ${c}. Error: ${f}`), new ve("Invalid JSON provided");
      }
    } else
      await ((p = e.onHandoff) == null ? void 0 : p.call(e, l));
    return n;
  }
  const u = new va(n, i);
  if (typeof e.isEnabled == "function") {
    const l = e.isEnabled;
    u.isEnabled = async ({ runContext: c, agent: p }) => !!await l({ runContext: c, agent: p });
  } else typeof e.isEnabled == "boolean" && (u.isEnabled = async () => e.isEnabled);
  if (e.inputType) {
    const l = Lr(e.inputType, u.toolName);
    u.inputJsonSchema = l.schema, u.strictJsonSchema = !0, t = l.parser;
  }
  return e.toolNameOverride && (u.toolName = e.toolNameOverride), e.toolDescriptionOverride && (u.toolDescription = e.toolDescriptionOverride), e.inputFilter && (u.inputFilter = e.inputFilter), u;
}
function Ko(n) {
  return n instanceof va ? n : wa(n);
}
function ba(n) {
  if (n.type !== "message" || n.role !== "assistant")
    return;
  const e = n.content[n.content.length - 1];
  if (e.type === "output_text")
    return e.text;
}
function Yo(n) {
  return n.output.length === 0 ? "" : ba(n.output[n.output.length - 1]) || "";
}
const Sr = /* @__PURE__ */ new WeakMap();
function Xo(n, e) {
  n && Sr.set(n, e);
}
function Qo(n) {
  const e = Sr.get(n);
  return e && Sr.delete(n), e;
}
const eu = m({ input: d() }), It = class It extends Bo {
  constructor(t) {
    super();
    _(this, "name");
    _(this, "instructions");
    _(this, "prompt");
    _(this, "handoffDescription");
    _(this, "handoffs");
    _(this, "model");
    _(this, "modelSettings");
    _(this, "tools");
    _(this, "mcpServers");
    _(this, "inputGuardrails");
    _(this, "outputGuardrails");
    _(this, "outputType", "text");
    _(this, "toolUseBehavior");
    _(this, "resetToolChoice");
    if (typeof t.name != "string" || t.name.trim() === "")
      throw new te("Agent must have a name.");
    if (this.name = t.name, this.instructions = t.instructions ?? It.DEFAULT_MODEL_PLACEHOLDER, this.prompt = t.prompt, this.handoffDescription = t.handoffDescription ?? "", this.handoffs = t.handoffs ?? [], this.model = t.model ?? "", this.modelSettings = t.modelSettings ?? Vo(), this.tools = t.tools ?? [], this.mcpServers = t.mcpServers ?? [], this.inputGuardrails = t.inputGuardrails ?? [], this.outputGuardrails = t.outputGuardrails ?? [], t.outputType && (this.outputType = t.outputType), this.toolUseBehavior = t.toolUseBehavior ?? "run_llm_again", this.resetToolChoice = t.resetToolChoice ?? !0, // The user sets a non-default model
    t.model !== void 0 && // The default model is gpt-5
    ga() && // However, the specified model is not a gpt-5 model
    (typeof t.model != "string" || !Kn(t.model)) && // The model settings are not customized for the specified model
    t.modelSettings === void 0 && (this.modelSettings = {}), (t.handoffOutputTypeWarningEnabled === void 0 || t.handoffOutputTypeWarningEnabled) && this.handoffs && this.outputType) {
      const r = /* @__PURE__ */ new Set([JSON.stringify(this.outputType)]);
      for (const s of this.handoffs)
        "outputType" in s && s.outputType ? r.add(JSON.stringify(s.outputType)) : "agent" in s && s.agent.outputType && r.add(JSON.stringify(s.agent.outputType));
      r.size > 1 && O.warn(`[Agent] Warning: Handoff agents have different output types: ${Array.from(r).join(", ")}. You can make it type-safe by using Agent.create({ ... }) method instead.`);
    }
  }
  /**
   * Create an Agent with handoffs and automatically infer the union type for TOutput from the handoff agents' output types.
   */
  static create(t) {
    return new It({
      ...t,
      handoffs: t.handoffs,
      outputType: t.outputType,
      handoffOutputTypeWarningEnabled: !1
    });
  }
  /**
   * Output schema name.
   */
  get outputSchemaName() {
    if (this.outputType === "text")
      return "text";
    if (_t(this.outputType))
      return "ZodOutput";
    if (typeof this.outputType == "object")
      return this.outputType.name;
    throw new Error(`Unknown output type: ${this.outputType}`);
  }
  /**
   * Makes a copy of the agent, with the given arguments changed. For example, you could do:
   *
   * ```
   * const newAgent = agent.clone({ instructions: 'New instructions' })
   * ```
   *
   * @param config - A partial configuration to change.
   * @returns A new agent with the given changes.
   */
  clone(t) {
    return new It({
      ...this,
      ...t
    });
  }
  /**
   * Transform this agent into a tool, callable by other agents.
   *
   * This is different from handoffs in two ways:
   * 1. In handoffs, the new agent receives the conversation history. In this tool, the new agent
   *    receives generated input.
   * 2. In handoffs, the new agent takes over the conversation. In this tool, the new agent is
   *    called as a tool, and the conversation is continued by the original agent.
   *
   * @param options - Options for the tool.
   * @returns A tool that runs the agent and returns the output text.
   */
  asTool(t) {
    const { toolName: r, toolDescription: s, customOutputExtractor: a, needsApproval: i, runConfig: u, runOptions: l, isEnabled: c } = t;
    return xr({
      name: r ?? Bn(this.name),
      description: s ?? "",
      parameters: eu,
      strict: !0,
      needsApproval: i,
      isEnabled: c,
      execute: async (p, f, h) => {
        if (!Io(p))
          throw new ve("Agent tool called with invalid input");
        const y = await new Ju(u ?? {}).run(this, p.input, {
          context: f,
          ...l ?? {}
        }), w = typeof this.toolUseBehavior == "object" && this.toolUseBehavior !== null && "stopAtToolNames" in this.toolUseBehavior;
        typeof a != "function" && w && O.debug(`You're passing the agent (name: ${this.name}) with toolUseBehavior.stopAtToolNames configured as a tool to a different agent; this may not work as you expect. You may want to have a wrapper function tool to consistently return the final output.`);
        const E = typeof a == "function" ? await a(y) : Yo(y.rawResponses[y.rawResponses.length - 1]);
        return h != null && h.toolCall && Xo(h.toolCall, y), E;
      }
    });
  }
  /**
   * Returns the system prompt for the agent.
   *
   * If the agent has a function as its instructions, this function will be called with the
   * runContext and the agent instance.
   */
  async getSystemPrompt(t) {
    return typeof this.instructions == "function" ? await this.instructions(t, this) : this.instructions;
  }
  /**
   * Returns the prompt template for the agent, if defined.
   *
   * If the agent has a function as its prompt, this function will be called with the
   * runContext and the agent instance.
   */
  async getPrompt(t) {
    return typeof this.prompt == "function" ? await this.prompt(t, this) : this.prompt;
  }
  /**
   * Fetches the available tools from the MCP servers.
   * @returns the MCP powered tools
   */
  async getMcpTools(t) {
    return this.mcpServers.length > 0 ? Mo({
      mcpServers: this.mcpServers,
      runContext: t,
      agent: this,
      convertSchemasToStrict: !1
    }) : [];
  }
  /**
   * ALl agent tools, including the MCPl and function tools.
   *
   * @returns all configured tools
   */
  async getAllTools(t) {
    const r = await this.getMcpTools(t), s = [];
    for (const a of this.tools) {
      if (a.type === "function") {
        const i = a.isEnabled;
        if (!(typeof i == "function" ? await i(t, this) : typeof i == "boolean" ? i : !0))
          continue;
      }
      s.push(a);
    }
    return [...r, ...s];
  }
  /**
   * Returns the handoffs that should be exposed to the model for the current run.
   *
   * Handoffs that provide an `isEnabled` function returning `false` are omitted.
   */
  async getEnabledHandoffs(t) {
    var a;
    const r = ((a = this.handoffs) == null ? void 0 : a.map((i) => Ko(i))) ?? [], s = [];
    for (const i of r)
      await i.isEnabled({ runContext: t, agent: this }) && s.push(i);
    return s;
  }
  /**
   * Processes the final output of the agent.
   *
   * @param output - The output of the agent.
   * @returns The parsed out.
   */
  processFinalOutput(t) {
    if (this.outputType === "text")
      return t;
    if (typeof this.outputType == "object") {
      const r = JSON.parse(t);
      return _t(this.outputType) ? this.outputType.parse(r) : r;
    }
    throw new Error(`Unknown output type: ${this.outputType}`);
  }
  /**
   * Returns a JSON representation of the agent, which is serializable.
   *
   * @returns A JSON object containing the agent's name.
   */
  toJSON() {
    return {
      name: this.name
    };
  }
};
_(It, "DEFAULT_MODEL_PLACEHOLDER", "");
let yt = It;
function ks({ name: n, execute: e }) {
  return {
    type: "input",
    name: n,
    guardrailFunction: e,
    async run(t) {
      return {
        guardrail: { type: "input", name: n },
        output: await e(t)
      };
    }
  };
}
function Ir({ name: n, execute: e }) {
  return {
    type: "output",
    name: n,
    guardrailFunction: e,
    async run(t) {
      return {
        guardrail: { type: "output", name: n },
        agent: t.agent,
        agentOutput: t.agentOutput,
        output: await e(t)
      };
    }
  };
}
function tu() {
  throw new Error("No default model provider set. Make sure to set a provider using setDefaultModelProvider before calling getDefaultModelProvider or pass an explicit provider.");
}
const re = m({
  /**
   * Additional optional provider specific data. Used for custom functionality or model provider
   * specific fields.
   */
  providerData: ee(d(), L()).optional()
}), vt = re.extend({
  /**
   * An ID to identify the item. This is optional by default. If a model provider absolutely
   * requires this field, it will be validated on the model level.
   */
  id: d().optional()
}), nu = re.extend({
  type: g("refusal"),
  /**
   * The refusal explanation from the model.
   */
  refusal: d()
}), ru = re.extend({
  type: g("output_text"),
  /**
   * The text output from the model.
   */
  text: d()
}), xa = re.extend({
  type: g("input_text"),
  /**
   * A text input for example a message from a user
   */
  text: d()
}), su = re.extend({
  type: g("reasoning_text"),
  /**
   * A text input for example a message from a user
   */
  text: d()
}), au = re.extend({
  type: g("input_image"),
  /**
   * The image input to the model. Could be a URL, base64 or an object with a file ID.
   */
  image: d().or(m({
    id: d()
  })).describe("Could be a URL, base64 or an object with a file ID.")
}), iu = re.extend({
  type: g("input_file"),
  /**
   * The file input to the model. Could be a URL, base64 or an object with a file ID.
   */
  file: d().describe("Either base64 encoded file data or a publicly accessible file URL").or(m({
    id: d().describe("OpenAI file ID")
  })).or(m({
    url: d().describe("Publicly accessible PDF file URL")
  })).describe("Contents of the file or an object with a file ID.")
}), Sa = re.extend({
  type: g("audio"),
  /**
   * The audio input to the model. Could be base64 encoded audio data or an object with a file ID.
   */
  audio: d().or(m({
    id: d()
  })).describe("Base64 encoded audio data or file id"),
  /**
   * The format of the audio.
   */
  format: d().nullable().optional(),
  /**
   * The transcript of the audio.
   */
  transcript: d().nullable().optional()
}), ou = re.extend({
  type: g("image"),
  /**
   * The image input to the model. Could be base64 encoded image data or an object with a file ID.
   */
  image: d().describe("Base64 encoded image data")
}), uu = re.extend({
  type: g("text"),
  /**
   * The text output from the model.
   */
  text: d()
}), cu = re.extend({
  type: g("image"),
  /**
   * The image data. Could be base64 encoded image data or an object with a file ID.
   */
  data: d().describe("Base64 encoded image data"),
  /**
   * The media type of the image.
   */
  mediaType: d().describe("IANA media type of the image")
}), du = re.extend({
  type: g("computer_screenshot"),
  /**
   * A base64 encoded image data or a URL representing the screenshot.
   */
  data: d().describe("Base64 encoded image data or URL")
}), lu = me("type", [
  m({ type: g("screenshot") }),
  m({
    type: g("click"),
    x: A(),
    y: A(),
    button: ae(["left", "right", "wheel", "back", "forward"])
  }),
  m({
    type: g("double_click"),
    x: A(),
    y: A()
  }),
  m({
    type: g("scroll"),
    x: A(),
    y: A(),
    scroll_x: A(),
    scroll_y: A()
  }),
  m({
    type: g("type"),
    text: d()
  }),
  m({ type: g("wait") }),
  m({
    type: g("move"),
    x: A(),
    y: A()
  }),
  m({
    type: g("keypress"),
    keys: U(d())
  }),
  m({
    type: g("drag"),
    path: U(m({ x: A(), y: A() }))
  })
]), pu = me("type", [
  ru,
  nu,
  Sa,
  ou
]), Ur = vt.extend({
  /**
   * Any item without a type is treated as a message
   */
  type: g("message").optional()
}), Yn = Ur.extend({
  /**
   * Representing a message from the assistant (i.e. the model)
   */
  role: g("assistant"),
  /**
   * The status of the message.
   */
  status: ae(["in_progress", "completed", "incomplete"]),
  /**
   * The content of the message.
   */
  content: U(pu)
}), fu = me("type", [
  xa,
  au,
  iu,
  Sa
]), Ia = Ur.extend({
  // type: z.literal('message'),
  /**
   * Representing a message from the user
   */
  role: g("user"),
  /**
   * The content of the message.
   */
  content: U(fu).or(d())
}), Ta = Ur.extend({
  // type: z.literal('message'),
  /**
   * Representing a system message to the user
   */
  role: g("system"),
  /**
   * The content of the message.
   */
  content: d()
});
me("role", [
  Ta,
  Yn,
  Ia
]);
const Ht = vt.extend({
  type: g("hosted_tool_call"),
  /**
   * The name of the hosted tool. For example `web_search_call` or `file_search_call`
   */
  name: d().describe("The name of the hosted tool"),
  /**
   * The arguments of the hosted tool call.
   */
  arguments: d().describe("The arguments of the hosted tool call").optional(),
  /**
   * The status of the tool call.
   */
  status: d().optional(),
  /**
   * The primary output of the tool call. Additional output might be in the `providerData` field.
   */
  output: d().optional()
}), Wt = vt.extend({
  type: g("function_call"),
  /**
   * The ID of the tool call. Required to match up the respective tool call result.
   */
  callId: d().describe("The ID of the tool call"),
  /**
   * The name of the function.
   */
  name: d().describe("The name of the function"),
  /**
   * The status of the function call.
   */
  status: ae(["in_progress", "completed", "incomplete"]).optional(),
  /**
   * The arguments of the function call.
   */
  arguments: d()
}), Tr = vt.extend({
  type: g("function_call_result"),
  /**
   * The name of the tool that was called
   */
  name: d().describe("The name of the tool"),
  /**
   * The ID of the tool call. Required to match up the respective tool call result.
   */
  callId: d().describe("The ID of the tool call"),
  /**
   * The status of the tool call.
   */
  status: ae(["in_progress", "completed", "incomplete"]),
  /**
   * The output of the tool call.
   */
  output: me("type", [uu, cu])
}), qr = vt.extend({
  type: g("computer_call"),
  /**
   * The ID of the computer call. Required to match up the respective computer call result.
   */
  callId: d().describe("The ID of the computer call"),
  /**
   * The status of the computer call.
   */
  status: ae(["in_progress", "completed", "incomplete"]),
  /**
   * The action to be performed by the computer.
   */
  action: lu
}), hu = vt.extend({
  type: g("computer_call_result"),
  /**
   * The ID of the computer call. Required to match up the respective computer call result.
   */
  callId: d().describe("The ID of the computer call"),
  /**
   * The output of the computer call.
   */
  output: du
}), mu = me("type", [
  qr,
  Wt,
  Ht
]), Jr = re.extend({
  id: d().optional(),
  type: g("reasoning"),
  /**
   * The user facing representation of the reasoning. Additional information might be in the `providerData` field.
   */
  content: U(xa),
  /**
   * The raw reasoning text from the model.
   */
  rawContent: U(su).optional()
}), ka = vt.extend({
  type: g("unknown")
}), Br = me("type", [
  Yn,
  Ht,
  Wt,
  qr,
  Jr,
  ka
]), gu = ia([
  Ia,
  Yn,
  Ta,
  Ht,
  Wt,
  qr,
  Tr,
  hu,
  Jr,
  ka
]), _u = m({
  requests: A().optional(),
  inputTokens: A(),
  outputTokens: A(),
  totalTokens: A(),
  inputTokensDetails: ee(d(), A()).optional(),
  outputTokensDetails: ee(d(), A()).optional()
}), Aa = re.extend({
  type: g("output_text_delta"),
  /**
   * The delta text that was streamed by the modelto the user.
   */
  delta: d()
}), yu = re.extend({
  type: g("response_started")
}), Ca = re.extend({
  type: g("response_done"),
  /**
   * The response from the model.
   */
  response: re.extend({
    /**
     * The ID of the response.
     */
    id: d(),
    /**
     * The usage data for the response.
     */
    usage: _u,
    /**
     * The output from the model.
     */
    output: U(Br)
  })
}), vu = re.extend({
  type: g("model"),
  event: L().describe("The event from the model")
});
me("type", [
  Aa,
  Ca,
  yu,
  vu
]);
class Xn {
  constructor(e) {
    /**
     * The number of requests made to the LLM API.
     */
    _(this, "requests");
    /**
     * The number of input tokens used across all requests.
     */
    _(this, "inputTokens");
    /**
     * The number of output tokens used across all requests.
     */
    _(this, "outputTokens");
    /**
     * The total number of tokens sent and received, across all requests.
     */
    _(this, "totalTokens");
    /**
     * Details about the input tokens used across all requests.
     */
    _(this, "inputTokensDetails", []);
    /**
     * Details about the output tokens used across all requests.
     */
    _(this, "outputTokensDetails", []);
    if (typeof e > "u")
      this.requests = 0, this.inputTokens = 0, this.outputTokens = 0, this.totalTokens = 0, this.inputTokensDetails = [], this.outputTokensDetails = [];
    else {
      this.requests = (e == null ? void 0 : e.requests) ?? 1, this.inputTokens = (e == null ? void 0 : e.inputTokens) ?? (e == null ? void 0 : e.input_tokens) ?? 0, this.outputTokens = (e == null ? void 0 : e.outputTokens) ?? (e == null ? void 0 : e.output_tokens) ?? 0, this.totalTokens = (e == null ? void 0 : e.totalTokens) ?? (e == null ? void 0 : e.total_tokens) ?? 0;
      const t = (e == null ? void 0 : e.inputTokensDetails) ?? (e == null ? void 0 : e.input_tokens_details);
      this.inputTokensDetails = t ? [t] : [];
      const r = (e == null ? void 0 : e.outputTokensDetails) ?? (e == null ? void 0 : e.output_tokens_details);
      this.outputTokensDetails = r ? [r] : [];
    }
  }
  add(e) {
    this.requests += e.requests, this.inputTokens += e.inputTokens, this.outputTokens += e.outputTokens, this.totalTokens += e.totalTokens, e.inputTokensDetails && this.inputTokensDetails.push(...e.inputTokensDetails), e.outputTokensDetails && this.outputTokensDetails.push(...e.outputTokensDetails);
  }
}
var pe;
class St {
  constructor(e = {}) {
    /**
     * The context object you passed to the `Runner.run()` method.
     */
    _(this, "context");
    /**
     * The usage of the agent run so far. For streamed responses, the usage will be stale until the
     * last chunk of the stream is processed.
     */
    _(this, "usage");
    /**
     * A map of tool names to whether they have been approved.
     */
    I(this, pe);
    this.context = e, this.usage = new Xn(), v(this, pe, /* @__PURE__ */ new Map());
  }
  /**
   * Rebuild the approvals map from a serialized state.
   * @internal
   *
   * @param approvals - The approvals map to rebuild.
   */
  _rebuildApprovals(e) {
    v(this, pe, new Map(Object.entries(e)));
  }
  /**
   * Check if a tool call has been approved.
   *
   * @param approval - Details about the tool call being evaluated.
   * @returns `true` if the tool call has been approved, `false` if blocked and `undefined` if not yet approved or rejected.
   */
  isToolApproved(e) {
    const { toolName: t, callId: r } = e, s = o(this, pe).get(t);
    if ((s == null ? void 0 : s.approved) === !0 && s.rejected === !0)
      return O.warn("Tool is permanently approved and rejected at the same time. Approval takes precedence"), !0;
    if ((s == null ? void 0 : s.approved) === !0)
      return !0;
    if ((s == null ? void 0 : s.rejected) === !0)
      return !1;
    const a = Array.isArray(s == null ? void 0 : s.approved) ? s.approved.includes(r) : !1, i = Array.isArray(s == null ? void 0 : s.rejected) ? s.rejected.includes(r) : !1;
    if (a && i)
      return O.warn(`Tool call ${r} is both approved and rejected at the same time. Approval takes precedence`), !0;
    if (a)
      return !0;
    if (i)
      return !1;
  }
  /**
   * Approve a tool call.
   *
   * @param approvalItem - The tool approval item to approve.
   * @param options - Additional approval behavior options.
   */
  approveTool(e, { alwaysApprove: t = !1 } = {}) {
    const r = e.rawItem.name;
    if (t) {
      o(this, pe).set(r, {
        approved: !0,
        rejected: []
      });
      return;
    }
    const s = o(this, pe).get(r) ?? {
      approved: [],
      rejected: []
    };
    if (Array.isArray(s.approved)) {
      const a = "callId" in e.rawItem ? e.rawItem.callId : e.rawItem.id;
      s.approved.push(a);
    }
    o(this, pe).set(r, s);
  }
  /**
   * Reject a tool call.
   *
   * @param approvalItem - The tool approval item to reject.
   */
  rejectTool(e, { alwaysReject: t = !1 } = {}) {
    const r = e.rawItem.name;
    if (t) {
      o(this, pe).set(r, {
        approved: !1,
        rejected: !0
      });
      return;
    }
    const s = o(this, pe).get(r) ?? {
      approved: [],
      rejected: []
    };
    if (Array.isArray(s.rejected)) {
      const a = "callId" in e.rawItem ? e.rawItem.callId : e.rawItem.id;
      s.rejected.push(a);
    }
    o(this, pe).set(r, s);
  }
  toJSON() {
    return {
      context: this.context,
      usage: this.usage,
      approvals: Object.fromEntries(o(this, pe).entries())
    };
  }
}
pe = new WeakMap();
function As(n) {
  return n.type === "function" ? {
    type: "function",
    name: n.name,
    description: n.description,
    parameters: n.parameters,
    strict: n.strict
  } : n.type === "computer" ? {
    type: "computer",
    name: n.name,
    environment: n.computer.environment,
    dimensions: n.computer.dimensions
  } : {
    type: "hosted_tool",
    name: n.name,
    providerData: n.providerData
  };
}
function Cs(n) {
  return {
    toolName: n.toolName,
    toolDescription: n.toolDescription,
    inputJsonSchema: n.inputJsonSchema,
    strictJsonSchema: n.strictJsonSchema
  };
}
class wt {
  constructor() {
    _(this, "type", "base_item");
    _(this, "rawItem");
  }
  toJSON() {
    return {
      type: this.type,
      rawItem: this.rawItem
    };
  }
}
class Qn extends wt {
  constructor(t, r) {
    super();
    _(this, "rawItem");
    _(this, "agent");
    _(this, "type", "message_output_item");
    this.rawItem = t, this.agent = r;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON()
    };
  }
  get content() {
    let t = "";
    for (const r of this.rawItem.content)
      r.type === "output_text" && (t += r.text);
    return t;
  }
}
class pt extends wt {
  constructor(t, r) {
    super();
    _(this, "rawItem");
    _(this, "agent");
    _(this, "type", "tool_call_item");
    this.rawItem = t, this.agent = r;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON()
    };
  }
}
class qt extends wt {
  constructor(t, r, s) {
    super();
    _(this, "rawItem");
    _(this, "agent");
    _(this, "output");
    _(this, "type", "tool_call_output_item");
    this.rawItem = t, this.agent = r, this.output = s;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON(),
      output: Ke(this.output)
    };
  }
}
class Gr extends wt {
  constructor(t, r) {
    super();
    _(this, "rawItem");
    _(this, "agent");
    _(this, "type", "reasoning_item");
    this.rawItem = t, this.agent = r;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON()
    };
  }
}
class zr extends wt {
  constructor(t, r) {
    super();
    _(this, "rawItem");
    _(this, "agent");
    _(this, "type", "handoff_call_item");
    this.rawItem = t, this.agent = r;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON()
    };
  }
}
class Vr extends wt {
  constructor(t, r, s) {
    super();
    _(this, "rawItem");
    _(this, "sourceAgent");
    _(this, "targetAgent");
    _(this, "type", "handoff_output_item");
    this.rawItem = t, this.sourceAgent = r, this.targetAgent = s;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      sourceAgent: this.sourceAgent.toJSON(),
      targetAgent: this.targetAgent.toJSON()
    };
  }
}
class we extends wt {
  constructor(t, r) {
    super();
    _(this, "rawItem");
    _(this, "agent");
    _(this, "type", "tool_approval_item");
    this.rawItem = t, this.agent = r;
  }
  toJSON() {
    return {
      ...super.toJSON(),
      agent: this.agent.toJSON()
    };
  }
}
function er(n) {
  return async (e, ...t) => Rr(async () => {
    const r = n(...t);
    Cn(r);
    try {
      return r.start(), await e(r);
    } catch (s) {
      throw r.setError({
        message: s.message,
        data: s.data
      }), s;
    } finally {
      r.end(), Gt();
    }
  });
}
function Es(n, e) {
  var t;
  return Re().createSpan({
    ...n,
    data: {
      type: "agent",
      name: ((t = n == null ? void 0 : n.data) == null ? void 0 : t.name) ?? "Agent",
      ...n == null ? void 0 : n.data
    }
  }, e);
}
function wu(n, e) {
  var t, r;
  return Re().createSpan({
    ...n,
    data: {
      type: "function",
      input: ((t = n == null ? void 0 : n.data) == null ? void 0 : t.input) ?? "",
      output: ((r = n == null ? void 0 : n.data) == null ? void 0 : r.output) ?? "",
      ...n == null ? void 0 : n.data
    }
  }, e);
}
const Os = er(wu);
function bu(n, e) {
  return Re().createSpan({
    ...n,
    data: { type: "handoff", ...n == null ? void 0 : n.data }
  }, e);
}
const xu = er(bu);
function Su(n, e) {
  return Re().createSpan({
    ...n,
    data: {
      type: "guardrail",
      triggered: !1,
      ...n == null ? void 0 : n.data
    }
  }, e);
}
const Rs = er(Su);
function Iu(n, e) {
  return Re().createSpan({
    ...n,
    data: {
      type: "mcp_tools",
      ...n == null ? void 0 : n.data
    }
  }, e);
}
const Tu = er(Iu);
class ku {
  /**
   * @param data The raw responses stream events from the LLM.
   */
  constructor(e) {
    _(this, "data");
    /**
     * The type of the event.
     */
    _(this, "type", "raw_model_stream_event");
    this.data = e;
  }
}
class Au {
  /**
   * @param name The name of the event.
   * @param item The item that was created.
   */
  constructor(e, t) {
    _(this, "name");
    _(this, "item");
    _(this, "type", "run_item_stream_event");
    this.name = e, this.item = t;
  }
}
class Cu {
  /**
   * @param agent The new agent
   */
  constructor(e) {
    _(this, "agent");
    _(this, "type", "agent_updated_stream_event");
    this.agent = e;
  }
}
function Ns(n, e, t, r) {
  var y;
  const s = [], a = [], i = [], u = [], l = [], c = [], p = new Map(r.map((w) => [w.toolName, w])), f = new Map(t.filter((w) => w.type === "function").map((w) => [w.name, w])), h = t.find((w) => w.type === "computer"), b = new Map(t.filter((w) => {
    var E;
    return w.type === "hosted_tool" && ((E = w.providerData) == null ? void 0 : E.type) === "mcp";
  }).map((w) => w).map((w) => [w.providerData.server_label, w]));
  for (const w of n.output) {
    if (w.type === "message")
      w.role === "assistant" && s.push(new Qn(w, e));
    else if (w.type === "hosted_tool_call") {
      s.push(new pt(w, e));
      const R = w.name;
      if (c.push(R), ((y = w.providerData) == null ? void 0 : y.type) === "mcp_approval_request" || w.name === "mcp_approval_request") {
        const F = w.providerData, W = F.server_label, J = b.get(W);
        if (typeof J > "u") {
          const H = `MCP server (${W}) not found in Agent (${e.name})`;
          throw Tt({
            message: H,
            data: { mcp_server_label: W }
          }), new ve(H);
        }
        const G = new we({
          type: "hosted_tool_call",
          // We must use this name to align with the name sent from the servers
          name: F.name,
          id: F.id,
          status: "in_progress",
          providerData: F
        }, e);
        l.push({
          requestItem: G,
          mcpTool: J
        }), J.providerData.on_approval || s.push(G);
      }
    } else if (w.type === "reasoning")
      s.push(new Gr(w, e));
    else if (w.type === "computer_call") {
      if (s.push(new pt(w, e)), c.push("computer_use"), !h)
        throw Tt({
          message: "Model produced computer action without a computer tool.",
          data: {
            agent_name: e.name
          }
        }), new ve("Model produced computer action without a computer tool.");
      u.push({
        toolCall: w,
        computer: h
      });
    }
    if (w.type !== "function_call")
      continue;
    c.push(w.name);
    const E = p.get(w.name);
    if (E)
      s.push(new zr(w, e)), a.push({
        toolCall: w,
        handoff: E
      });
    else {
      const R = f.get(w.name);
      if (!R)
        throw Tt({
          message: `Tool ${w.name} not found in agent ${e.name}.`,
          data: {
            tool_name: w.name,
            agent_name: e.name
          }
        }), new ve(`Tool ${w.name} not found in agent ${e.name}.`);
      s.push(new pt(w, e)), i.push({
        toolCall: w,
        tool: R
      });
    }
  }
  return {
    newItems: s,
    handoffs: a,
    functions: i,
    computerActions: u,
    mcpApprovalRequests: l,
    toolsUsed: c,
    hasToolsOrApprovalsToRun() {
      return a.length > 0 || i.length > 0 || l.length > 0 || u.length > 0;
    }
  };
}
const Eu = me("type", [
  m({
    type: g("next_step_handoff"),
    newAgent: L()
  }),
  m({
    type: g("next_step_final_output"),
    output: d()
  }),
  m({
    type: g("next_step_run_again")
  }),
  m({
    type: g("next_step_interruption"),
    data: ee(d(), L())
  })
]);
class _e {
  constructor(e, t, r, s, a) {
    _(this, "originalInput");
    _(this, "modelResponse");
    _(this, "preStepItems");
    _(this, "newStepItems");
    _(this, "nextStep");
    this.originalInput = e, this.modelResponse = t, this.preStepItems = r, this.newStepItems = s, this.nextStep = a;
  }
  /**
   * The items generated during the agent run (i.e. everything generated after originalInput)
   */
  get generatedItems() {
    return this.preStepItems.concat(this.newStepItems);
  }
}
function Ds(n, e, t) {
  return n.resetToolChoice && e.hasUsedTools(n) ? { ...t, toolChoice: void 0 } : t;
}
async function Ps(n, e, t, r, s, a, i) {
  const u = t.filter((y) => y instanceof we && "callId" in y.rawItem && y.rawItem.type === "function_call").map((y) => y.rawItem.callId), l = s.functions.filter((y) => u.includes(y.toolCall.callId)), c = await Ea(n, l, a, i), p = c.map((y) => y.runItem), f = s.mcpApprovalRequests.filter((y) => {
    var w;
    return y.requestItem.type === "tool_approval_item" && y.requestItem.rawItem.type === "hosted_tool_call" && ((w = y.requestItem.rawItem.providerData) == null ? void 0 : w.type) === "mcp_approval_request";
  });
  for (const y of f) {
    const w = y.requestItem.rawItem.id, E = i._context.isToolApproved({
      // Since this item name must be the same with the one sent from Responses API server
      toolName: y.requestItem.rawItem.name,
      callId: w
    });
    if (typeof E < "u") {
      const R = {
        approve: E,
        approval_request_id: w,
        reason: void 0
      };
      p.push(new pt({
        type: "hosted_tool_call",
        name: "mcp_approval_response",
        providerData: R
      }, n));
    }
  }
  const h = await Oa(n, c, i), b = t.filter((y) => !(y instanceof we));
  return h.isFinalOutput ? (a.emit("agent_end", i._context, n, h.finalOutput), n.emit("agent_end", i._context, h.finalOutput), new _e(e, r, b, p, {
    type: "next_step_final_output",
    output: h.finalOutput
  })) : h.isInterrupted ? new _e(e, r, b, p, {
    type: "next_step_interruption",
    data: {
      interruptions: h.interruptions
    }
  }) : new _e(e, r, b, p, { type: "next_step_run_again" });
}
async function Ms(n, e, t, r, s, a, i) {
  var E, R, F, W;
  const u = t;
  let l = s.newItems;
  const [c, p] = await Promise.all([
    Ea(n, s.functions, a, i),
    Ru(n, s.computerActions, a, i._context)
  ]);
  if (l = l.concat(c.map((J) => J.runItem)), l = l.concat(p), s.mcpApprovalRequests.length > 0)
    for (const J of s.mcpApprovalRequests) {
      const G = J.mcpTool.providerData, H = J.requestItem.rawItem.providerData;
      if (G.on_approval) {
        const X = await G.on_approval(i._context, J.requestItem), le = {
          approve: X.approve,
          approval_request_id: H.id,
          reason: X.reason
        };
        l.push(new pt({
          type: "hosted_tool_call",
          name: "mcp_approval_response",
          providerData: le
        }, n));
      } else {
        l.push(J.requestItem);
        const X = {
          type: "hosted_mcp_tool_approval",
          tool: J.mcpTool,
          runItem: new we({
            type: "hosted_tool_call",
            name: H.name,
            id: H.id,
            arguments: H.arguments,
            status: "in_progress",
            providerData: H
          }, n)
        };
        c.push(X);
      }
    }
  if (s.handoffs.length > 0)
    return await Nu(n, e, u, l, r, s.handoffs, a, i._context);
  const f = await Oa(n, c, i);
  if (f.isFinalOutput)
    return a.emit("agent_end", i._context, n, f.finalOutput), n.emit("agent_end", i._context, f.finalOutput), new _e(e, r, u, l, {
      type: "next_step_final_output",
      output: f.finalOutput
    });
  if (f.isInterrupted)
    return new _e(e, r, u, l, {
      type: "next_step_interruption",
      data: {
        interruptions: f.interruptions
      }
    });
  if ((((E = s.functions) == null ? void 0 : E.length) ?? 0) > 0 || (((R = s.computerActions) == null ? void 0 : R.length) ?? 0) > 0 || (((F = s.mcpApprovalRequests) == null ? void 0 : F.length) ?? 0) > 0 || (((W = s.handoffs) == null ? void 0 : W.length) ?? 0) > 0)
    return new _e(e, r, u, l, { type: "next_step_run_again" });
  const b = l.filter((J) => J instanceof Qn), y = b.length > 0 ? ba(b[b.length - 1].rawItem) : void 0;
  if (typeof y > "u")
    return new _e(e, r, u, l, { type: "next_step_run_again" });
  if (!c.some((J) => J.runItem instanceof we)) {
    if (n.outputType === "text")
      return new _e(e, r, u, l, {
        type: "next_step_final_output",
        output: y
      });
    if (n.outputType !== "text" && y) {
      const { parser: J } = Lr(n.outputType, "final_output"), [G] = await jr(() => J(y));
      if (G)
        throw Tt({
          message: "Invalid output type",
          data: {
            error: String(G)
          }
        }), new ve("Invalid output type");
      return new _e(e, r, u, l, { type: "next_step_final_output", output: y });
    }
  }
  return new _e(e, r, u, l, { type: "next_step_run_again" });
}
function Gn(n, e) {
  return {
    type: "function_call_result",
    name: n.name,
    callId: n.callId,
    status: "completed",
    output: {
      type: "text",
      text: Ke(e)
    }
  };
}
async function Ea(n, e, t, r) {
  async function s(a) {
    let i = a.toolCall.arguments;
    if (a.tool.parameters && (_t(a.tool.parameters) ? i = a.tool.parameters.parse(i) : i = JSON.parse(i)), await a.tool.needsApproval(r._context, i, a.toolCall.callId)) {
      const l = r._context.isToolApproved({
        toolName: a.tool.name,
        callId: a.toolCall.callId
      });
      if (l === !1)
        return Os(async (c) => {
          const p = "Tool execution was not approved.";
          return c.setError({
            message: p,
            data: {
              tool_name: a.tool.name,
              error: `Tool execution for ${a.toolCall.callId} was manually rejected by user.`
            }
          }), c.spanData.output = p, {
            type: "function_output",
            tool: a.tool,
            output: p,
            runItem: new qt(Gn(a.toolCall, p), n, p)
          };
        }, {
          data: {
            name: a.tool.name
          }
        });
      if (l !== !0)
        return {
          type: "function_approval",
          tool: a.tool,
          runItem: new we(a.toolCall, n)
        };
    }
    return Os(async (l) => {
      t.config.traceIncludeSensitiveData && (l.spanData.input = a.toolCall.arguments);
      try {
        t.emit("agent_tool_start", r._context, n, a.tool, {
          toolCall: a.toolCall
        }), n.emit("agent_tool_start", r._context, a.tool, {
          toolCall: a.toolCall
        });
        const c = await a.tool.invoke(r._context, a.toolCall.arguments, { toolCall: a.toolCall }), p = Ke(c);
        t.emit("agent_tool_end", r._context, n, a.tool, p, { toolCall: a.toolCall }), n.emit("agent_tool_end", r._context, a.tool, p, { toolCall: a.toolCall }), t.config.traceIncludeSensitiveData && (l.spanData.output = p);
        const f = {
          type: "function_output",
          tool: a.tool,
          output: c,
          runItem: new qt(Gn(a.toolCall, c), n, c)
        }, h = Qo(a.toolCall);
        if (h) {
          f.agentRunResult = h;
          const b = h.interruptions;
          b.length > 0 && (f.interruptions = b);
        }
        return f;
      } catch (c) {
        throw l.setError({
          message: "Error running tool",
          data: {
            tool_name: a.tool.name,
            error: String(c)
          }
        }), c;
      }
    }, {
      data: {
        name: a.tool.name
      }
    });
  }
  try {
    return await Promise.all(e.map(s));
  } catch (a) {
    throw new So(`Failed to run function tools: ${a}`, a, r);
  }
}
async function Ou(n, e) {
  const t = e.action;
  let r;
  switch (t.type) {
    case "click":
      await n.click(t.x, t.y, t.button);
      break;
    case "double_click":
      await n.doubleClick(t.x, t.y);
      break;
    case "drag":
      await n.drag(t.path.map((s) => [s.x, s.y]));
      break;
    case "keypress":
      await n.keypress(t.keys);
      break;
    case "move":
      await n.move(t.x, t.y);
      break;
    case "screenshot":
      r = await n.screenshot();
      break;
    case "scroll":
      await n.scroll(t.x, t.y, t.scroll_x, t.scroll_y);
      break;
    case "type":
      await n.type(t.text);
      break;
    case "wait":
      await n.wait();
      break;
  }
  if (typeof r < "u" || typeof n.screenshot == "function" && (r = await n.screenshot(), typeof r < "u"))
    return r;
  throw new Error("Computer does not implement screenshot()");
}
async function Ru(n, e, t, r, s = void 0) {
  const a = s ?? O, i = [];
  for (const u of e) {
    const l = u.computer.computer, c = u.toolCall;
    t.emit("agent_tool_start", r, n, u.computer, {
      toolCall: c
    }), typeof n.emit == "function" && n.emit("agent_tool_start", r, u.computer, { toolCall: c });
    let p;
    try {
      p = await Ou(l, c);
    } catch (b) {
      a.error("Failed to execute computer action:", b), p = "";
    }
    t.emit("agent_tool_end", r, n, u.computer, p, {
      toolCall: c
    }), typeof n.emit == "function" && n.emit("agent_tool_end", r, u.computer, p, {
      toolCall: c
    });
    const f = p ? `data:image/png;base64,${p}` : "", h = {
      type: "computer_call_result",
      callId: c.callId,
      output: { type: "computer_screenshot", data: f }
    };
    i.push(new qt(h, n, f));
  }
  return i;
}
async function Nu(n, e, t, r, s, a, i, u) {
  if (r = [...r], a.length === 0)
    return O.warn("Incorrectly called executeHandoffCalls with no handoffs. This should not happen. Moving on."), new _e(e, s, t, r, { type: "next_step_run_again" });
  if (a.length > 1) {
    const c = "Multiple handoffs detected, ignoring this one.";
    for (let p = 1; p < a.length; p++)
      r.push(new qt(Gn(a[p].toolCall, c), n, c));
  }
  const l = a[0];
  return xu(async (c) => {
    const p = l.handoff, f = await p.onInvokeHandoff(u, l.toolCall.arguments);
    if (c.spanData.to_agent = f.name, a.length > 1) {
      const b = a.map((y) => y.handoff.agentName);
      c.setError({
        message: "Multiple handoffs requested",
        data: {
          requested_agents: b
        }
      });
    }
    r.push(new Vr(Gn(l.toolCall, ya(f)), n, f)), i.emit("agent_handoff", u, n, f), n.emit("agent_handoff", u, f);
    const h = p.inputFilter ?? i.config.handoffInputFilter;
    if (h) {
      O.debug("Filtering inputs for handoff"), typeof h != "function" && c.setError({
        message: "Invalid input filter",
        data: {
          details: "not callable"
        }
      });
      const b = {
        inputHistory: Array.isArray(e) ? [...e] : e,
        preHandoffItems: [...t],
        newItems: [...r],
        runContext: u
      }, y = h(b);
      e = y.inputHistory, t = y.preHandoffItems, r = y.newItems;
    }
    return new _e(e, s, t, r, { type: "next_step_handoff", newAgent: f });
  }, {
    data: {
      from_agent: n.name
    }
  });
}
const Tn = {
  isFinalOutput: !1,
  isInterrupted: void 0
};
async function Oa(n, e, t) {
  if (e.length === 0)
    return Tn;
  const r = [];
  for (const i of e)
    if (i.runItem instanceof we && r.push(i.runItem), i.type === "function_output") {
      if (Array.isArray(i.interruptions))
        r.push(...i.interruptions);
      else if (i.agentRunResult) {
        const u = i.agentRunResult.interruptions;
        u.length > 0 && r.push(...u);
      }
    }
  if (r.length > 0)
    return {
      isFinalOutput: !1,
      isInterrupted: !0,
      interruptions: r
    };
  if (n.toolUseBehavior === "run_llm_again")
    return Tn;
  const s = e[0];
  if (n.toolUseBehavior === "stop_on_first_tool")
    return (s == null ? void 0 : s.type) === "function_output" ? {
      isFinalOutput: !0,
      isInterrupted: void 0,
      finalOutput: Ke(s.output)
    } : Tn;
  const a = n.toolUseBehavior;
  if (typeof a == "object") {
    const i = e.find((u) => a.stopAtToolNames.includes(u.tool.name));
    return (i == null ? void 0 : i.type) === "function_output" ? {
      isFinalOutput: !0,
      isInterrupted: void 0,
      finalOutput: Ke(i.output)
    } : Tn;
  }
  if (typeof a == "function")
    return a(t._context, e);
  throw new te(`Invalid toolUseBehavior: ${a}`, t);
}
function Du(n) {
  if (n instanceof Qn)
    return "message_output_created";
  if (n instanceof zr)
    return "handoff_requested";
  if (n instanceof Vr)
    return "handoff_occurred";
  if (n instanceof pt)
    return "tool_called";
  if (n instanceof qt)
    return "tool_output";
  if (n instanceof Gr)
    return "reasoning_item_created";
  if (n instanceof we)
    return "tool_approval_requested";
}
function Ra(n, e) {
  const t = Du(e);
  if (!t) {
    O.warn("Unknown item type: ", e);
    return;
  }
  n._addItem(new Au(t, e));
}
function Pu(n, e) {
  for (const t of e)
    Ra(n, t);
}
function js(n, e, t) {
  const r = t == null ? void 0 : t.skipItems;
  for (const s of e.newStepItems)
    r != null && r.has(s) || Ra(n, s);
}
var At;
class $s {
  constructor() {
    I(this, At, /* @__PURE__ */ new Map());
  }
  addToolUse(e, t) {
    o(this, At).set(e, t);
  }
  hasUsedTools(e) {
    return o(this, At).has(e);
  }
  toJSON() {
    return Object.fromEntries(Array.from(o(this, At).entries()).map(([e, t]) => [e.name, t]));
  }
}
At = new WeakMap();
const An = "1.0", Mu = g(An), ke = m({
  name: d()
}), ju = m({
  object: g("trace.span"),
  id: d(),
  trace_id: d(),
  parent_id: d().nullable(),
  started_at: d().nullable(),
  ended_at: d().nullable(),
  error: m({
    message: d(),
    data: ee(d(), L()).optional()
  }).nullable(),
  span_data: ee(d(), L())
}), Na = ju.extend({
  previous_span: Mi(() => Na).optional()
}), Da = m({
  requests: A(),
  inputTokens: A(),
  outputTokens: A(),
  totalTokens: A()
}), Fs = m({
  usage: Da,
  output: U(Br),
  responseId: d().optional(),
  providerData: ee(d(), L()).optional()
}), Pa = me("type", [
  m({
    type: g("message_output_item"),
    rawItem: Yn,
    agent: ke
  }),
  m({
    type: g("tool_call_item"),
    rawItem: mu.or(Ht),
    agent: ke
  }),
  m({
    type: g("tool_call_output_item"),
    rawItem: Tr,
    agent: ke,
    output: d()
  }),
  m({
    type: g("reasoning_item"),
    rawItem: Jr,
    agent: ke
  }),
  m({
    type: g("handoff_call_item"),
    rawItem: Wt,
    agent: ke
  }),
  m({
    type: g("handoff_output_item"),
    rawItem: Tr,
    sourceAgent: ke,
    targetAgent: ke
  }),
  m({
    type: g("tool_approval_item"),
    rawItem: Wt.or(Ht),
    agent: ke
  })
]), $u = m({
  object: g("trace"),
  id: d(),
  workflow_name: d(),
  group_id: d().nullable(),
  metadata: ee(d(), L())
}), Fu = m({
  newItems: U(Pa),
  toolsUsed: U(d()),
  handoffs: U(m({
    toolCall: L(),
    handoff: L()
  })),
  functions: U(m({
    toolCall: L(),
    tool: L()
  })),
  computerActions: U(m({
    toolCall: L(),
    computer: L()
  })),
  mcpApprovalRequests: U(m({
    requestItem: m({
      // protocol.HostedToolCallItem
      rawItem: m({
        type: g("hosted_tool_call"),
        name: d(),
        arguments: d().optional(),
        status: d().optional(),
        output: d().optional(),
        // this always exists but marked as optional for early version compatibility; when releasing 1.0, we can remove the nullable and optional
        providerData: ee(d(), L()).nullable().optional()
      })
    }),
    // HostedMCPTool
    mcpTool: m({
      type: g("hosted_tool"),
      name: g("hosted_mcp"),
      providerData: ee(d(), L())
    })
  })).optional()
}), Ma = m({
  tripwireTriggered: lt(),
  outputInfo: L()
}), Lu = m({
  guardrail: m({
    type: g("input"),
    name: d()
  }),
  output: Ma
}), Zu = m({
  guardrail: m({
    type: g("output"),
    name: d()
  }),
  agentOutput: L(),
  agent: ke,
  output: Ma
}), Ls = m({
  $schemaVersion: Mu,
  currentTurn: A(),
  currentAgent: ke,
  originalInput: d().or(U(gu)),
  modelResponses: U(Fs),
  context: m({
    usage: Da,
    approvals: ee(d(), m({
      approved: U(d()).or(lt()),
      rejected: U(d()).or(lt())
    })),
    context: ee(d(), L())
  }),
  toolUseTracker: ee(d(), U(d())),
  maxTurns: A(),
  currentAgentSpan: Na.nullable().optional(),
  noActiveAgentRun: lt(),
  inputGuardrailResults: U(Lu),
  outputGuardrailResults: U(Zu),
  currentStep: Eu.optional(),
  lastModelResponse: Fs.optional(),
  generatedItems: U(Pa),
  lastProcessedResponse: Fu.optional(),
  trace: $u.nullable()
});
class et {
  constructor(e, t, r, s) {
    /**
     * Current turn number in the conversation.
     */
    _(this, "_currentTurn", 0);
    /**
     * The agent currently handling the conversation.
     */
    _(this, "_currentAgent");
    /**
     * Original user input prior to any processing.
     */
    _(this, "_originalInput");
    /**
     * Responses from the model so far.
     */
    _(this, "_modelResponses");
    /**
     * Active tracing span for the current agent if tracing is enabled.
     */
    _(this, "_currentAgentSpan");
    /**
     * Run context tracking approvals, usage, and other metadata.
     */
    _(this, "_context");
    /**
     * Tracks what tools each agent has used.
     */
    _(this, "_toolUseTracker");
    /**
     * Items generated by the agent during the run.
     */
    _(this, "_generatedItems");
    /**
     * Maximum allowed turns before forcing termination.
     */
    _(this, "_maxTurns");
    /**
     * Whether the run has an active agent step in progress.
     */
    _(this, "_noActiveAgentRun", !0);
    /**
     * Last model response for the previous turn.
     */
    _(this, "_lastTurnResponse");
    /**
     * Results from input guardrails applied to the run.
     */
    _(this, "_inputGuardrailResults");
    /**
     * Results from output guardrails applied to the run.
     */
    _(this, "_outputGuardrailResults");
    /**
     * Next step computed for the agent to take.
     */
    _(this, "_currentStep");
    /**
     * Parsed model response after applying guardrails and tools.
     */
    _(this, "_lastProcessedResponse");
    /**
     * Trace associated with this run if tracing is enabled.
     */
    _(this, "_trace", null);
    this._context = e, this._originalInput = structuredClone(t), this._modelResponses = [], this._currentAgentSpan = void 0, this._currentAgent = r, this._toolUseTracker = new $s(), this._generatedItems = [], this._maxTurns = s, this._inputGuardrailResults = [], this._outputGuardrailResults = [], this._trace = Yt();
  }
  /**
   * The history of the agent run. This includes the input items and the new items generated during the run.
   *
   * This can be used as inputs for the next agent run.
   */
  get history() {
    return Kt(this._originalInput, this._generatedItems);
  }
  /**
   * Returns all interruptions if the current step is an interruption otherwise returns an empty array.
   */
  getInterruptions() {
    var e;
    return ((e = this._currentStep) == null ? void 0 : e.type) !== "next_step_interruption" ? [] : this._currentStep.data.interruptions;
  }
  /**
   * Approves a tool call requested by the agent through an interruption and approval item request.
   *
   * To approve the request use this method and then run the agent again with the same state object
   * to continue the execution.
   *
   * By default it will only approve the current tool call. To allow the tool to be used multiple
   * times throughout the run, set the `alwaysApprove` option to `true`.
   *
   * @param approvalItem - The tool call approval item to approve.
   * @param options - Options for the approval.
   */
  approve(e, t = { alwaysApprove: !1 }) {
    this._context.approveTool(e, t);
  }
  /**
   * Rejects a tool call requested by the agent through an interruption and approval item request.
   *
   * To reject the request use this method and then run the agent again with the same state object
   * to continue the execution.
   *
   * By default it will only reject the current tool call. To allow the tool to be used multiple
   * times throughout the run, set the `alwaysReject` option to `true`.
   *
   * @param approvalItem - The tool call approval item to reject.
   * @param options - Options for the rejection.
   */
  reject(e, t = { alwaysReject: !1 }) {
    this._context.rejectTool(e, t);
  }
  /**
   * Serializes the run state to a JSON object.
   *
   * This method is used to serialize the run state to a JSON object that can be used to
   * resume the run later.
   *
   * @returns The serialized run state.
   */
  toJSON() {
    var r;
    const e = {
      $schemaVersion: An,
      currentTurn: this._currentTurn,
      currentAgent: {
        name: this._currentAgent.name
      },
      originalInput: this._originalInput,
      modelResponses: this._modelResponses.map((s) => ({
        usage: {
          requests: s.usage.requests,
          inputTokens: s.usage.inputTokens,
          outputTokens: s.usage.outputTokens,
          totalTokens: s.usage.totalTokens
        },
        output: s.output,
        responseId: s.responseId,
        providerData: s.providerData
      })),
      context: this._context.toJSON(),
      toolUseTracker: this._toolUseTracker.toJSON(),
      maxTurns: this._maxTurns,
      currentAgentSpan: (r = this._currentAgentSpan) == null ? void 0 : r.toJSON(),
      noActiveAgentRun: this._noActiveAgentRun,
      inputGuardrailResults: this._inputGuardrailResults,
      outputGuardrailResults: this._outputGuardrailResults.map((s) => ({
        ...s,
        agent: s.agent.toJSON()
      })),
      currentStep: this._currentStep,
      lastModelResponse: this._lastTurnResponse,
      generatedItems: this._generatedItems.map((s) => s.toJSON()),
      lastProcessedResponse: this._lastProcessedResponse,
      trace: this._trace ? this._trace.toJSON() : null
    }, t = Ls.safeParse(e);
    if (!t.success)
      throw new xo(`Failed to serialize run state. ${t.error.message}`);
    return t.data;
  }
  /**
   * Serializes the run state to a string.
   *
   * This method is used to serialize the run state to a string that can be used to
   * resume the run later.
   *
   * @returns The serialized run state.
   */
  toString() {
    return JSON.stringify(this.toJSON());
  }
  /**
   * Deserializes a run state from a string.
   *
   * This method is used to deserialize a run state from a string that was serialized using the
   * `toString` method.
   */
  static async fromString(e, t) {
    var f, h, b, y, w;
    const [r, s] = await jr(() => JSON.parse(t));
    if (r)
      throw new te(`Failed to parse run state. ${r instanceof Error ? r.message : String(r)}`);
    const a = s.$schemaVersion;
    if (!a)
      throw new te("Run state is missing schema version");
    if (a !== An)
      throw new te(`Run state schema version ${a} is not supported. Please use version ${An}`);
    const i = Ls.parse(JSON.parse(t)), u = Uu(e), l = new St(i.context.context);
    l._rebuildApprovals(i.context.approvals);
    const c = u.get(i.currentAgent.name);
    if (!c)
      throw new te(`Agent ${i.currentAgent.name} not found`);
    const p = new et(l, "", c, i.maxTurns);
    p._currentTurn = i.currentTurn, p._toolUseTracker = new $s();
    for (const [E, R] of Object.entries(i.toolUseTracker))
      p._toolUseTracker.addToolUse(u.get(E), R);
    if (i.currentAgentSpan) {
      i.trace || O.warn("Trace is not set, skipping tracing setup");
      const E = Re().createTrace({
        traceId: (f = i.trace) == null ? void 0 : f.id,
        name: (h = i.trace) == null ? void 0 : h.workflow_name,
        groupId: ((b = i.trace) == null ? void 0 : b.group_id) ?? void 0,
        metadata: (y = i.trace) == null ? void 0 : y.metadata
      });
      p._currentAgentSpan = ja(E, i.currentAgentSpan), p._trace = E;
    }
    return p._noActiveAgentRun = i.noActiveAgentRun, p._inputGuardrailResults = i.inputGuardrailResults, p._outputGuardrailResults = i.outputGuardrailResults.map((E) => ({
      ...E,
      agent: u.get(E.agent.name)
    })), p._currentStep = i.currentStep, p._originalInput = i.originalInput, p._modelResponses = i.modelResponses.map(Zs), p._lastTurnResponse = i.lastModelResponse ? Zs(i.lastModelResponse) : void 0, p._generatedItems = i.generatedItems.map((E) => $a(E, u)), p._lastProcessedResponse = i.lastProcessedResponse ? await qu(u, p._currentAgent, p._context, i.lastProcessedResponse) : void 0, ((w = i.currentStep) == null ? void 0 : w.type) === "next_step_handoff" && (p._currentStep = {
      type: "next_step_handoff",
      newAgent: u.get(i.currentStep.newAgent.name)
    }), p;
  }
}
function Uu(n) {
  const e = /* @__PURE__ */ new Map(), t = [n];
  for (; t.length > 0; ) {
    const r = t.shift();
    if (!e.has(r.name)) {
      e.set(r.name, r);
      for (const s of r.handoffs)
        s instanceof yt ? e.has(s.name) || t.push(s) : s.agent && (e.has(s.agent.name) || t.push(s.agent));
    }
  }
  return e;
}
function ja(n, e) {
  const t = e.span_data, r = e.previous_span ? ja(n, e.previous_span) : void 0, s = Re().createSpan({
    spanId: e.id,
    traceId: e.trace_id,
    parentId: e.parent_id ?? void 0,
    startedAt: e.started_at ?? void 0,
    endedAt: e.ended_at ?? void 0,
    data: t
  }, n);
  return s.previousSpan = r, s;
}
function Zs(n) {
  const e = new Xn();
  return e.requests = n.usage.requests, e.inputTokens = n.usage.inputTokens, e.outputTokens = n.usage.outputTokens, e.totalTokens = n.usage.totalTokens, {
    usage: e,
    output: n.output.map((t) => Br.parse(t)),
    responseId: n.responseId,
    providerData: n.providerData
  };
}
function $a(n, e) {
  switch (n.type) {
    case "message_output_item":
      return new Qn(n.rawItem, e.get(n.agent.name));
    case "tool_call_item":
      return new pt(n.rawItem, e.get(n.agent.name));
    case "tool_call_output_item":
      return new qt(n.rawItem, e.get(n.agent.name), n.output);
    case "reasoning_item":
      return new Gr(n.rawItem, e.get(n.agent.name));
    case "handoff_call_item":
      return new zr(n.rawItem, e.get(n.agent.name));
    case "handoff_output_item":
      return new Vr(n.rawItem, e.get(n.sourceAgent.name), e.get(n.targetAgent.name));
    case "tool_approval_item":
      return new we(n.rawItem, e.get(n.agent.name));
  }
}
async function qu(n, e, t, r) {
  const s = await e.getAllTools(t), a = new Map(s.filter((c) => c.type === "function").map((c) => [c.name, c])), i = new Map(s.filter((c) => c.type === "computer").map((c) => [c.name, c])), u = new Map(e.handoffs.map((c) => c instanceof yt ? [c.name, wa(c)] : [c.toolName, c])), l = {
    newItems: r.newItems.map((c) => $a(c, n)),
    toolsUsed: r.toolsUsed,
    handoffs: r.handoffs.map((c) => {
      if (!u.has(c.handoff.toolName))
        throw new te(`Handoff ${c.handoff.toolName} not found`);
      return {
        toolCall: c.toolCall,
        handoff: u.get(c.handoff.toolName)
      };
    }),
    functions: await Promise.all(r.functions.map(async (c) => {
      if (!a.has(c.tool.name))
        throw new te(`Tool ${c.tool.name} not found`);
      return {
        toolCall: c.toolCall,
        tool: a.get(c.tool.name)
      };
    })),
    computerActions: r.computerActions.map((c) => {
      const p = c.computer.name;
      if (!i.has(p))
        throw new te(`Computer tool ${p} not found`);
      return {
        toolCall: c.toolCall,
        computer: i.get(p)
      };
    }),
    mcpApprovalRequests: (r.mcpApprovalRequests ?? []).map((c) => ({
      requestItem: new we(c.requestItem.rawItem, e),
      mcpTool: c.mcpTool
    }))
  };
  return {
    ...l,
    hasToolsOrApprovalsToRun() {
      return l.handoffs.length > 0 || l.functions.length > 0 || l.mcpApprovalRequests.length > 0 || l.computerActions.length > 0;
    }
  };
}
const Us = 10;
function qs(n, e) {
  return n ? !1 : e ? !0 : "enabled_without_data";
}
function kr(n) {
  return typeof n == "string" ? [{ type: "message", role: "user", content: n }] : [...n];
}
class Js {
  constructor({ conversationId: e, previousResponseId: t }) {
    // Conversation ID:
    // - https://platform.openai.com/docs/guides/conversation-state?api-mode=responses#using-the-conversations-api
    // - https://platform.openai.com/docs/api-reference/conversations/create
    _(this, "conversationId");
    // Previous Response ID:
    // https://platform.openai.com/docs/guides/conversation-state?api-mode=responses#passing-context-from-the-previous-response
    _(this, "previousResponseId");
    // Using this flag because WeakSet does not provide a way to check its size
    _(this, "sentInitialInput", !1);
    // The items already sent to the model; using WeakSet for memory efficiency
    _(this, "sentItems", /* @__PURE__ */ new WeakSet());
    // The items received from the server; using WeakSet for memory efficiency
    _(this, "serverItems", /* @__PURE__ */ new WeakSet());
    this.conversationId = e ?? void 0, this.previousResponseId = t ?? void 0;
  }
  /**
   * Pre-populates tracker caches from an existing RunState when resuming server-managed runs.
   */
  primeFromState({ originalInput: e, generatedItems: t, modelResponses: r }) {
    if (this.sentInitialInput)
      return;
    for (const a of kr(e))
      a && typeof a == "object" && this.sentItems.add(a);
    this.sentInitialInput = !0;
    const s = r[r.length - 1];
    for (const a of r)
      for (const i of a.output)
        i && typeof i == "object" && this.serverItems.add(i);
    !this.conversationId && (s != null && s.responseId) && (this.previousResponseId = s.responseId);
    for (const a of t) {
      const i = a.rawItem;
      !i || typeof i != "object" || this.serverItems.has(i) && this.sentItems.add(i);
    }
  }
  trackServerItems(e) {
    if (e) {
      for (const t of e.output)
        t && typeof t == "object" && this.serverItems.add(t);
      !this.conversationId && this.previousResponseId !== void 0 && e.responseId && (this.previousResponseId = e.responseId);
    }
  }
  prepareInput(e, t) {
    const r = [];
    if (!this.sentInitialInput) {
      const s = kr(e);
      for (const a of s)
        r.push(a), a && typeof a == "object" && this.sentItems.add(a);
      this.sentInitialInput = !0;
    }
    for (const s of t) {
      if (s.type === "tool_approval_item")
        continue;
      const a = s.rawItem;
      !a || typeof a != "object" || this.sentItems.has(a) || this.serverItems.has(a) || (r.push(a), this.sentItems.add(a));
    }
    return r;
  }
}
function Kt(n, e) {
  const t = e.filter((r) => r.type !== "tool_approval_item").map((r) => r.rawItem);
  return [...kr(n), ...t];
}
var oe, Ar, Cr, Er, Fa, Or;
class Ju extends Go {
  constructor(t = {}) {
    super();
    I(this, oe);
    _(this, "config");
    _(this, "inputGuardrailDefs");
    _(this, "outputGuardrailDefs");
    this.config = {
      modelProvider: t.modelProvider ?? tu(),
      model: t.model,
      modelSettings: t.modelSettings,
      handoffInputFilter: t.handoffInputFilter,
      inputGuardrails: t.inputGuardrails,
      outputGuardrails: t.outputGuardrails,
      tracingDisabled: t.tracingDisabled ?? !1,
      traceIncludeSensitiveData: t.traceIncludeSensitiveData ?? !0,
      workflowName: t.workflowName ?? "Agent workflow",
      traceId: t.traceId,
      groupId: t.groupId,
      traceMetadata: t.traceMetadata
    }, this.inputGuardrailDefs = (t.inputGuardrails ?? []).map(ks), this.outputGuardrailDefs = (t.outputGuardrails ?? []).map(Ir);
  }
  run(t, r, s = {
    stream: !1,
    context: void 0
  }) {
    return r instanceof et && r._trace ? Bu(r._trace, async () => (r._currentAgentSpan && Cn(r._currentAgentSpan), s != null && s.stream ? $(this, oe, Or).call(this, t, r, s) : $(this, oe, Ar).call(this, t, r, s))) : Gu(async () => s != null && s.stream ? $(this, oe, Or).call(this, t, r, s) : $(this, oe, Ar).call(this, t, r, s), {
      traceId: this.config.traceId,
      name: this.config.workflowName,
      groupId: this.config.groupId,
      metadata: this.config.traceMetadata
    });
  }
}
oe = new WeakSet(), Ar = async function(t, r, s) {
  return Rr(async () => {
    var l, c;
    const a = r instanceof et, i = a ? r : new et(s.context instanceof St ? s.context : new St(s.context), r, t, s.maxTurns ?? Us), u = s.conversationId || s.previousResponseId ? new Js({
      conversationId: s.conversationId,
      previousResponseId: s.previousResponseId
    }) : void 0;
    u && a && u.primeFromState({
      originalInput: i._originalInput,
      generatedItems: i._generatedItems,
      modelResponses: i._modelResponses
    });
    try {
      for (; ; ) {
        const p = i._currentAgent.model !== void 0 && i._currentAgent.model !== "" || this.config.model !== void 0 && this.config.model !== "";
        let f = Bs(i._currentAgent.model, this.config.model);
        if (typeof f == "string" && (f = await this.config.modelProvider.getModel(f)), i._currentStep = i._currentStep ?? {
          type: "next_step_run_again"
        }, i._currentStep.type === "next_step_interruption") {
          if (O.debug("Continuing from interruption"), !i._lastTurnResponse || !i._lastProcessedResponse)
            throw new te("No model response found in previous state", i);
          const h = await Ps(i._currentAgent, i._originalInput, i._generatedItems, i._lastTurnResponse, i._lastProcessedResponse, this, i);
          if (i._toolUseTracker.addToolUse(i._currentAgent, i._lastProcessedResponse.toolsUsed), i._originalInput = h.originalInput, i._generatedItems = h.generatedItems, i._currentStep = h.nextStep, h.nextStep.type === "next_step_interruption")
            return new or(i);
          continue;
        }
        if (i._currentStep.type === "next_step_run_again") {
          const h = await i._currentAgent.getEnabledHandoffs(i._context);
          if (!i._currentAgentSpan) {
            const X = h.map((le) => le.agentName);
            i._currentAgentSpan = Es({
              data: {
                name: i._currentAgent.name,
                handoffs: X,
                output_type: i._currentAgent.outputSchemaName
              }
            }), i._currentAgentSpan.start(), Cn(i._currentAgentSpan);
          }
          const b = await i._currentAgent.getAllTools(i._context), y = b.map((X) => As(X)), w = h.map((X) => Cs(X));
          if (i._currentAgentSpan && (i._currentAgentSpan.spanData.tools = b.map((X) => X.name)), i._currentTurn++, i._currentTurn > i._maxTurns)
            throw (l = i._currentAgentSpan) == null || l.setError({
              message: "Max turns exceeded",
              data: { max_turns: i._maxTurns }
            }), new _s(`Max turns (${i._maxTurns}) exceeded`, i);
          O.debug(`Running agent ${i._currentAgent.name} (turn ${i._currentTurn})`), i._currentTurn === 1 && await $(this, oe, Cr).call(this, i);
          const E = u ? u.prepareInput(i._originalInput, i._generatedItems) : Kt(i._originalInput, i._generatedItems);
          i._noActiveAgentRun && (i._currentAgent.emit("agent_start", i._context, i._currentAgent), this.emit("agent_start", i._context, i._currentAgent));
          let R = {
            ...this.config.modelSettings,
            ...i._currentAgent.modelSettings
          };
          const F = i._currentAgent.modelSettings;
          R = Gs(p, F, f, R), R = Ds(i._currentAgent, i._toolUseTracker, R);
          const W = (u == null ? void 0 : u.previousResponseId) ?? s.previousResponseId, J = (u == null ? void 0 : u.conversationId) ?? s.conversationId;
          i._lastTurnResponse = await f.getResponse({
            systemInstructions: await i._currentAgent.getSystemPrompt(i._context),
            prompt: await i._currentAgent.getPrompt(i._context),
            // Explicit agent/run config models should take precedence over prompt defaults.
            ...p ? { overridePromptModel: !0 } : {},
            input: E,
            previousResponseId: W,
            conversationId: J,
            modelSettings: R,
            tools: y,
            outputType: ws(i._currentAgent.outputType),
            handoffs: w,
            tracing: qs(this.config.tracingDisabled, this.config.traceIncludeSensitiveData),
            signal: s.signal
          }), i._modelResponses.push(i._lastTurnResponse), i._context.usage.add(i._lastTurnResponse.usage), i._noActiveAgentRun = !1, u == null || u.trackServerItems(i._lastTurnResponse);
          const G = Ns(i._lastTurnResponse, i._currentAgent, b, h);
          i._lastProcessedResponse = G;
          const H = await Ms(i._currentAgent, i._originalInput, i._generatedItems, i._lastTurnResponse, i._lastProcessedResponse, this, i);
          i._toolUseTracker.addToolUse(i._currentAgent, i._lastProcessedResponse.toolsUsed), i._originalInput = H.originalInput, i._generatedItems = H.generatedItems, i._currentStep = H.nextStep;
        }
        if (i._currentStep && i._currentStep.type === "next_step_final_output")
          return await $(this, oe, Er).call(this, i, i._currentStep.output), this.emit("agent_end", i._context, i._currentAgent, i._currentStep.output), i._currentAgent.emit("agent_end", i._context, i._currentStep.output), new or(i);
        if (i._currentStep && i._currentStep.type === "next_step_handoff")
          i._currentAgent = i._currentStep.newAgent, i._currentAgentSpan && (i._currentAgentSpan.end(), Gt(), i._currentAgentSpan = void 0), i._noActiveAgentRun = !0, i._currentStep = { type: "next_step_run_again" };
        else {
          if (i._currentStep && i._currentStep.type === "next_step_interruption")
            return new or(i);
          O.debug("Running next loop");
        }
      }
    } catch (p) {
      throw i._currentAgentSpan && i._currentAgentSpan.setError({
        message: "Error in agent run",
        data: { error: String(p) }
      }), p;
    } finally {
      i._currentAgentSpan && (((c = i._currentStep) == null ? void 0 : c.type) !== "next_step_interruption" && i._currentAgentSpan.end(), Gt());
    }
  });
}, Cr = async function(t) {
  const r = this.inputGuardrailDefs.concat(t._currentAgent.inputGuardrails.map(ks));
  if (r.length > 0) {
    const s = {
      agent: t._currentAgent,
      input: t._originalInput,
      context: t._context
    };
    try {
      const a = await Promise.all(r.map(async (i) => Rs(async (u) => {
        const l = await i.run(s);
        return u.spanData.triggered = l.output.tripwireTriggered, l;
      }, { data: { name: i.name } }, t._currentAgentSpan)));
      for (const i of a)
        if (i.output.tripwireTriggered)
          throw t._currentAgentSpan && t._currentAgentSpan.setError({
            message: "Guardrail tripwire triggered",
            data: { guardrail: i.guardrail.name }
          }), new vs(`Input guardrail triggered: ${JSON.stringify(i.output.outputInfo)}`, i, t);
    } catch (a) {
      throw a instanceof vs ? a : (t._currentTurn--, new ys(`Input guardrail failed to complete: ${a}`, a, t));
    }
  }
}, Er = async function(t, r) {
  const s = this.outputGuardrailDefs.concat(t._currentAgent.outputGuardrails.map(Ir));
  if (s.length > 0) {
    const a = t._currentAgent.processFinalOutput(r), i = {
      agent: t._currentAgent,
      agentOutput: a,
      context: t._context,
      details: { modelResponse: t._lastTurnResponse }
    };
    try {
      const u = await Promise.all(s.map(async (l) => Rs(async (c) => {
        const p = await l.run(i);
        return c.spanData.triggered = p.output.tripwireTriggered, p;
      }, { data: { name: l.name } }, t._currentAgentSpan)));
      for (const l of u)
        if (l.output.tripwireTriggered)
          throw t._currentAgentSpan && t._currentAgentSpan.setError({
            message: "Guardrail tripwire triggered",
            data: { guardrail: l.guardrail.name }
          }), new br(`Output guardrail triggered: ${JSON.stringify(l.output.outputInfo)}`, l, t);
    } catch (u) {
      throw u instanceof br ? u : new ys(`Output guardrail failed to complete: ${u}`, u, t);
    }
  }
}, Fa = async function(t, r, s) {
  var i, u, l;
  const a = r.conversationId || r.previousResponseId ? new Js({
    conversationId: r.conversationId,
    previousResponseId: r.previousResponseId
  }) : void 0;
  a && s && a.primeFromState({
    originalInput: t.state._originalInput,
    generatedItems: t.state._generatedItems,
    modelResponses: t.state._modelResponses
  });
  try {
    for (; ; ) {
      const c = t.state._currentAgent, p = await c.getEnabledHandoffs(t.state._context), f = await c.getAllTools(t.state._context), h = f.map((y) => As(y)), b = p.map((y) => Cs(y));
      if (t.state._currentStep = t.state._currentStep ?? {
        type: "next_step_run_again"
      }, t.state._currentStep.type === "next_step_interruption") {
        if (O.debug("Continuing from interruption"), !t.state._lastTurnResponse || !t.state._lastProcessedResponse)
          throw new te("No model response found in previous state", t.state);
        const y = await Ps(t.state._currentAgent, t.state._originalInput, t.state._generatedItems, t.state._lastTurnResponse, t.state._lastProcessedResponse, this, t.state);
        if (js(t, y), t.state._toolUseTracker.addToolUse(t.state._currentAgent, t.state._lastProcessedResponse.toolsUsed), t.state._originalInput = y.originalInput, t.state._generatedItems = y.generatedItems, t.state._currentStep = y.nextStep, y.nextStep.type === "next_step_interruption")
          return;
        continue;
      }
      if (t.state._currentStep.type === "next_step_run_again") {
        if (!t.state._currentAgentSpan) {
          const xe = p.map((ge) => ge.agentName);
          t.state._currentAgentSpan = Es({
            data: {
              name: c.name,
              handoffs: xe,
              tools: f.map((ge) => ge.name),
              output_type: c.outputSchemaName
            }
          }), t.state._currentAgentSpan.start(), Cn(t.state._currentAgentSpan);
        }
        if (t.state._currentTurn++, t.state._currentTurn > t.state._maxTurns)
          throw (i = t.state._currentAgentSpan) == null || i.setError({
            message: "Max turns exceeded",
            data: { max_turns: t.state._maxTurns }
          }), new _s(`Max turns (${t.state._maxTurns}) exceeded`, t.state);
        O.debug(`Running agent ${c.name} (turn ${t.state._currentTurn})`);
        const y = c.model !== void 0 && c.model !== "" || this.config.model !== void 0 && this.config.model !== "";
        let w = Bs(c.model, this.config.model);
        typeof w == "string" && (w = await this.config.modelProvider.getModel(w)), t.state._currentTurn === 1 && await $(this, oe, Cr).call(this, t.state);
        let E = {
          ...this.config.modelSettings,
          ...c.modelSettings
        };
        const R = c.modelSettings;
        E = Gs(y, R, w, E), E = Ds(c, t.state._toolUseTracker, E);
        const F = a ? a.prepareInput(t.input, t.newItems) : Kt(t.input, t.newItems);
        t.state._noActiveAgentRun && (c.emit("agent_start", t.state._context, c), this.emit("agent_start", t.state._context, c));
        let W;
        const J = (a == null ? void 0 : a.previousResponseId) ?? r.previousResponseId, G = (a == null ? void 0 : a.conversationId) ?? r.conversationId;
        for await (const xe of w.getStreamedResponse({
          systemInstructions: await c.getSystemPrompt(t.state._context),
          prompt: await c.getPrompt(t.state._context),
          // Streaming requests should also honor explicitly chosen models.
          ...y ? { overridePromptModel: !0 } : {},
          input: F,
          previousResponseId: J,
          conversationId: G,
          modelSettings: E,
          tools: h,
          handoffs: b,
          outputType: ws(c.outputType),
          tracing: qs(this.config.tracingDisabled, this.config.traceIncludeSensitiveData),
          signal: r.signal
        })) {
          if (xe.type === "response_done") {
            const ge = Ca.parse(xe);
            W = {
              usage: new Xn(ge.response.usage),
              output: ge.response.output,
              responseId: ge.response.id
            };
          }
          if (t.cancelled)
            return;
          t._addItem(new ku(xe));
        }
        if (t.state._noActiveAgentRun = !1, !W)
          throw new ve("Model did not produce a final response!", t.state);
        t.state._lastTurnResponse = W, a == null || a.trackServerItems(W), t.state._modelResponses.push(t.state._lastTurnResponse);
        const H = Ns(t.state._lastTurnResponse, c, f, p);
        t.state._lastProcessedResponse = H;
        const X = new Set(H.newItems);
        X.size > 0 && Pu(t, H.newItems);
        const le = await Ms(c, t.state._originalInput, t.state._generatedItems, t.state._lastTurnResponse, t.state._lastProcessedResponse, this, t.state);
        js(t, le, {
          skipItems: X
        }), t.state._toolUseTracker.addToolUse(c, H.toolsUsed), t.state._originalInput = le.originalInput, t.state._generatedItems = le.generatedItems, t.state._currentStep = le.nextStep;
      }
      if (t.state._currentStep.type === "next_step_final_output") {
        await $(this, oe, Er).call(this, t.state, t.state._currentStep.output), this.emit("agent_end", t.state._context, c, t.state._currentStep.output), c.emit("agent_end", t.state._context, t.state._currentStep.output);
        return;
      } else {
        if (t.state._currentStep.type === "next_step_interruption")
          return;
        t.state._currentStep.type === "next_step_handoff" ? (t.state._currentAgent = (u = t.state._currentStep) == null ? void 0 : u.newAgent, t.state._currentAgentSpan && (t.state._currentAgentSpan.end(), Gt()), t.state._currentAgentSpan = void 0, t._addItem(new Cu(t.state._currentAgent)), t.state._noActiveAgentRun = !0, t.state._currentStep = {
          type: "next_step_run_again"
        }) : O.debug("Running next loop");
      }
    }
  } catch (c) {
    throw t.state._currentAgentSpan && t.state._currentAgentSpan.setError({
      message: "Error in agent run",
      data: { error: String(c) }
    }), c;
  } finally {
    t.state._currentAgentSpan && (((l = t.state._currentStep) == null ? void 0 : l.type) !== "next_step_interruption" && t.state._currentAgentSpan.end(), Gt());
  }
}, Or = async function(t, r, s) {
  return s = s ?? {}, Rr(async () => {
    const a = r instanceof et, i = a ? r : new et(s.context instanceof St ? s.context : new St(s.context), r, t, s.maxTurns ?? Us), u = new Za({
      signal: s.signal,
      state: i
    });
    u.maxTurns = s.maxTurns ?? i._maxTurns;
    const l = $(this, oe, Fa).call(this, u, s, a).then(() => {
      u._done();
    }, (c) => {
      u._raiseError(c);
    });
    return u._setStreamLoopPromise(l), u;
  });
};
function Bs(n, e) {
  return typeof n == "string" && n !== yt.DEFAULT_MODEL_PLACEHOLDER || n ? n : e ?? n ?? yt.DEFAULT_MODEL_PLACEHOLDER;
}
function Gs(n, e, t, r) {
  var s, a, i, u, l, c, p, f;
  if (
    // gpt-5 is enabled for the default model for agents
    ga() && // explicitly set model for the agent
    n && // this runner uses a non-gpt-5 model
    (typeof t != "string" || !Kn(t)) && ((s = e.providerData) != null && s.reasoning || (i = (a = e.providerData) == null ? void 0 : a.text) != null && i.verbosity || (u = e.providerData) != null && u.reasoning_effort)
  ) {
    const h = { ...r };
    return (l = h.providerData) == null || delete l.reasoning, (p = (c = h.providerData) == null ? void 0 : c.text) == null || delete p.verbosity, (f = h.providerData) == null || delete f.reasoning_effort, h.reasoning && (delete h.reasoning.effort, delete h.reasoning.summary), h.text && delete h.text.verbosity, h;
  }
  return r;
}
class La {
  constructor(e) {
    _(this, "state");
    this.state = e;
  }
  /**
   * The history of the agent run. This includes the input items and the new items generated during
   * the agent run.
   *
   * This can be used as inputs for the next agent run.
   */
  get history() {
    return Kt(this.input, this.newItems);
  }
  /**
   * The new items generated during the agent run. These include things like new messages, tool
   * calls and their outputs, etc.
   *
   * It does not include information about the agents and instead represents the model data.
   *
   * For the output including the agents, use the `newItems` property.
   */
  get output() {
    return Kt([], this.newItems);
  }
  /**
   * A copy of the original input items.
   */
  get input() {
    return this.state._originalInput;
  }
  /**
   * The run items generated during the agent run. This associates the model data with the agents.
   *
   * For the model data that can be used as inputs for the next agent run, use the `output` property.
   */
  get newItems() {
    return this.state._generatedItems;
  }
  /**
   * The raw LLM responses generated by the model during the agent run.
   */
  get rawResponses() {
    return this.state._modelResponses;
  }
  /**
   * The last response ID generated by the model during the agent run.
   */
  get lastResponseId() {
    const e = this.rawResponses;
    return e && e.length > 0 ? e[e.length - 1].responseId : void 0;
  }
  /**
   * The last agent that was run
   */
  get lastAgent() {
    return this.state._currentAgent;
  }
  /**
   * Guardrail results for the input messages.
   */
  get inputGuardrailResults() {
    return this.state._inputGuardrailResults;
  }
  /**
   * Guardrail results for the final output of the agent.
   */
  get outputGuardrailResults() {
    return this.state._outputGuardrailResults;
  }
  /**
   * Any interruptions that occurred during the agent run for example for tool approvals.
   */
  get interruptions() {
    var e;
    return ((e = this.state._currentStep) == null ? void 0 : e.type) === "next_step_interruption" ? this.state._currentStep.data.interruptions : [];
  }
  /**
   * The final output of the agent. If the output type was set to anything other than `text`,
   * this will be parsed either as JSON or using the Zod schema you provided.
   */
  get finalOutput() {
    var e;
    if (((e = this.state._currentStep) == null ? void 0 : e.type) === "next_step_final_output")
      return this.state._currentAgent.processFinalOutput(this.state._currentStep.output);
    O.warn("Accessed finalOutput before agent run is completed.");
  }
}
class or extends La {
  constructor(e) {
    super(e);
  }
}
var tn, qe, fe, De, Ct, Et, nn, nt, rn;
class Za extends La {
  constructor(t = {}) {
    super(t.state);
    /**
     * The current turn number
     */
    _(this, "currentTurn", 0);
    /**
     * The maximum number of turns that can be run
     */
    _(this, "maxTurns");
    I(this, tn, null);
    I(this, qe);
    I(this, fe);
    I(this, De);
    I(this, Ct);
    I(this, Et);
    I(this, nn);
    I(this, nt, !1);
    I(this, rn);
    if (v(this, qe, t.signal), v(this, De, new Lo({
      start: (r) => {
        v(this, fe, r);
      },
      cancel: () => {
        v(this, nt, !0);
      }
    })), v(this, Ct, new Promise((r, s) => {
      v(this, Et, r), v(this, nn, s);
    })), o(this, qe)) {
      const r = () => {
        var a, i;
        if (o(this, nt))
          return;
        v(this, nt, !0);
        const s = o(this, fe);
        if (v(this, fe, void 0), o(this, De).locked) {
          if (s)
            try {
              s.close();
            } catch (u) {
              O.debug(`Failed to close readable stream on abort: ${u}`);
            }
        } else
          o(this, De).cancel((a = o(this, qe)) == null ? void 0 : a.reason).catch((u) => {
            O.debug(`Failed to cancel readable stream on abort: ${u}`);
          });
        (i = o(this, Et)) == null || i.call(this);
      };
      o(this, qe).aborted ? r() : o(this, qe).addEventListener("abort", r, { once: !0 });
    }
  }
  /**
   * The current agent that is running
   */
  get currentAgent() {
    return this.lastAgent;
  }
  /**
   * @internal
   * Adds an item to the stream of output items
   */
  _addItem(t) {
    var r;
    this.cancelled || (r = o(this, fe)) == null || r.enqueue(t);
  }
  /**
   * @internal
   * Indicates that the stream has been completed
   */
  _done() {
    var t;
    !this.cancelled && o(this, fe) && (o(this, fe).close(), v(this, fe, void 0), (t = o(this, Et)) == null || t.call(this));
  }
  /**
   * @internal
   * Handles an error in the stream loop.
   */
  _raiseError(t) {
    var r;
    !this.cancelled && o(this, fe) && (o(this, fe).error(t), v(this, fe, void 0)), v(this, tn, t), (r = o(this, nn)) == null || r.call(this, t), o(this, Ct).catch((s) => {
      O.debug(`Resulted in an error: ${s}`);
    });
  }
  /**
   * Returns true if the stream has been cancelled.
   */
  get cancelled() {
    return o(this, nt);
  }
  /**
   * Returns the underlying readable stream.
   * @returns A readable stream of the agent run.
   */
  toStream() {
    return o(this, De);
  }
  /**
   * Await this promise to ensure that the stream has been completed if you are not consuming the
   * stream directly.
   */
  get completed() {
    return o(this, Ct);
  }
  /**
   * Error thrown during the run, if any.
   */
  get error() {
    return o(this, tn);
  }
  toTextStream(t = {}) {
    const r = o(this, De).pipeThrough(new Zo({
      transform(s, a) {
        if (s.type === "raw_model_stream_event" && s.data.type === "output_text_delta") {
          const i = Aa.parse(s.data);
          a.enqueue(i.delta);
        }
      }
    }));
    return t.compatibleWithNodeStreams ? Fo.fromWeb(r) : r;
  }
  [Symbol.asyncIterator]() {
    return o(this, De)[Symbol.asyncIterator]();
  }
  /**
   * @internal
   * Sets the stream loop promise that completes when the internal stream loop finishes.
   * This is used to defer trace end until all agent work is complete.
   */
  _setStreamLoopPromise(t) {
    v(this, rn, t);
  }
  /**
   * @internal
   * Returns a promise that resolves when the stream loop completes.
   * This is used by the tracing system to wait for all agent work before ending the trace.
   */
  _getStreamLoopPromise() {
    return o(this, rn);
  }
}
tn = new WeakMap(), qe = new WeakMap(), fe = new WeakMap(), De = new WeakMap(), Ct = new WeakMap(), Et = new WeakMap(), nn = new WeakMap(), nt = new WeakMap(), rn = new WeakMap();
let zs;
function Oe() {
  return zs ?? (zs = new Uo()), zs;
}
function Yt() {
  const n = Oe().getStore();
  return n != null && n.trace ? n.trace : null;
}
function Xt() {
  const n = Oe().getStore();
  return n != null && n.span ? n.span : null;
}
function Ua(n) {
  return async () => {
    const e = Yt();
    if (!e)
      throw new Error("No trace found");
    await e.start();
    const t = await n(e);
    if (t instanceof Za) {
      const r = t._getStreamLoopPromise();
      if (r)
        return r.finally(() => e.end()), t;
    }
    return await e.end(), t;
  };
}
async function Bu(n, e, t = {}) {
  const r = typeof n == "string" ? Re().createTrace({
    ...t,
    name: n
  }) : n;
  return Oe().run({ trace: r }, Ua(e));
}
async function Gu(n, e = {}) {
  if (Yt())
    return await n();
  const r = Re().createTrace(e);
  return Oe().run({ trace: r }, Ua(n));
}
function Cn(n) {
  const e = Oe().getStore();
  if (!e)
    throw new Error("No existing trace found");
  e.span && (e.span.previousSpan = e.previousSpan, e.previousSpan = e.span), e.span = n, Oe().enterWith(e);
}
function Gt() {
  var e;
  const n = Oe().getStore();
  n && (n.span = n.previousSpan, n.previousSpan = (e = n.previousSpan) == null ? void 0 : e.previousSpan, Oe().enterWith(n));
}
function Tt(n) {
  const e = Xt();
  e && e.setError(n);
}
function zu(n) {
  var e, t, r;
  return {
    trace: (e = n.trace) == null ? void 0 : e.clone(),
    span: (t = n.span) == null ? void 0 : t.clone(),
    previousSpan: (r = n.previousSpan) == null ? void 0 : r.clone()
  };
}
function Rr(n) {
  const e = Oe().getStore();
  if (!e)
    throw new Error("No existing trace found");
  const t = zu(e);
  return Oe().run(t, n);
}
class Vu {
  async export(e) {
    if (pa.disabled) {
      O.debug("Tracing is disabled. Skipping export");
      return;
    }
    for (const t of e)
      t.type === "trace" ? console.log(`[Exporter] Export trace traceId=${t.traceId} name=${t.name}${t.groupId ? ` groupId=${t.groupId}` : ""}`) : console.log(`[Exporter] Export span: ${JSON.stringify(t)}`);
  }
}
var sn, Ot, an, on, Rt, ie, Pe, Je, Be, Nt, de, Nr, Dr, xt;
class Hu {
  constructor(e, {
    maxQueueSize: t = 1e3,
    maxBatchSize: r = 100,
    scheduleDelay: s = 5e3,
    // 5 seconds
    exportTriggerRatio: a = 0.8
  } = {}) {
    I(this, de);
    I(this, sn);
    I(this, Ot);
    I(this, an);
    I(this, on);
    I(this, Rt);
    I(this, ie, []);
    I(this, Pe);
    I(this, Je, null);
    I(this, Be, !1);
    I(this, Nt, null);
    v(this, sn, t), v(this, Ot, r), v(this, an, s), v(this, on, t * a), v(this, Rt, e), v(this, Pe, Jo), O.debug("Automatic trace export loop is not supported in this environment. You need to manually call `getGlobalTraceProvider().forceFlush()` to export traces.");
  }
  start() {
    v(this, Nt, new AbortController()), $(this, de, Dr).call(this);
  }
  async onTraceStart(e) {
    await $(this, de, Nr).call(this, e);
  }
  async onTraceEnd(e) {
  }
  async onSpanStart(e) {
  }
  async onSpanEnd(e) {
    await $(this, de, Nr).call(this, e);
  }
  async shutdown(e) {
    var t;
    for (e && o(this, Pe).setTimeout(() => {
      var r;
      (r = o(this, Nt)) == null || r.abort();
    }, e), O.debug("Shutting down gracefully"); o(this, ie).length > 0; ) {
      if (O.debug(`Waiting for buffer to empty. Items left: ${o(this, ie).length}`), o(this, Be) || await $(this, de, xt).call(this, !0), (t = o(this, Nt)) != null && t.signal.aborted) {
        O.debug("Timeout reached, force flushing"), await $(this, de, xt).call(this, !0);
        break;
      }
      await new Promise((r) => o(this, Pe).setTimeout(r, 500));
    }
    O.debug("Buffer empty. Exiting"), o(this, Pe) && o(this, Je) && o(this, Pe).clearTimeout(o(this, Je));
  }
  async forceFlush() {
    o(this, ie).length > 0 && await $(this, de, xt).call(this, !0);
  }
}
sn = new WeakMap(), Ot = new WeakMap(), an = new WeakMap(), on = new WeakMap(), Rt = new WeakMap(), ie = new WeakMap(), Pe = new WeakMap(), Je = new WeakMap(), Be = new WeakMap(), Nt = new WeakMap(), de = new WeakSet(), Nr = async function(e) {
  if (o(this, ie).length + 1 > o(this, sn)) {
    O.error("Dropping trace because buffer is full");
    return;
  }
  o(this, ie).push(e), o(this, ie).length > o(this, on) && await $(this, de, xt).call(this);
}, Dr = function() {
  v(this, Je, o(this, Pe).setTimeout(async () => {
    await $(this, de, xt).call(this), $(this, de, Dr).call(this);
  }, o(this, an))), typeof o(this, Je).unref == "function" && o(this, Je).unref();
}, xt = async function(e = !1) {
  if (o(this, ie).length !== 0) {
    if (O.debug(`Exporting batches. Force: ${e}. Buffer size: ${o(this, ie).length}`), e || o(this, ie).length < o(this, Ot)) {
      const t = [...o(this, ie)];
      v(this, ie, []), v(this, Be, !0), await o(this, Rt).export(t), v(this, Be, !1);
    } else if (o(this, ie).length > 0) {
      const t = o(this, ie).splice(0, o(this, Ot));
      v(this, Be, !0), await o(this, Rt).export(t), v(this, Be, !1);
    }
  }
};
var he;
class Wu {
  constructor() {
    I(this, he, []);
  }
  start() {
    for (const e of o(this, he))
      e.start && e.start();
  }
  addTraceProcessor(e) {
    o(this, he).push(e);
  }
  setProcessors(e) {
    O.debug("Shutting down old processors");
    for (const t of o(this, he))
      t.shutdown();
    v(this, he, e);
  }
  async onTraceStart(e) {
    for (const t of o(this, he))
      await t.onTraceStart(e);
  }
  async onTraceEnd(e) {
    for (const t of o(this, he))
      await t.onTraceEnd(e);
  }
  async onSpanStart(e) {
    for (const t of o(this, he))
      await t.onSpanStart(e);
  }
  async onSpanEnd(e) {
    for (const t of o(this, he))
      await t.onSpanEnd(e);
  }
  async shutdown(e) {
    for (const t of o(this, he))
      await t.shutdown(e);
  }
  async forceFlush() {
    for (const e of o(this, he))
      await e.forceFlush();
  }
}
he = new WeakMap();
let ur = null, cr = null;
function Ku() {
  return ur || (ur = new Vu()), ur;
}
function qa() {
  return cr || (cr = new Hu(Ku())), cr;
}
function Vs() {
  return (/* @__PURE__ */ new Date()).toISOString();
}
function Ja() {
  return `trace_${ma().replace(/-/g, "")}`;
}
function Yu() {
  return `span_${ma().replace(/-/g, "").slice(0, 24)}`;
}
function Xu(n) {
  return Object.fromEntries(Object.entries(n).filter(([e]) => !e.startsWith("_")));
}
var un, cn, dn, ln, rt, Ge, ze, st, pn;
const Wr = class Wr {
  constructor(e, t) {
    _(this, "type", "trace.span");
    I(this, un);
    I(this, cn);
    I(this, dn);
    I(this, ln);
    I(this, rt);
    I(this, Ge);
    I(this, ze);
    I(this, st);
    I(this, pn);
    v(this, cn, e.traceId), v(this, dn, e.spanId ?? Yu()), v(this, un, e.data), v(this, rt, t), v(this, ln, e.parentId ?? null), v(this, st, e.error ?? null), v(this, Ge, e.startedAt ?? null), v(this, ze, e.endedAt ?? null);
  }
  get traceId() {
    return o(this, cn);
  }
  get spanData() {
    return o(this, un);
  }
  get spanId() {
    return o(this, dn);
  }
  get parentId() {
    return o(this, ln);
  }
  get previousSpan() {
    return o(this, pn);
  }
  set previousSpan(e) {
    v(this, pn, e);
  }
  start() {
    if (o(this, Ge)) {
      O.warn("Span already started");
      return;
    }
    v(this, Ge, Vs()), o(this, rt).onSpanStart(this);
  }
  end() {
    if (o(this, ze)) {
      O.debug("Span already finished", this.spanData);
      return;
    }
    v(this, ze, Vs()), o(this, rt).onSpanEnd(this);
  }
  setError(e) {
    v(this, st, e);
  }
  get error() {
    return o(this, st);
  }
  get startedAt() {
    return o(this, Ge);
  }
  get endedAt() {
    return o(this, ze);
  }
  clone() {
    var t;
    const e = new Wr({
      traceId: this.traceId,
      spanId: this.spanId,
      parentId: this.parentId ?? void 0,
      data: this.spanData,
      startedAt: o(this, Ge) ?? void 0,
      endedAt: o(this, ze) ?? void 0,
      error: o(this, st) ?? void 0
    }, o(this, rt));
    return e.previousSpan = (t = this.previousSpan) == null ? void 0 : t.clone(), e;
  }
  toJSON() {
    return {
      object: this.type,
      id: this.spanId,
      trace_id: this.traceId,
      parent_id: this.parentId,
      started_at: this.startedAt,
      ended_at: this.endedAt,
      span_data: Xu(this.spanData),
      error: this.error
    };
  }
};
un = new WeakMap(), cn = new WeakMap(), dn = new WeakMap(), ln = new WeakMap(), rt = new WeakMap(), Ge = new WeakMap(), ze = new WeakMap(), st = new WeakMap(), pn = new WeakMap();
let Qt = Wr;
class Ze extends Qt {
  constructor(e, t) {
    super({ traceId: "no-op", spanId: "no-op", data: e }, t);
  }
  start() {
  }
  end() {
  }
  setError() {
  }
  toJSON() {
    return null;
  }
}
var Dt, Me;
const Kr = class Kr {
  constructor(e, t) {
    _(this, "type", "trace");
    _(this, "traceId");
    _(this, "name");
    _(this, "groupId", null);
    _(this, "metadata");
    I(this, Dt);
    I(this, Me);
    this.traceId = e.traceId ?? Ja(), this.name = e.name ?? "Agent workflow", this.groupId = e.groupId ?? null, this.metadata = e.metadata ?? {}, v(this, Dt, t ?? qa()), v(this, Me, e.started ?? !1);
  }
  async start() {
    o(this, Me) || (v(this, Me, !0), await o(this, Dt).onTraceStart(this));
  }
  async end() {
    o(this, Me) && (v(this, Me, !1), await o(this, Dt).onTraceEnd(this));
  }
  clone() {
    return new Kr({
      traceId: this.traceId,
      name: this.name,
      groupId: this.groupId ?? void 0,
      metadata: this.metadata,
      started: o(this, Me)
    });
  }
  toJSON() {
    return {
      object: this.type,
      id: this.traceId,
      workflow_name: this.name,
      group_id: this.groupId,
      metadata: this.metadata
    };
  }
};
Dt = new WeakMap(), Me = new WeakMap();
let en = Kr;
class dr extends en {
  constructor() {
    super({});
  }
  async start() {
  }
  async end() {
  }
  toJSON() {
    return null;
  }
}
var se, at, Vn, Ba;
class Qu {
  constructor() {
    I(this, Vn);
    I(this, se);
    I(this, at);
    v(this, se, new Wu()), v(this, at, pa.disabled), $(this, Vn, Ba).call(this);
  }
  /**
   * Add a processor to the list of processors. Each processor will receive all traces/spans.
   *
   * @param processor - The processor to add.
   */
  registerProcessor(e) {
    o(this, se).addTraceProcessor(e);
  }
  /**
   * Set the list of processors. This will replace any existing processors.
   *
   * @param processors - The list of processors to set.
   */
  setProcessors(e) {
    o(this, se).setProcessors(e);
  }
  /**
   * Get the current trace.
   *
   * @returns The current trace.
   */
  getCurrentTrace() {
    return Yt();
  }
  getCurrentSpan() {
    return Xt();
  }
  setDisabled(e) {
    v(this, at, e);
  }
  startExportLoop() {
    o(this, se).start();
  }
  createTrace(e) {
    if (o(this, at))
      return O.debug("Tracing is disabled, Not creating trace %o", e), new dr();
    const t = e.traceId ?? Ja(), r = e.name ?? "Agent workflow";
    return O.debug("Creating trace %s with name %s", t, r), new en({ ...e, name: r, traceId: t }, o(this, se));
  }
  createSpan(e, t) {
    if (o(this, at) || e.disabled)
      return O.debug("Tracing is disabled, Not creating span %o", e), new Ze(e.data, o(this, se));
    let r, s;
    if (t) {
      if (t instanceof en) {
        if (t instanceof dr)
          return O.debug("Parent trace is no-op, returning NoopSpan"), new Ze(e.data, o(this, se));
        s = t.traceId;
      } else if (t instanceof Qt) {
        if (t instanceof Ze)
          return O.debug("Parent span is no-op, returning NoopSpan"), new Ze(e.data, o(this, se));
        r = t.spanId, s = t.traceId;
      }
    } else {
      const a = Yt(), i = Xt();
      if (!a)
        return O.error("No active trace. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."), new Ze(e.data, o(this, se));
      if (i instanceof Ze || a instanceof dr)
        return O.debug(`Parent ${i} or ${a} is no-op, returning NoopSpan`), new Ze(e.data, o(this, se));
      s = a.traceId, i ? (O.debug("Using parent span %s", i.spanId), r = i.spanId) : O.debug("No parent span, using current trace %s", a.traceId);
    }
    return s ? (O.debug(`Creating span ${JSON.stringify(e.data)} with id ${e.spanId ?? s}`), new Qt({
      ...e,
      traceId: s,
      parentId: r
    }, o(this, se))) : (O.error("No traceId found. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."), new Ze(e.data, o(this, se)));
  }
  async shutdown(e) {
    try {
      O.debug("Shutting down tracing provider"), await o(this, se).shutdown(e);
    } catch (t) {
      O.error("Error shutting down tracing provider %o", t);
    }
  }
  async forceFlush() {
    await o(this, se).forceFlush();
  }
}
se = new WeakMap(), at = new WeakMap(), Vn = new WeakSet(), /** Adds listeners to `process` to ensure `shutdown` occurs before exit. */
Ba = function() {
  if (typeof process < "u" && typeof process.on == "function") {
    const e = async () => {
      const t = setTimeout(() => {
        console.warn("Cleanup timeout, forcing exit"), process.exit(1);
      }, 5e3);
      try {
        await this.shutdown();
      } finally {
        clearTimeout(t);
      }
    };
    process.on("beforeExit", e), process.on("SIGINT", async () => {
      await e(), Hs("SIGINT") || process.exit(130);
    }), process.on("SIGTERM", async () => {
      await e(), Hs("SIGTERM") || process.exit(0);
    }), process.on("unhandledRejection", async (t, r) => {
      O.error("Unhandled rejection", t, r), await e(), ec("unhandledRejection") || process.exit(1);
    });
  }
};
function Hs(n) {
  return process.listeners(n).length > 1;
}
function ec(n) {
  return process.listeners(n).length > 1;
}
let lr;
function Re() {
  return lr || (lr = new Qu()), lr;
}
function tc(n) {
  Re().registerProcessor(n);
}
tc(qa());
function Ga(n) {
  const e = atob(n), t = e.length, r = new Uint8Array(t);
  for (let s = 0; s < t; s++)
    r[s] = e.charCodeAt(s);
  return r.buffer;
}
function za(n) {
  const e = String.fromCharCode(...new Uint8Array(n));
  return btoa(e);
}
function Va(n) {
  if (typeof n > "u" || n === null || typeof n != "object" || !("type" in n) || typeof n.type != "string" || !n.type || n.type !== "message" || !("content" in n) || !Array.isArray(n.content) || n.content.length < 1)
    return;
  const e = n.content[n.content.length - 1];
  if (!(!("type" in e) || typeof e.type != "string")) {
    if (e.type === "output_text")
      return typeof e.text == "string" ? e.text : void 0;
    if (e.type === "output_audio")
      return typeof e.transcript == "string" ? e.transcript : void 0;
  }
}
function nc(n, e) {
  const t = n.filter((a) => !e.some((i) => i.itemId === a.itemId)), r = e.filter((a) => !n.some((i) => i.itemId === a.itemId)), s = e.filter((a) => n.some((i) => i.itemId === a.itemId && JSON.stringify(i) !== JSON.stringify(a)));
  return {
    removals: t,
    additions: r,
    updates: s
  };
}
function rc() {
  return typeof window > "u" ? !1 : typeof window.RTCPeerConnection < "u";
}
function Ws(n) {
  return n.role === "system" ? n : n.role === "assistant" ? {
    ...n,
    content: n.content.map((e) => e.type === "output_audio" ? {
      ...e,
      audio: null
    } : e)
  } : n.role === "user" ? {
    ...n,
    content: n.content.map((e) => e.type === "input_audio" ? {
      ...e,
      audio: null
    } : e)
  } : n;
}
function Ks(n, e, t) {
  if (e.type === "conversation.item.input_audio_transcription.completed")
    return n.map((a) => {
      if (a.itemId === e.item_id && a.type === "message" && "role" in a && a.role === "user") {
        const i = a.content.map((u) => u.type === "input_audio" ? {
          ...u,
          transcript: e.transcript
        } : u);
        return {
          ...a,
          content: i,
          status: "completed"
        };
      }
      return a;
    });
  const r = !t && e.type === "message" ? Ws(e) : e, s = n.findIndex((a) => a.itemId === e.itemId);
  if (s !== -1)
    return n.map((a, i) => i === s ? r : !t && a.type === "message" ? Ws(a) : a);
  if (e.previousItemId) {
    const a = n.findIndex((i) => i.itemId === e.previousItemId);
    return a !== -1 ? [
      ...n.slice(0, a + 1),
      r,
      ...n.slice(a + 1)
    ] : [...n, r];
  } else
    return [...n, r];
}
const Ha = {
  "User-Agent": `Agents/JavaScript ${pr.version}`,
  "X-OpenAI-Agents-SDK": `openai-agents-sdk.${pr.version}`
}, sc = `openai-agents-sdk.${pr.version}`;
function ac(n, e) {
  const { name: t, arguments: r, ...s } = e;
  return new we({
    type: "hosted_tool_call",
    name: t,
    arguments: JSON.stringify(r),
    status: "in_progress",
    providerData: {
      ...s
    }
  }, n);
}
function Ys(n) {
  const { name: e, arguments: t, providerData: r } = n.rawItem, { itemId: s, serverLabel: a, ...i } = r ?? {};
  if (!s || !a)
    throw new Error("Invalid approval item for Realtime MCP approval request");
  return {
    type: "mcp_approval_request",
    itemId: s,
    serverLabel: a,
    ...i,
    name: e,
    arguments: t ? JSON.parse(t) : {},
    approved: null
  };
}
class bd extends yt {
  constructor(t) {
    super(t);
    /**
     * The voice intended to be used by the agent. If another agent already spoke during the
     * RealtimeSession, changing the voice during a handoff will fail.
     */
    _(this, "voice");
    this.voice = t.voice;
  }
}
function ic(n) {
  return {
    debounceTextLength: n.debounceTextLength ?? 100
  };
}
function oc({ policyHint: n, ...e }) {
  const t = Ir(e), r = n ?? t.name;
  return {
    ...t,
    policyHint: r,
    run: async (s) => {
      const a = await t.run(s);
      return {
        ...a,
        guardrail: { ...a.guardrail, policyHint: r }
      };
    }
  };
}
function uc(n) {
  return `
⚠️ Your last answer was blocked. 
Failed Guardrail Reason: ${n.guardrail.policyHint}. 
Failure Details: ${JSON.stringify(n.output.outputInfo ?? {})}. 
Please respond again following policy. Apologize for not being able to answer the question (while avoiding the specific reason) and divert discussion back to an approved topic immediately and not invite more discussion.
`.trim();
}
function Qe(n, e) {
  return n in e && typeof e[n] < "u";
}
function cc(n) {
  return Qe("modalities", n) || Qe("inputAudioFormat", n) || Qe("outputAudioFormat", n) || Qe("inputAudioTranscription", n) || Qe("turnDetection", n) || Qe("inputAudioNoiseReduction", n) || Qe("speed", n);
}
function dc(n) {
  var e, t, r, s, a, i, u, l;
  if (!cc(n)) {
    const c = (e = n.audio) != null && e.input ? {
      format: kn(n.audio.input.format),
      noiseReduction: n.audio.input.noiseReduction ?? null,
      transcription: n.audio.input.transcription,
      turnDetection: n.audio.input.turnDetection
    } : void 0, p = ((r = (t = n.audio) == null ? void 0 : t.output) == null ? void 0 : r.voice) ?? n.voice, f = (s = n.audio) != null && s.output || typeof p < "u" ? {
      format: kn((i = (a = n.audio) == null ? void 0 : a.output) == null ? void 0 : i.format),
      voice: p,
      speed: (l = (u = n.audio) == null ? void 0 : u.output) == null ? void 0 : l.speed
    } : void 0;
    return {
      model: n.model,
      instructions: n.instructions,
      toolChoice: n.toolChoice,
      tools: n.tools,
      tracing: n.tracing,
      providerData: n.providerData,
      prompt: n.prompt,
      outputModalities: n.outputModalities,
      audio: c || f ? {
        input: c,
        output: f
      } : void 0
    };
  }
  return {
    model: n.model,
    instructions: n.instructions,
    toolChoice: n.toolChoice,
    tools: n.tools,
    tracing: n.tracing,
    providerData: n.providerData,
    prompt: n.prompt,
    outputModalities: n.modalities,
    audio: {
      input: {
        format: kn(n.inputAudioFormat),
        noiseReduction: n.inputAudioNoiseReduction ?? null,
        transcription: n.inputAudioTranscription,
        turnDetection: n.turnDetection
      },
      output: {
        format: kn(n.outputAudioFormat),
        voice: n.voice,
        speed: n.speed
      }
    }
  };
}
function kn(n) {
  if (!n)
    return;
  if (typeof n == "object")
    return n;
  const e = String(n);
  return e === "pcm16" ? { type: "audio/pcm", rate: 24e3 } : e === "g711_ulaw" ? { type: "audio/pcmu" } : e === "g711_alaw" ? { type: "audio/pcma" } : { type: "audio/pcm", rate: 24e3 };
}
m({
  itemId: d()
});
const Xs = me("role", [
  m({
    itemId: d(),
    previousItemId: d().nullable().optional(),
    type: g("message"),
    role: g("system"),
    content: U(m({ type: g("input_text"), text: d() }))
  }),
  m({
    itemId: d(),
    previousItemId: d().nullable().optional(),
    type: g("message"),
    role: g("user"),
    status: ae(["in_progress", "completed"]),
    content: U(m({ type: g("input_text"), text: d() }).or(m({
      type: g("input_audio"),
      audio: d().nullable().optional(),
      transcript: d().nullable()
    })))
  }),
  m({
    itemId: d(),
    previousItemId: d().nullable().optional(),
    type: g("message"),
    role: g("assistant"),
    status: ae(["in_progress", "completed", "incomplete"]),
    content: U(m({ type: g("output_text"), text: d() }).or(m({
      type: g("output_audio"),
      audio: d().nullable().optional(),
      transcript: d().nullable().optional()
    })))
  })
]), Qs = m({
  itemId: d(),
  previousItemId: d().nullable().optional(),
  type: g("function_call"),
  status: ae(["in_progress", "completed", "incomplete"]),
  arguments: d(),
  name: d(),
  output: d().nullable()
}), ea = m({
  itemId: d(),
  previousItemId: d().nullable().optional(),
  type: ae(["mcp_call", "mcp_tool_call"]),
  status: ae(["in_progress", "completed", "incomplete"]),
  arguments: d(),
  name: d(),
  output: d().nullable()
}), lc = m({
  itemId: d(),
  type: g("mcp_approval_request"),
  serverLabel: d(),
  name: d(),
  arguments: ee(d(), L()),
  approved: lt().optional().nullable()
}), ye = ha("openai-agents:realtime"), Wa = m({
  id: d().optional().nullable(),
  conversation_id: d().optional().nullable(),
  max_output_tokens: A().or(g("inf")).optional().nullable(),
  metadata: ee(d(), L()).optional().nullable(),
  // GA rename: modalities -> output_modalities
  output_modalities: U(d()).optional().nullable(),
  object: g("realtime.response").optional().nullable(),
  output: U(L()).optional().nullable(),
  // GA grouping: audio.output.{format,voice}
  audio: m({
    output: m({
      format: L().optional().nullable(),
      voice: d().optional().nullable()
    }).optional().nullable()
  }).optional().nullable(),
  status: ae(["completed", "incomplete", "failed", "cancelled", "in_progress"]).optional().nullable(),
  status_details: ee(d(), L()).optional().nullable(),
  usage: m({
    input_tokens: A().optional(),
    input_token_details: ee(d(), L()).optional().nullable(),
    output_tokens: A().optional(),
    output_token_details: ee(d(), L()).optional().nullable()
  }).optional().nullable()
}), pc = m({
  id: d().optional(),
  audio: d().nullable().optional(),
  text: d().nullable().optional(),
  transcript: d().nullable().optional(),
  type: ia([
    g("input_text"),
    g("input_audio"),
    g("item_reference"),
    g("output_text"),
    g("output_audio")
  ])
}), Jt = m({
  id: d().optional(),
  arguments: d().optional(),
  call_id: d().optional(),
  content: U(pc).optional(),
  name: d().optional(),
  output: d().nullable().optional(),
  role: ae(["user", "assistant", "system"]).optional(),
  status: ae(["completed", "incomplete", "in_progress"]).optional(),
  type: ae([
    "message",
    "function_call",
    "function_call_output",
    "mcp_list_tools",
    "mcp_tool_call",
    "mcp_call",
    "mcp_approval_request",
    "mcp_approval_response"
  ]).optional(),
  approval_request_id: d().nullable().optional(),
  approve: lt().nullable().optional(),
  reason: d().nullable().optional(),
  server_label: d().optional(),
  error: L().nullable().optional(),
  tools: U(m({
    name: d(),
    description: d(),
    input_schema: ee(L()).optional()
  }).passthrough()).optional()
}).passthrough(), fc = m({
  type: g("conversation.created"),
  event_id: d(),
  conversation: m({
    id: d().optional(),
    object: g("realtime.conversation").optional()
  })
}), hc = m({
  type: g("conversation.item.added"),
  event_id: d(),
  item: Jt,
  previous_item_id: d().nullable().optional()
}), mc = m({
  type: g("conversation.item.done"),
  event_id: d(),
  item: Jt,
  previous_item_id: d().nullable().optional()
}), gc = m({
  type: g("conversation.item.deleted"),
  event_id: d(),
  item_id: d()
}), _c = m({
  type: g("conversation.item.input_audio_transcription.completed"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  transcript: d(),
  logprobs: U(L()).nullable().optional()
}), yc = m({
  type: g("conversation.item.input_audio_transcription.delta"),
  event_id: d(),
  item_id: d(),
  content_index: A().optional(),
  delta: d().optional(),
  logprobs: U(L()).nullable().optional()
}), vc = m({
  type: g("conversation.item.input_audio_transcription.failed"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  error: m({
    code: d().optional(),
    message: d().optional(),
    param: d().optional(),
    type: d().optional()
  })
}), wc = m({
  type: g("conversation.item.retrieved"),
  event_id: d(),
  item: Jt
}), bc = m({
  type: g("conversation.item.truncated"),
  event_id: d(),
  item_id: d(),
  audio_end_ms: A(),
  content_index: A()
}), xc = m({
  type: g("conversation.item.create"),
  item: Jt,
  event_id: d().optional(),
  previous_item_id: d().nullable().optional()
}), Sc = m({
  type: g("conversation.item.delete"),
  item_id: d(),
  event_id: d().optional()
}), Ic = m({
  type: g("conversation.item.retrieve"),
  item_id: d(),
  event_id: d().optional()
}), Tc = m({
  type: g("conversation.item.truncate"),
  item_id: d(),
  audio_end_ms: A(),
  content_index: A(),
  event_id: d().optional()
}), kc = m({
  type: g("error"),
  event_id: d().optional(),
  error: L().optional()
}), Ac = m({
  type: g("input_audio_buffer.cleared"),
  event_id: d()
}), Cc = m({
  type: g("input_audio_buffer.append"),
  audio: d(),
  event_id: d().optional()
}), Ec = m({
  type: g("input_audio_buffer.clear"),
  event_id: d().optional()
}), Oc = m({
  type: g("input_audio_buffer.commit"),
  event_id: d().optional()
}), Rc = m({
  type: g("input_audio_buffer.committed"),
  event_id: d(),
  item_id: d(),
  previous_item_id: d().nullable().optional()
}), Nc = m({
  type: g("input_audio_buffer.speech_started"),
  event_id: d(),
  item_id: d(),
  audio_start_ms: A()
}), Dc = m({
  type: g("input_audio_buffer.speech_stopped"),
  event_id: d(),
  item_id: d(),
  audio_end_ms: A()
}), Pc = m({
  type: g("output_audio_buffer.started"),
  event_id: d()
}).passthrough(), Mc = m({
  type: g("output_audio_buffer.stopped"),
  event_id: d()
}).passthrough(), jc = m({
  type: g("output_audio_buffer.cleared"),
  event_id: d()
}), $c = m({
  type: g("rate_limits.updated"),
  event_id: d(),
  rate_limits: U(m({
    limit: A().optional(),
    name: ae(["requests", "tokens"]).optional(),
    remaining: A().optional(),
    reset_seconds: A().optional()
  }))
}), Fc = m({
  type: g("response.output_audio.delta"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  delta: d(),
  output_index: A(),
  response_id: d()
}), Lc = m({
  type: g("response.output_audio.done"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  output_index: A(),
  response_id: d()
}), Zc = m({
  type: g("response.output_audio_transcript.delta"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  delta: d(),
  output_index: A(),
  response_id: d()
}), Uc = m({
  //  GA may introduce response.output_audio_transcript.done
  type: g("response.output_audio_transcript.done"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  transcript: d(),
  output_index: A(),
  response_id: d()
}), qc = m({
  type: g("response.content_part.added"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  output_index: A(),
  response_id: d(),
  part: m({
    audio: d().optional(),
    text: d().optional(),
    transcript: d().optional(),
    type: ae(["text", "audio"]).optional()
  })
}), Jc = m({
  type: g("response.content_part.done"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  output_index: A(),
  response_id: d(),
  part: m({
    audio: d().optional(),
    text: d().optional(),
    transcript: d().optional(),
    type: ae(["text", "audio"]).optional()
  })
}), Bc = m({
  type: g("response.created"),
  event_id: d(),
  response: Wa
}), Ka = m({
  type: g("response.done"),
  event_id: d(),
  response: Wa
}), Gc = m({
  type: g("response.function_call_arguments.delta"),
  event_id: d(),
  item_id: d(),
  call_id: d(),
  delta: d(),
  output_index: A(),
  response_id: d()
}), zc = m({
  type: g("response.function_call_arguments.done"),
  event_id: d(),
  item_id: d(),
  call_id: d(),
  arguments: d(),
  output_index: A(),
  response_id: d()
}), Vc = m({
  type: g("response.output_item.added"),
  event_id: d(),
  item: Jt,
  output_index: A(),
  response_id: d()
}), Hc = m({
  type: g("response.output_item.done"),
  event_id: d(),
  item: Jt,
  output_index: A(),
  response_id: d()
}), Wc = m({
  type: g("response.output_text.delta"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  delta: d(),
  output_index: A(),
  response_id: d()
}), Kc = m({
  // No rename specified for done; keep response.text.done
  type: g("response.output_text.done"),
  event_id: d(),
  item_id: d(),
  content_index: A(),
  text: d(),
  output_index: A(),
  response_id: d()
}), Yc = m({
  type: g("session.created"),
  event_id: d(),
  session: L()
}), Xc = m({
  type: g("session.updated"),
  event_id: d(),
  session: L()
}), Qc = m({
  type: g("response.cancel"),
  event_id: d().optional(),
  response_id: d().optional()
}), ed = m({
  type: g("response.create"),
  event_id: d().optional(),
  response: L().optional()
}), td = m({
  type: g("session.update"),
  event_id: d().optional(),
  session: L()
}), nd = m({
  type: g("mcp_list_tools.in_progress"),
  event_id: d().optional(),
  item_id: d().optional()
}), rd = m({
  type: g("mcp_list_tools.completed"),
  event_id: d().optional(),
  item_id: d().optional()
}), sd = m({
  type: g("response.mcp_call_arguments.delta"),
  event_id: d(),
  response_id: d(),
  item_id: d(),
  output_index: A(),
  delta: d(),
  obfuscation: d()
}), ad = m({
  type: g("response.mcp_call_arguments.done"),
  event_id: d(),
  response_id: d(),
  item_id: d(),
  output_index: A(),
  arguments: d()
}), id = m({
  type: g("response.mcp_call.in_progress"),
  event_id: d(),
  output_index: A(),
  item_id: d()
}), od = m({
  type: g("response.mcp_call.completed"),
  event_id: d(),
  output_index: A(),
  item_id: d()
}), ud = m({
  type: g("mcp_list_tools.failed"),
  event_id: d().optional(),
  item_id: d().optional()
}), cd = m({
  type: d(),
  event_id: d().optional().nullable()
}).passthrough(), dd = me("type", [
  fc,
  hc,
  mc,
  gc,
  _c,
  yc,
  vc,
  wc,
  bc,
  kc,
  Ac,
  Rc,
  Nc,
  Dc,
  Pc,
  Mc,
  jc,
  $c,
  Fc,
  Lc,
  Zc,
  Uc,
  qc,
  Jc,
  Bc,
  Ka,
  Gc,
  zc,
  Vc,
  Hc,
  Wc,
  Kc,
  Yc,
  Xc,
  nd,
  rd,
  ud,
  sd,
  ad,
  id,
  od
]);
me("type", [
  xc,
  Sc,
  Ic,
  Tc,
  Cc,
  Ec,
  Oc,
  Qc,
  ed,
  td
]);
function Hr(n) {
  const e = JSON.parse(n.data.toString()), t = dd.safeParse(e);
  if (!t.success) {
    const r = cd.safeParse(e);
    return r.success ? { data: r.data, isGeneric: !0 } : { data: null, isGeneric: !0 };
  }
  return { data: t.data, isGeneric: !1 };
}
const ld = "gpt-realtime", Te = {
  outputModalities: ["audio"],
  audio: {
    input: {
      format: { type: "audio/pcm", rate: 24e3 },
      transcription: { model: "gpt-4o-mini-transcribe" },
      turnDetection: { type: "semantic_vad" },
      noiseReduction: null
    },
    output: {
      format: { type: "audio/pcm", rate: 24e3 },
      speed: 1
    }
  }
};
var it, fn, ce, hn;
const Yr = class Yr extends Zr {
  constructor(t = {}) {
    super();
    I(this, it);
    I(this, fn);
    I(this, ce, null);
    I(this, hn, null);
    _(this, "eventEmitter", new Wn());
    v(this, it, t.model ?? ld), v(this, fn, t.apiKey);
  }
  /**
   * The current model that is being used by the transport layer.
   */
  get currentModel() {
    return o(this, it);
  }
  /**
   * The current model that is being used by the transport layer.
   * **Note**: The model cannot be changed mid conversation.
   */
  set currentModel(t) {
    v(this, it, t);
  }
  get _rawSessionConfig() {
    return o(this, hn) ?? null;
  }
  async _getApiKey(t) {
    const r = t.apiKey ?? o(this, fn);
    return typeof r == "function" ? await r() : r;
  }
  _onMessage(t) {
    var a, i, u, l, c, p;
    const { data: r, isGeneric: s } = Hr(t);
    if (r !== null && (this.emit("*", r), !s)) {
      if (r.type === "error" ? this.emit("error", { type: "error", error: r }) : this.emit(r.type, r), r.type === "response.created") {
        this.emit("turn_started", {
          type: "response_started",
          providerData: {
            ...r
          }
        });
        return;
      }
      if (r.type === "session.updated" && v(this, hn, r.session), r.type === "response.done") {
        const f = Ka.safeParse(r);
        if (!f.success) {
          ye.error("Error parsing response done event", f.error);
          return;
        }
        const h = ((a = f.data.response.usage) == null ? void 0 : a.input_tokens) ?? 0, b = ((i = f.data.response.usage) == null ? void 0 : i.output_tokens) ?? 0, y = h + b, w = new Xn({
          inputTokens: h,
          inputTokensDetails: ((u = f.data.response.usage) == null ? void 0 : u.input_token_details) ?? {},
          outputTokens: b,
          outputTokensDetails: ((l = f.data.response.usage) == null ? void 0 : l.output_token_details) ?? {},
          totalTokens: y
        });
        this.emit("usage_update", w), this.emit("turn_done", {
          type: "response_done",
          response: {
            id: f.data.response.id ?? "",
            output: f.data.response.output ?? [],
            usage: {
              inputTokens: h,
              inputTokensDetails: ((c = f.data.response.usage) == null ? void 0 : c.input_token_details) ?? {},
              outputTokens: b,
              outputTokensDetails: ((p = f.data.response.usage) == null ? void 0 : p.output_token_details) ?? {},
              totalTokens: y
            }
          }
        });
        return;
      }
      if (r.type === "response.output_audio.done") {
        this.emit("audio_done");
        return;
      }
      if (r.type === "conversation.item.deleted") {
        this.emit("item_deleted", {
          itemId: r.item_id
        });
        return;
      }
      if (r.type === "conversation.item.input_audio_transcription.completed" || r.type === "conversation.item.truncated") {
        this.sendEvent({
          type: "conversation.item.retrieve",
          item_id: r.item_id
        });
        return;
      }
      if (r.type === "conversation.item.input_audio_transcription.delta" || r.type === "response.output_text.delta" || r.type === "response.output_audio_transcript.delta" || r.type === "response.function_call_arguments.delta") {
        r.type === "response.output_audio_transcript.delta" && this.emit("audio_transcript_delta", {
          type: "transcript_delta",
          delta: r.delta,
          itemId: r.item_id,
          responseId: r.response_id
        });
        return;
      }
      if (r.type === "conversation.item.added" || r.type === "conversation.item.done" || r.type === "conversation.item.retrieved") {
        if (r.item.type === "mcp_list_tools" && r.type === "conversation.item.done") {
          const f = r.item.server_label ?? "", h = r.item.tools ?? [];
          try {
            this.emit("mcp_tools_listed", {
              serverLabel: f,
              tools: h
            });
          } catch (b) {
            ye.error("Error emitting mcp_tools_listed", b, r.item);
          }
          return;
        }
        if (r.item.type === "message") {
          const f = r.type === "conversation.item.added" || r.type === "conversation.item.done" ? r.previous_item_id : null, h = Xs.parse({
            itemId: r.item.id,
            previousItemId: f,
            type: r.item.type,
            role: r.item.role,
            content: r.item.content,
            status: r.item.status
          });
          this.emit("item_update", h);
          return;
        }
        if (r.item.type === "mcp_approval_request" && r.type === "conversation.item.done") {
          const f = r.item, h = lc.parse({
            itemId: f.id,
            type: f.type,
            serverLabel: f.server_label,
            name: f.name,
            arguments: JSON.parse(f.arguments || "{}"),
            approved: f.approved
          });
          this.emit("item_update", h), this.emit("mcp_approval_request", h);
          return;
        }
        if (r.item.type === "mcp_tool_call" || r.item.type === "mcp_call") {
          const f = r.type === "conversation.item.done" ? "completed" : "in_progress", h = ea.parse({
            itemId: r.item.id,
            type: r.item.type,
            status: f,
            arguments: r.item.arguments,
            name: r.item.name,
            output: r.item.output
          });
          this.emit("item_update", h), r.type === "conversation.item.done" && this.emit("mcp_tool_call_completed", h);
          return;
        }
      }
      if (r.type === "response.mcp_call.in_progress") {
        const f = r;
        this.sendEvent({
          type: "conversation.item.retrieve",
          item_id: f.item_id
        });
        return;
      }
      if (r.type === "mcp_list_tools.in_progress") {
        const f = r;
        f.item_id && this.sendEvent({
          type: "conversation.item.retrieve",
          item_id: f.item_id
        });
        return;
      }
      if (r.type === "response.output_item.done" || r.type === "response.output_item.added") {
        const f = r.item;
        if (f.type === "function_call" && f.status === "completed") {
          const h = Qs.parse({
            itemId: f.id,
            type: f.type,
            status: "in_progress",
            // we set it to in_progress for the UI as it will only be completed with the output
            arguments: f.arguments,
            name: f.name,
            output: null
          });
          this.emit("item_update", h), this.emit("function_call", {
            id: f.id,
            type: "function_call",
            callId: f.call_id ?? "",
            arguments: f.arguments ?? "",
            name: f.name ?? ""
          });
          return;
        }
        if (f.type === "mcp_tool_call" || f.type === "mcp_call") {
          const h = ea.parse({
            itemId: f.id,
            type: f.type,
            status: r.type === "response.output_item.done" ? "completed" : "in_progress",
            // we set it to in_progress for the UI as it will only be completed with the output
            arguments: f.arguments,
            name: f.name,
            output: f.output
          });
          this.emit("item_update", h);
          return;
        }
        if (f.type === "message") {
          const h = Xs.parse({
            itemId: r.item.id,
            type: r.item.type,
            role: r.item.role,
            content: r.item.content,
            status: r.type === "response.output_item.done" ? f.status ?? "completed" : f.status ?? "in_progress"
          });
          this.emit("item_update", h);
          return;
        }
      }
    }
  }
  _onError(t) {
    this.emit("error", {
      type: "error",
      error: t
    });
  }
  _onOpen() {
    this.emit("connected");
  }
  _onClose() {
    this.emit("disconnected");
  }
  /**
   * Send a message to the Realtime API. This will create a new item in the conversation and
   * trigger a response.
   *
   * @param message - The message to send.
   * @param otherEventData - Additional event data to send.
   */
  sendMessage(t, r, { triggerResponse: s = !0 } = {}) {
    const a = typeof t == "string" ? [
      {
        type: "input_text",
        text: t
      }
    ] : t.content.map((i) => i.type === "input_image" ? {
      type: "input_image",
      image_url: i.image,
      ...i.providerData ?? {}
    } : i);
    this.sendEvent({
      type: "conversation.item.create",
      item: {
        type: "message",
        role: "user",
        content: a
      },
      ...r
    }), s && this.sendEvent({
      type: "response.create"
    });
  }
  addImage(t, { triggerResponse: r = !0 } = {}) {
    this.sendMessage({
      type: "message",
      role: "user",
      content: [{ type: "input_image", image: t }]
    }, {}, { triggerResponse: r });
  }
  _getMergedSessionConfig(t) {
    var a, i, u, l, c, p, f, h, b, y, w, E, R, F, W, J, G, H, X, le, xe, ge, Xr, Qr, es, ts, ns, rs;
    const r = dc(t), s = {
      type: "realtime",
      instructions: r.instructions,
      model: r.model ?? o(this, it),
      output_modalities: r.outputModalities ?? Te.outputModalities,
      audio: {
        input: {
          format: ((i = (a = r.audio) == null ? void 0 : a.input) == null ? void 0 : i.format) ?? ((l = (u = Te.audio) == null ? void 0 : u.input) == null ? void 0 : l.format),
          noise_reduction: ((p = (c = r.audio) == null ? void 0 : c.input) == null ? void 0 : p.noiseReduction) ?? ((h = (f = Te.audio) == null ? void 0 : f.input) == null ? void 0 : h.noiseReduction),
          transcription: ((y = (b = r.audio) == null ? void 0 : b.input) == null ? void 0 : y.transcription) ?? ((E = (w = Te.audio) == null ? void 0 : w.input) == null ? void 0 : E.transcription),
          turn_detection: Yr.buildTurnDetectionConfig((F = (R = r.audio) == null ? void 0 : R.input) == null ? void 0 : F.turnDetection) ?? ((J = (W = Te.audio) == null ? void 0 : W.input) == null ? void 0 : J.turnDetection)
        },
        output: {
          format: ((H = (G = r.audio) == null ? void 0 : G.output) == null ? void 0 : H.format) ?? ((le = (X = Te.audio) == null ? void 0 : X.output) == null ? void 0 : le.format),
          voice: ((ge = (xe = r.audio) == null ? void 0 : xe.output) == null ? void 0 : ge.voice) ?? ((Qr = (Xr = Te.audio) == null ? void 0 : Xr.output) == null ? void 0 : Qr.voice),
          speed: ((ts = (es = r.audio) == null ? void 0 : es.output) == null ? void 0 : ts.speed) ?? ((rs = (ns = Te.audio) == null ? void 0 : ns.output) == null ? void 0 : rs.speed)
        }
      },
      tool_choice: r.toolChoice ?? Te.toolChoice,
      // We don't set tracing here to make sure that we don't try to override it on every
      // session.update as it might lead to errors
      ...r.providerData ?? {}
    };
    return r.prompt && (s.prompt = {
      id: r.prompt.promptId,
      version: r.prompt.version,
      variables: r.prompt.variables
    }), r.tools && r.tools.length > 0 && (s.tools = r.tools.map((ni) => ({
      ...ni,
      strict: void 0
    }))), s;
  }
  static buildTurnDetectionConfig(t) {
    if (typeof t > "u")
      return;
    const { type: r, createResponse: s, create_response: a, eagerness: i, interruptResponse: u, interrupt_response: l, prefixPaddingMs: c, prefix_padding_ms: p, silenceDurationMs: f, silence_duration_ms: h, threshold: b, idleTimeoutMs: y, idle_timeout_ms: w, ...E } = t, R = {
      type: r,
      create_response: s || a,
      eagerness: i,
      interrupt_response: u || l,
      prefix_padding_ms: c || p,
      silence_duration_ms: f || h,
      idle_timeout_ms: y || w,
      threshold: b,
      ...E
    };
    return Object.keys(R).forEach((F) => {
      R[F] === void 0 && delete R[F];
    }), Object.keys(R).length > 0 ? R : void 0;
  }
  /**
   * Sets the internal tracing config. This is used to track the tracing config that has been set
   * during the session.create event.
   */
  set _tracingConfig(t) {
    v(this, ce, t);
  }
  /**
   * Sets the tracing config for the session. This will send the tracing config to the Realtime API.
   *
   * @param tracingConfig - The tracing config to set. We don't support 'auto' here as the SDK will always configure a Workflow Name unless it exists
   */
  _updateTracingConfig(t) {
    var r, s, a;
    if (typeof o(this, ce) > "u" && v(this, ce, null), t === "auto") {
      this.sendEvent({
        type: "session.update",
        session: {
          type: "realtime",
          tracing: "auto"
        }
      });
      return;
    }
    if (o(this, ce) !== null && typeof o(this, ce) != "string" && typeof t != "string") {
      ye.warn("Tracing config is already set, skipping setting it again. This likely happens when you already set a tracing config on session creation.");
      return;
    }
    if (t === null) {
      ye.debug("Disabling tracing for this session. It cannot be turned on for this session from this point on."), this.sendEvent({
        type: "session.update",
        session: {
          type: "realtime",
          tracing: null
        }
      });
      return;
    }
    if (o(this, ce) === null || typeof o(this, ce) == "string") {
      this.sendEvent({
        type: "session.update",
        session: {
          type: "realtime",
          tracing: t
        }
      });
      return;
    }
    if ((t == null ? void 0 : t.group_id) !== ((r = o(this, ce)) == null ? void 0 : r.group_id) || (t == null ? void 0 : t.metadata) !== ((s = o(this, ce)) == null ? void 0 : s.metadata) || (t == null ? void 0 : t.workflow_name) !== ((a = o(this, ce)) == null ? void 0 : a.workflow_name)) {
      ye.warn("Mismatch in tracing config. Ignoring the new tracing config. This likely happens when you already set a tracing config on session creation. Current tracing config: %s, new tracing config: %s", JSON.stringify(o(this, ce)), JSON.stringify(t));
      return;
    }
    this.sendEvent({
      type: "session.update",
      session: {
        type: "realtime",
        tracing: t
      }
    });
  }
  /**
   * Updates the session config. This will merge it with the current session config with the default
   * values and send it to the Realtime API.
   *
   * @param config - The session config to update.
   */
  updateSessionConfig(t) {
    const r = this._getMergedSessionConfig(t);
    this.sendEvent({
      type: "session.update",
      session: r
    });
  }
  /**
   * Send the output of a function call to the Realtime API.
   *
   * @param toolCall - The tool call to send the output for.
   * @param output - The output of the function call.
   * @param startResponse - Whether to start a new response after sending the output.
   */
  sendFunctionCallOutput(t, r, s = !0) {
    this.sendEvent({
      type: "conversation.item.create",
      item: {
        type: "function_call_output",
        output: r,
        call_id: t.callId
      }
    });
    try {
      const a = Qs.parse({
        itemId: t.id,
        previousItemId: t.previousItemId,
        type: "function_call",
        status: "completed",
        arguments: t.arguments,
        name: t.name,
        output: r
      });
      this.emit("item_update", a);
    } catch (a) {
      ye.error("Error parsing tool call item", a, t);
    }
    s && this.sendEvent({
      type: "response.create"
    });
  }
  /**
   * Send an audio buffer to the Realtime API. If `{ commit: true }` is passed, the audio buffer
   * will be committed and the model will start processing it. This is necessary if you have
   * disabled turn detection / voice activity detection (VAD).
   *
   * @param audio - The audio buffer to send.
   * @param options - The options for the audio buffer.
   */
  sendAudio(t, { commit: r = !1 } = {}) {
    this.sendEvent({
      type: "input_audio_buffer.append",
      audio: za(t)
    }), r && this.sendEvent({
      type: "input_audio_buffer.commit"
    });
  }
  /**
   * Reset the history of the conversation. This will create a diff between the old and new history
   * and send the necessary events to the Realtime API to update the history.
   *
   * @param oldHistory - The old history of the conversation.
   * @param newHistory - The new history of the conversation.
   */
  resetHistory(t, r) {
    const { removals: s, additions: a, updates: i } = nc(t, r), u = new Set(s.map((c) => c.itemId));
    for (const c of i)
      u.add(c.itemId);
    if (u.size > 0)
      for (const c of u)
        this.sendEvent({
          type: "conversation.item.delete",
          item_id: c
        });
    const l = [...a, ...i];
    for (const c of l)
      if (c.type === "message") {
        const p = {
          type: "message",
          role: c.role,
          content: c.content,
          id: c.itemId
        };
        c.role !== "system" && c.status && (p.status = c.status), this.sendEvent({
          type: "conversation.item.create",
          item: p
        });
      } else c.type === "function_call" && ye.warn("Function calls cannot be manually added or updated at the moment. Ignoring.");
  }
  sendMcpResponse(t, r) {
    this.sendEvent({
      type: "conversation.item.create",
      previous_item_id: t.itemId,
      item: {
        type: "mcp_approval_response",
        approval_request_id: t.itemId,
        approve: r
      }
    });
  }
};
it = new WeakMap(), fn = new WeakMap(), ce = new WeakMap(), hn = new WeakMap();
let zn = Yr;
var mn, V, gn, ot, _n;
class pd extends zn {
  constructor(t = {}) {
    if (typeof RTCPeerConnection > "u")
      throw new Error("WebRTC is not supported in this environment");
    super(t);
    _(this, "options");
    I(this, mn);
    I(this, V, {
      status: "disconnected",
      peerConnection: void 0,
      dataChannel: void 0,
      callId: void 0
    });
    I(this, gn);
    I(this, ot, !1);
    I(this, _n, !1);
    this.options = t, v(this, mn, t.baseUrl ?? "https://api.openai.com/v1/realtime/calls"), v(this, gn, t.useInsecureApiKey ?? !1);
  }
  /**
   * The current call ID of the WebRTC connection.
   */
  get callId() {
    return o(this, V).callId;
  }
  /**
   * The current status of the WebRTC connection.
   */
  get status() {
    return o(this, V).status;
  }
  /**
   * The current connection state of the WebRTC connection including the peer connection and data
   * channel.
   */
  get connectionState() {
    return o(this, V);
  }
  /**
   * Whether the session is muted.
   */
  get muted() {
    return o(this, _n);
  }
  /**
   * Connect to the Realtime API. This will establish the connection to the OpenAI Realtime API
   * via WebRTC.
   *
   * If you are using a browser, the transport layer will also automatically configure the
   * microphone and audio output to be used by the session.
   *
   * @param options - The options for the connection.
   */
  async connect(t) {
    if (o(this, V).status === "connected")
      return;
    o(this, V).status === "connecting" && ye.warn("Realtime connection already in progress. Please await original promise");
    const r = t.model ?? this.currentModel;
    this.currentModel = r;
    const s = t.url ?? o(this, mn), a = await this._getApiKey(t), i = typeof a == "string" && a.startsWith("ek_");
    if (!o(this, gn) && !i)
      throw new te("Using the WebRTC connection in a browser environment requires an ephemeral client key. If you need to use a regular API key, use the WebSocket transport or set the `useInsecureApiKey` option to true.");
    return new Promise(async (u, l) => {
      var c, p;
      try {
        const f = {
          ...t.initialSessionConfig || {},
          model: this.currentModel
        }, h = new URL(s);
        let b = new RTCPeerConnection();
        const y = b.createDataChannel("oai-events");
        let w;
        v(this, V, {
          status: "connecting",
          peerConnection: b,
          dataChannel: y,
          callId: w
        }), this.emit("connection_change", o(this, V).status), y.addEventListener("open", () => {
          v(this, V, {
            status: "connected",
            peerConnection: b,
            dataChannel: y,
            callId: w
          }), this.updateSessionConfig(f), this.emit("connection_change", o(this, V).status), this._onOpen(), u();
        }), y.addEventListener("error", (G) => {
          this.close(), this._onError(G), l(G);
        }), y.addEventListener("message", (G) => {
          this._onMessage(G);
          const { data: H, isGeneric: X } = Hr(G);
          !H || X || (H.type === "response.created" ? v(this, ot, !0) : H.type === "response.done" && v(this, ot, !1), H.type === "session.created" && (this._tracingConfig = H.session.tracing, this._updateTracingConfig(f.tracing ?? "auto")));
        });
        const E = this.options.audioElement ?? document.createElement("audio");
        E.autoplay = !0, b.ontrack = (G) => {
          E.srcObject = G.streams[0];
        };
        const R = this.options.mediaStream ?? await navigator.mediaDevices.getUserMedia({
          audio: !0
        });
        b.addTrack(R.getAudioTracks()[0]), this.options.changePeerConnection && (b = await this.options.changePeerConnection(b), v(this, V, { ...o(this, V), peerConnection: b }));
        const F = await b.createOffer();
        if (await b.setLocalDescription(F), !F.sdp)
          throw new Error("Failed to create offer");
        const W = await fetch(h, {
          method: "POST",
          body: F.sdp,
          headers: {
            "Content-Type": "application/sdp",
            Authorization: `Bearer ${a}`,
            "X-OpenAI-Agents-SDK": Ha["X-OpenAI-Agents-SDK"]
          }
        });
        w = (p = (c = W.headers) == null ? void 0 : c.get("Location")) == null ? void 0 : p.split("/").pop(), v(this, V, { ...o(this, V), callId: w });
        const J = {
          type: "answer",
          sdp: await W.text()
        };
        await b.setRemoteDescription(J);
      } catch (f) {
        this.close(), this._onError(f), l(f);
      }
    });
  }
  /**
   * Send an event to the Realtime API. This will stringify the event and send it directly to the
   * API. This can be used if you want to take control over the connection and send events manually.
   *
   * @param event - The event to send.
   */
  sendEvent(t) {
    if (!o(this, V).dataChannel || o(this, V).dataChannel.readyState !== "open")
      throw new Error("WebRTC data channel is not connected. Make sure you call `connect()` before sending events.");
    o(this, V).dataChannel.send(JSON.stringify(t));
  }
  /**
   * Mute or unmute the session.
   * @param muted - Whether to mute the session.
   */
  mute(t) {
    v(this, _n, t), o(this, V).peerConnection && o(this, V).peerConnection.getSenders().forEach((s) => {
      s.track && (s.track.enabled = !t);
    });
  }
  /**
   * Close the connection to the Realtime API and disconnects the underlying WebRTC connection.
   */
  close() {
    if (o(this, V).dataChannel && o(this, V).dataChannel.close(), o(this, V).peerConnection) {
      const t = o(this, V).peerConnection;
      t.getSenders().forEach((r) => {
        var s;
        (s = r.track) == null || s.stop();
      }), t.close();
    }
    o(this, V).status !== "disconnected" && (v(this, V, {
      status: "disconnected",
      peerConnection: void 0,
      dataChannel: void 0,
      callId: void 0
    }), this.emit("connection_change", o(this, V).status), this._onClose());
  }
  /**
   * Interrupt the current response if one is ongoing and clear the audio buffer so that the agent
   * stops talking.
   */
  interrupt() {
    o(this, ot) && (this.sendEvent({
      type: "response.cancel"
    }), v(this, ot, !1)), this.sendEvent({
      type: "output_audio_buffer.clear"
    });
  }
}
mn = new WeakMap(), V = new WeakMap(), gn = new WeakMap(), ot = new WeakMap(), _n = new WeakMap();
const fd = globalThis.WebSocket;
var Ve, He, ne, yn, je, ut, ct, Pt, vn, Hn, Ya;
class hd extends zn {
  constructor(t = {}) {
    super(t);
    I(this, Hn);
    I(this, Ve);
    I(this, He);
    I(this, ne, {
      status: "disconnected",
      websocket: void 0
    });
    I(this, yn);
    I(this, je);
    I(this, ut);
    /**
     * Timestamp maintained by the transport layer to aid with the calculation of the elapsed time
     * since the response started to compute the right interruption time.
     *
     * Mostly internal but might be used by extended transport layers for their interruption
     * calculation.
     */
    _(this, "_firstAudioTimestamp");
    _(this, "_audioLengthMs", 0);
    I(this, ct, !1);
    I(this, Pt);
    I(this, vn);
    v(this, He, t.url), v(this, yn, t.useInsecureApiKey ?? !1), v(this, Pt, t.createWebSocket), v(this, vn, t.skipOpenEventListeners ?? !1);
  }
  getCommonRequestHeaders() {
    return Ha;
  }
  /**
   * The current status of the WebSocket connection.
   */
  get status() {
    return o(this, ne).status;
  }
  /**
   * The current connection state of the WebSocket connection.
   */
  get connectionState() {
    return o(this, ne);
  }
  /**
   * Always returns `null` as the WebSocket transport layer does not handle muting. Instead,
   * this should be handled by the client by not triggering the `sendAudio` method.
   */
  get muted() {
    return null;
  }
  /**
   * The current item ID of the ongoing response.
   */
  get currentItemId() {
    return o(this, je);
  }
  /**
   * Triggers the `audio` event that a client might listen to to receive the audio buffer.
   * Protected for you to be able to override and disable emitting this event in case your extended
   * transport layer handles audio internally.
   *
   * @param audioEvent - The audio event to emit.
   */
  _onAudio(t) {
    this.emit("audio", t);
  }
  async connect(t) {
    const r = t.model ?? this.currentModel;
    this.currentModel = r, v(this, Ve, await this._getApiKey(t));
    const s = t.url ?? o(this, He) ?? `wss://api.openai.com/v1/realtime?model=${this.currentModel}`;
    v(this, He, s);
    const a = {
      ...t.initialSessionConfig || {},
      model: this.currentModel
    };
    await new Promise((i, u) => {
      $(this, Hn, Ya).call(this, i, u, a).catch(u);
    }), await this.updateSessionConfig(a);
  }
  /**
   * Send an event to the Realtime API. This will stringify the event and send it directly to the
   * API. This can be used if you want to take control over the connection and send events manually.
   *
   * @param event - The event to send.
   */
  sendEvent(t) {
    if (!o(this, ne).websocket)
      throw new Error("WebSocket is not connected. Make sure you call `connect()` before sending events.");
    o(this, ne).websocket.send(JSON.stringify(t));
  }
  /**
   * Close the WebSocket connection.
   *
   * This will also reset any internal connection tracking used for interruption handling.
   */
  close() {
    var t;
    (t = o(this, ne).websocket) == null || t.close(), v(this, je, void 0), this._firstAudioTimestamp = void 0, this._audioLengthMs = 0, v(this, ut, void 0);
  }
  /**
   * Will throw an error as the WebSocket transport layer does not support muting.
   */
  mute(t) {
    throw new Error("Mute is not supported for the WebSocket transport. You have to mute the audio input yourself.");
  }
  /**
   * Send an audio buffer to the Realtime API. This is used for your client to send audio to the
   * model to respond.
   *
   * @param audio - The audio buffer to send.
   * @param options - The options for the audio buffer.
   */
  sendAudio(t, r = {}) {
    o(this, ne).status === "connected" && super.sendAudio(t, r);
  }
  /**
   * Send a cancel response event to the Realtime API. This is used to cancel an ongoing
   *  response that the model is currently generating.
   */
  _cancelResponse() {
    o(this, ct) && (this.sendEvent({
      type: "response.cancel"
    }), v(this, ct, !1));
  }
  /**
   * Do NOT call this method directly. Call `interrupt()` instead for proper interruption handling.
   *
   * This method is used to send the right events to the API to inform the model that the user has
   * interrupted the response. It might be overridden/extended by an extended transport layer. See
   * the `TwilioRealtimeTransportLayer` for an example.
   *
   * @param elapsedTime - The elapsed time since the response started.
   */
  _interrupt(t, r = !0) {
    if (t < 0)
      return;
    r && this._cancelResponse();
    const s = this._audioLengthMs ?? Number.POSITIVE_INFINITY, a = Math.max(0, Math.floor(Math.min(t, s)));
    this.emit("audio_interrupted"), this.sendEvent({
      type: "conversation.item.truncate",
      item_id: o(this, je),
      content_index: o(this, ut),
      audio_end_ms: a
    });
  }
  /**
   * Interrupt the ongoing response. This method is triggered automatically by the client when
   * voice activity detection (VAD) is enabled (default) as well as when an output guardrail got
   * triggered.
   *
   * You can also call this method directly if you want to interrupt the conversation for example
   * based on an event in the client.
   */
  interrupt(t = !0) {
    if (!o(this, je) || typeof this._firstAudioTimestamp != "number")
      return;
    const r = Date.now() - this._firstAudioTimestamp;
    r >= 0 && this._interrupt(r, t), v(this, je, void 0), this._firstAudioTimestamp = void 0, this._audioLengthMs = 0, v(this, ut, void 0);
  }
}
Ve = new WeakMap(), He = new WeakMap(), ne = new WeakMap(), yn = new WeakMap(), je = new WeakMap(), ut = new WeakMap(), ct = new WeakMap(), Pt = new WeakMap(), vn = new WeakMap(), Hn = new WeakSet(), Ya = async function(t, r, s) {
  if (o(this, ne).websocket) {
    t();
    return;
  }
  if (!o(this, Ve))
    throw new te("API key is not set. Please call `connect()` with an API key first.");
  if (!o(this, Ve).startsWith("ek_") && !o(this, yn))
    throw new te("Using the WebSocket connection in a browser environment requires an ephemeral client key. If you have to use a regular API key, set the `useInsecureApiKey` option to true.");
  let a = null;
  if (o(this, Pt))
    a = await o(this, Pt).call(this, {
      url: o(this, He),
      apiKey: o(this, Ve)
    });
  else {
    const u = [
      "realtime",
      // Auth
      "openai-insecure-api-key." + o(this, Ve),
      // Version header
      sc
    ];
    a = new fd(o(this, He), u);
  }
  v(this, ne, {
    status: "connecting",
    websocket: a
  }), this.emit("connection_change", o(this, ne).status);
  const i = () => {
    v(this, ne, {
      status: "connected",
      websocket: a
    }), this.emit("connection_change", o(this, ne).status), this._onOpen(), t();
  };
  o(this, vn) === !0 ? i() : a.addEventListener("open", i), a.addEventListener("error", (u) => {
    this._onError(u), v(this, ne, {
      status: "disconnected",
      websocket: void 0
    }), this.emit("connection_change", o(this, ne).status), r(u);
  }), a.addEventListener("message", (u) => {
    var p, f, h, b, y, w, E;
    this._onMessage(u);
    const { data: l, isGeneric: c } = Hr(u);
    if (!(!l || c))
      if (l.type === "response.output_audio.delta") {
        v(this, ut, l.content_index), v(this, je, l.item_id), this._firstAudioTimestamp === void 0 && (this._firstAudioTimestamp = Date.now(), this._audioLengthMs = 0);
        const R = Ga(l.delta), F = (h = (f = (p = this._rawSessionConfig) == null ? void 0 : p.audio) == null ? void 0 : f.output) == null ? void 0 : h.format;
        if (F && typeof F == "object") {
          const J = F.type;
          if (J === "audio/pcmu" || J === "audio/pcma")
            this._audioLengthMs += R.byteLength / 8;
          else if (J === "audio/pcm") {
            const G = F.rate ?? 24e3;
            this._audioLengthMs += R.byteLength / 2 / G * 1e3;
          } else
            this._audioLengthMs += R.byteLength / 24 / 2;
        } else typeof F == "string" ? F.startsWith("g711_") ? this._audioLengthMs += R.byteLength / 8 : this._audioLengthMs += R.byteLength / 24 / 2 : this._audioLengthMs += R.byteLength / 24 / 2;
        const W = {
          type: "audio",
          data: R,
          responseId: l.response_id
        };
        this._onAudio(W);
      } else if (l.type === "input_audio_buffer.speech_started") {
        const R = ((E = (w = (y = (b = this._rawSessionConfig) == null ? void 0 : b.audio) == null ? void 0 : y.input) == null ? void 0 : w.turn_detection) == null ? void 0 : E.interrupt_response) ?? !1;
        this.interrupt(!R);
      } else l.type === "response.created" ? v(this, ct, !0) : l.type === "response.done" ? v(this, ct, !1) : l.type === "session.created" && (this._tracingConfig = l.session.tracing, this._updateTracingConfig(s.tracing ?? "auto"));
  }), a.addEventListener("close", () => {
    v(this, ne, {
      status: "disconnected",
      websocket: void 0
    }), this.emit("connection_change", o(this, ne).status), this._onClose();
  });
};
const Xa = Symbol("backgroundResult");
function xd(n) {
  return {
    [Xa]: !0,
    content: n
  };
}
function md(n) {
  return typeof n == "object" && n !== null && Xa in n;
}
function gd(n) {
  return n.type === "function" || n.type === "hosted_tool" && n.name === "hosted_mcp";
}
function _d(n) {
  if (n.type === "function")
    return n;
  if (n.type === "hosted_tool" && n.name === "hosted_mcp") {
    const e = n.providerData.server_url && n.providerData.server_url.length > 0 ? n.providerData.server_url : void 0;
    return {
      type: "mcp",
      server_label: n.providerData.server_label,
      server_url: e,
      headers: n.providerData.headers,
      allowed_tools: n.providerData.allowed_tools,
      require_approval: n.providerData.require_approval
    };
  }
  throw new te(`Invalid tool type: ${n}`);
}
function yd() {
  return JSON.parse(JSON.stringify(Te));
}
var j, N, Mt, D, jt, $t, wn, Y, Ft, Lt, Ae, bn, dt, xn, Sn, K, En, On, Qa, Rn, ei, Pr, ti, Mr;
class Sd extends Wn {
  constructor(t, r = {}) {
    super();
    I(this, K);
    _(this, "initialAgent");
    _(this, "options");
    I(this, j);
    I(this, N);
    I(this, Mt);
    I(this, D);
    I(this, jt, []);
    I(this, $t);
    I(this, wn, {});
    I(this, Y, []);
    I(this, Ft);
    I(this, Lt, {});
    I(this, Ae, !1);
    // Tracks all MCP tools fetched per server label (from mcp_list_tools results).
    I(this, bn, /* @__PURE__ */ new Map());
    // Tracks currently available MCP tools based on the active agent's configured server_labels.
    I(this, dt, []);
    // Keeps track of the last full session config we sent (camelCase keys) so that
    // subsequent updates (e.g. during agent handoffs) preserve properties that are
    // not explicitly recalculated here (such as inputAudioFormat, outputAudioFormat,
    // modalities, speed, toolChoice, turnDetection, etc.). Without this, updating
    // the agent would drop audio format overrides (e.g. g711_ulaw) and revert to
    // transport defaults causing issues for integrations like Twilio.
    I(this, xn, yd());
    I(this, Sn, !0);
    this.initialAgent = t, this.options = r, typeof r.transport > "u" && rc() || r.transport === "webrtc" ? v(this, j, new pd()) : r.transport === "websocket" || typeof r.transport > "u" ? v(this, j, new hd()) : v(this, j, r.transport), v(this, N, t), v(this, D, new St({
      ...r.context ?? {},
      history: o(this, Y)
    })), v(this, jt, (r.outputGuardrails ?? []).map(oc)), v(this, $t, ic(r.outputGuardrailSettings ?? {})), v(this, Ft, r.historyStoreAudio ?? !1), v(this, Sn, r.automaticallyTriggerResponseForMcpToolCalls ?? !0);
  }
  /**
   * The transport layer used by the session.
   */
  get transport() {
    return o(this, j);
  }
  /**
   * The current agent in the session.
   */
  get currentAgent() {
    return o(this, N);
  }
  /**
   * The current usage of the session.
   */
  get usage() {
    return o(this, D).usage;
  }
  /**
   * The current context of the session.
   */
  get context() {
    return o(this, D);
  }
  /**
   * Whether the session is muted. Might be `null` if the underlying transport layer does not
   * support muting.
   */
  get muted() {
    return o(this, j).muted;
  }
  /**
   * The history of the session.
   */
  get history() {
    return o(this, Y);
  }
  get availableMcpTools() {
    return o(this, dt);
  }
  async updateAgent(t) {
    return o(this, N).emit("agent_handoff", o(this, D), t), this.emit("agent_handoff", o(this, D), o(this, N), t), await $(this, K, En).call(this, t), await o(this, j).updateSessionConfig(await $(this, K, On).call(this)), t;
  }
  /**
   * Connect to the session. This will establish the connection to the underlying transport layer
   * and start the session.
   *
   * After connecting, the session will also emit a `history_updated` event with an empty history.
   *
   * @param options - The options for the connection.
   */
  async connect(t) {
    await $(this, K, En).call(this, this.initialAgent), $(this, K, ti).call(this), await o(this, j).connect({
      apiKey: t.apiKey ?? this.options.apiKey,
      model: this.options.model,
      url: t.url,
      initialSessionConfig: await $(this, K, On).call(this, this.options.config)
    }), v(this, Y, []), this.emit("history_updated", o(this, Y));
  }
  /**
   * Update the history of the session.
   * @param newHistory - The new history to set.
   */
  updateHistory(t) {
    let r;
    typeof t == "function" ? r = t(o(this, Y)) : r = t, o(this, j).resetHistory(o(this, Y), r);
  }
  /**
   * Send a message to the session.
   * @param message - The message to send.
   * @param otherEventData - Additional event data to send.
   */
  sendMessage(t, r = {}) {
    o(this, j).sendMessage(t, r);
  }
  /**
   * Add image to the session
   * @param image - The image to add.
   */
  addImage(t, { triggerResponse: r = !0 } = {}) {
    o(this, j).addImage(t, { triggerResponse: r });
  }
  /**
   * Mute the session.
   * @param muted - Whether to mute the session.
   */
  mute(t) {
    o(this, j).mute(t);
  }
  /**
   * Disconnect from the session.
   */
  close() {
    v(this, Lt, {}), o(this, j).close();
  }
  /**
   * Send audio to the session.
   * @param audio - The audio to send.
   * @param options - Additional options.
   * @param options.commit - Whether to finish the turn with this audio.
   */
  sendAudio(t, r = {}) {
    o(this, j).sendAudio(t, r);
  }
  /**
   * Interrupt the session artificially for example if you want to build a "stop talking"
   * button.
   */
  interrupt() {
    o(this, j).interrupt();
  }
  /**
   * Approve a tool call. This will also trigger the tool call to the agent.
   * @param approvalItem - The approval item to approve.
   * @param options - Additional options.
   * @param options.alwaysApprove - Whether to always approve the tool call.
   */
  async approve(t, r = { alwaysApprove: !1 }) {
    o(this, D).approveTool(t, r);
    const s = o(this, N).tools.find((a) => a.name === t.rawItem.name);
    if (s && s.type === "function" && t.rawItem.type === "function_call")
      await $(this, K, Rn).call(this, t.rawItem, s);
    else if (t.rawItem.type === "hosted_tool_call") {
      r.alwaysApprove && ye.warn("Always approving MCP tools is not supported. Use the allowed tools configuration instead.");
      const a = Ys(t);
      o(this, j).sendMcpResponse(a, !0);
    } else
      throw new ve(`Tool ${t.rawItem.name} not found`);
  }
  /**
   * Reject a tool call. This will also trigger the tool call to the agent.
   * @param approvalItem - The approval item to reject.
   * @param options - Additional options.
   * @param options.alwaysReject - Whether to always reject the tool call.
   */
  async reject(t, r = { alwaysReject: !1 }) {
    o(this, D).rejectTool(t, r);
    const s = o(this, N).tools.find((a) => a.name === t.rawItem.name);
    if (s && s.type === "function" && t.rawItem.type === "function_call")
      await $(this, K, Rn).call(this, t.rawItem, s);
    else if (t.rawItem.type === "hosted_tool_call") {
      r.alwaysReject && ye.warn("Always rejecting MCP tools is not supported. Use the allowed tools configuration instead.");
      const a = Ys(t);
      o(this, j).sendMcpResponse(a, !1);
    } else
      throw new ve(`Tool ${t.rawItem.name} not found`);
  }
}
j = new WeakMap(), N = new WeakMap(), Mt = new WeakMap(), D = new WeakMap(), jt = new WeakMap(), $t = new WeakMap(), wn = new WeakMap(), Y = new WeakMap(), Ft = new WeakMap(), Lt = new WeakMap(), Ae = new WeakMap(), bn = new WeakMap(), dt = new WeakMap(), xn = new WeakMap(), Sn = new WeakMap(), K = new WeakSet(), En = async function(t) {
  v(this, N, t);
  const r = await o(this, N).getEnabledHandoffs(o(this, D)), s = r.map((l) => l.getHandoffAsFunctionTool()), a = (await o(this, N).getAllTools(o(this, D))).filter(gd).map(_d), i = typeof o(this, N).tools < "u" || typeof o(this, N).mcpServers < "u", u = r.length > 0;
  v(this, Mt, i || u ? [...a, ...s] : void 0), $(this, K, Mr).call(this);
}, On = async function(t = {}) {
  const r = await o(this, N).getSystemPrompt(o(this, D)), s = this.options.tracingDisabled ? null : this.options.workflowName ? {
    workflow_name: this.options.workflowName
  } : "auto";
  s !== null && s !== "auto" ? (this.options.groupId && (s.group_id = this.options.groupId), this.options.traceMetadata && (s.metadata = this.options.traceMetadata)) : (this.options.groupId || this.options.traceMetadata) && ye.warn("In order to set traceMetadata or a groupId you need to specify a workflowName.");
  const i = {
    ...{
      ...o(this, xn) ?? {},
      ...this.options.config ?? {},
      ...t ?? {}
    },
    instructions: r,
    voice: o(this, N).voice,
    model: this.options.model,
    tools: o(this, Mt),
    tracing: s,
    prompt: typeof o(this, N).prompt == "function" ? await o(this, N).prompt(o(this, D), o(this, N)) : o(this, N).prompt
  };
  return v(this, xn, i), i;
}, Qa = async function(t, r) {
  const s = await r.onInvokeHandoff(o(this, D), t.arguments);
  o(this, N).emit("agent_handoff", o(this, D), s), this.emit("agent_handoff", o(this, D), o(this, N), s), await $(this, K, En).call(this, s), await o(this, j).updateSessionConfig(await $(this, K, On).call(this));
  const a = ya(s);
  return o(this, j).sendFunctionCallOutput(t, a, !0), s;
}, Rn = async function(t, r) {
  o(this, D).context.history = JSON.parse(JSON.stringify(o(this, Y)));
  let s = t.arguments;
  if (r.parameters && (_t(r.parameters) ? s = r.parameters.parse(s) : s = JSON.parse(s)), await r.needsApproval(o(this, D), s, t.callId)) {
    const l = this.context.isToolApproved({
      toolName: r.name,
      callId: t.callId
    });
    if (l === !1) {
      this.emit("agent_tool_start", o(this, D), o(this, N), r, {
        toolCall: t
      }), o(this, N).emit("agent_tool_start", o(this, D), r, {
        toolCall: t
      });
      const c = "Tool execution was not approved.";
      o(this, j).sendFunctionCallOutput(t, c, !0), this.emit("agent_tool_end", o(this, D), o(this, N), r, c, { toolCall: t }), o(this, N).emit("agent_tool_end", o(this, D), r, c, {
        toolCall: t
      });
      return;
    } else if (typeof l > "u") {
      this.emit("tool_approval_requested", o(this, D), o(this, N), {
        type: "function_approval",
        tool: r,
        approvalItem: new we(t, o(this, N))
      });
      return;
    }
  }
  this.emit("agent_tool_start", o(this, D), o(this, N), r, {
    toolCall: t
  }), o(this, N).emit("agent_tool_start", o(this, D), r, {
    toolCall: t
  }), o(this, D).context.history = JSON.parse(JSON.stringify(o(this, Y)));
  const i = await r.invoke(o(this, D), t.arguments, {
    toolCall: t
  });
  let u;
  md(i) ? (u = Ke(i.content), o(this, j).sendFunctionCallOutput(t, u, !1)) : (u = Ke(i), o(this, j).sendFunctionCallOutput(t, u, !0)), this.emit("agent_tool_end", o(this, D), o(this, N), r, u, { toolCall: t }), o(this, N).emit("agent_tool_end", o(this, D), r, u, { toolCall: t });
}, ei = async function(t) {
  const r = await o(this, N).getEnabledHandoffs(o(this, D)), s = new Map(r.map((l) => [l.toolName, l])), a = await o(this, N).getAllTools(o(this, D)), i = new Map(a.map((l) => [l.name, l])), u = s.get(t.name);
  if (u)
    await $(this, K, Qa).call(this, t, u);
  else {
    const l = i.get(t.name);
    if (l && l.type === "function")
      await $(this, K, Rn).call(this, t, l);
    else
      throw new ve(`Tool ${t.name} not found`);
  }
}, Pr = async function(t, r, s) {
  if (o(this, jt).length === 0)
    return;
  const a = {
    agent: o(this, N),
    agentOutput: t,
    context: o(this, D)
  }, u = (await Promise.all(o(this, jt).map((l) => l.run(a)))).find((l) => l.output.tripwireTriggered);
  if (u) {
    if (o(this, Lt)[r])
      return;
    o(this, Lt)[r] = !0;
    const l = new br(`Output guardrail triggered: ${JSON.stringify(u.output.outputInfo)}`, u);
    this.emit("guardrail_tripped", o(this, D), o(this, N), l, {
      itemId: s
    }), this.interrupt();
    const c = uc(u);
    this.sendMessage(c);
    return;
  }
}, ti = function() {
  o(this, j).on("*", (s) => {
    if (this.emit("transport_event", s), s.type === "conversation.item.input_audio_transcription.completed")
      try {
        const a = s;
        v(this, Y, Ks(o(this, Y), a, o(this, Ft))), o(this, D).context.history = o(this, Y), this.emit("history_updated", o(this, Y));
      } catch (a) {
        this.emit("error", {
          type: "error",
          error: a
        });
      }
  }), o(this, j).on("mcp_tools_listed", ({ serverLabel: s, tools: a }) => {
    try {
      o(this, bn).set(s, a ?? []), $(this, K, Mr).call(this);
    } catch (i) {
      this.emit("error", { type: "error", error: i });
    }
  }), o(this, j).on("audio", (s) => {
    o(this, Ae) || (v(this, Ae, !0), this.emit("audio_start", o(this, D), o(this, N))), this.emit("audio", s);
  }), o(this, j).on("turn_started", () => {
    v(this, Ae, !1), this.emit("agent_start", o(this, D), o(this, N)), o(this, N).emit("agent_start", o(this, D), o(this, N));
  }), o(this, j).on("turn_done", (s) => {
    const a = s.response.output[s.response.output.length - 1], i = Va(a) ?? "", u = (a == null ? void 0 : a.id) ?? "";
    this.emit("agent_end", o(this, D), o(this, N), i), o(this, N).emit("agent_end", o(this, D), i), $(this, K, Pr).call(this, i, s.response.id, u);
  }), o(this, j).on("audio_done", () => {
    o(this, Ae) && v(this, Ae, !1), this.emit("audio_stopped", o(this, D), o(this, N));
  });
  let t = 0, r;
  o(this, j).on("audio_transcript_delta", (s) => {
    try {
      const a = s.delta, i = s.itemId, u = s.responseId;
      r !== i && (r = i, t = 0);
      const c = (o(this, wn)[i] ?? "") + a;
      if (o(this, wn)[i] = c, o(this, $t).debounceTextLength < 0)
        return;
      const p = Math.floor(c.length / o(this, $t).debounceTextLength);
      p > t && (t = p, $(this, K, Pr).call(this, c, u, i));
    } catch (a) {
      this.emit("error", {
        type: "error",
        error: a
      });
    }
  }), o(this, j).on("item_update", (s) => {
    try {
      const a = !o(this, Y).some((i) => i.itemId === s.itemId);
      if (v(this, Y, Ks(o(this, Y), s, o(this, Ft))), o(this, D).context.history = o(this, Y), a) {
        const i = o(this, Y).find((u) => u.itemId === s.itemId);
        i && this.emit("history_added", i);
      }
      this.emit("history_updated", o(this, Y));
    } catch (a) {
      this.emit("error", {
        type: "error",
        error: a
      });
    }
  }), o(this, j).on("item_deleted", (s) => {
    try {
      v(this, Y, o(this, Y).filter((a) => a.itemId !== s.itemId)), o(this, D).context.history = o(this, Y), this.emit("history_updated", o(this, Y));
    } catch (a) {
      this.emit("error", {
        type: "error",
        error: a
      });
    }
  }), o(this, j).on("function_call", async (s) => {
    try {
      await $(this, K, ei).call(this, s);
    } catch (a) {
      ye.error("Error handling function call", a), this.emit("error", {
        type: "error",
        error: a
      });
    }
  }), o(this, j).on("usage_update", (s) => {
    o(this, D).usage.add(s);
  }), o(this, j).on("audio_interrupted", () => {
    o(this, Ae) && v(this, Ae, !1), this.emit("audio_interrupted", o(this, D), o(this, N));
  }), o(this, j).on("error", (s) => {
    this.emit("error", s);
  }), o(this, j).on("mcp_tool_call_completed", (s) => {
    this.emit("mcp_tool_call_completed", o(this, D), o(this, N), s), o(this, Sn) && o(this, j).sendEvent({
      type: "response.create"
    });
  }), o(this, j).on("mcp_approval_request", (s) => {
    this.emit("tool_approval_requested", o(this, D), o(this, N), {
      type: "mcp_approval_request",
      approvalItem: ac(o(this, N), s)
    });
  });
}, /**
 * Recomputes the currently available MCP tools based on the current agent's active
 * MCP server configurations and the cached per-server tool listings. Emits
 * `mcp_tools_changed` if the set changed.
 */
Mr = function() {
  var l;
  const t = (l = o(this, Mt)) == null ? void 0 : l.filter((c) => c.type === "mcp"), r = (c) => {
    const p = c.allowed_tools;
    if (p) {
      if (Array.isArray(p))
        return p;
      if (p && Array.isArray(p.tool_names))
        return p.tool_names;
    }
  }, s = /* @__PURE__ */ new Map();
  for (const c of t) {
    const p = o(this, bn).get(c.server_label) ?? [], f = r(c);
    for (const h of p)
      f && !f.includes(h.name) || s.has(h.name) || s.set(h.name, h);
  }
  const a = Array.from(s.values()), i = o(this, dt);
  (i.length !== a.length || JSON.stringify(i.map((c) => c.name).sort()) !== JSON.stringify(a.map((c) => c.name).sort())) && (v(this, dt, a), this.emit("mcp_tools_changed", o(this, dt)));
};
const Id = {
  base64ToArrayBuffer: Ga,
  arrayBufferToBase64: za,
  getLastTextFromAudioOutputMessage: Va
};
export {
  ld as DEFAULT_OPENAI_REALTIME_MODEL,
  Te as DEFAULT_OPENAI_REALTIME_SESSION_CONFIG,
  ve as ModelBehaviorError,
  zn as OpenAIRealtimeBase,
  pd as OpenAIRealtimeWebRTC,
  hd as OpenAIRealtimeWebSocket,
  br as OutputGuardrailTripwireTriggered,
  bd as RealtimeAgent,
  Sd as RealtimeSession,
  te as UserError,
  xd as backgroundResult,
  md as isBackgroundResult,
  xr as tool,
  Id as utils
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlbmFpLXJlYWx0aW1lLWFnZW50cy5tanMiLCJzb3VyY2VzIjpbIi4uL21ldGFkYXRhLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvc2FmZUV4ZWN1dGUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvcGFyc2VyLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvT3B0aW9ucy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3V0aWwubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9SZWZzLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvZXJyb3JNZXNzYWdlcy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL2Rpc3QvZXNtL3YzL2hlbHBlcnMvdXRpbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvZGlzdC9lc20vdjMvWm9kRXJyb3IuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL2Rpc3QvZXNtL3YzL2xvY2FsZXMvZW4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL2Rpc3QvZXNtL3YzL2Vycm9ycy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvZGlzdC9lc20vdjMvaGVscGVycy9wYXJzZVV0aWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL2Rpc3QvZXNtL3YzL2hlbHBlcnMvZXJyb3JVdGlsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC9kaXN0L2VzbS92My90eXBlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hbnkubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9iaWdpbnQubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2Jvb2xlYW4ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JyYW5kZWQubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2NhdGNoLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kYXRlLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lZmZlY3RzLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lbnVtLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9pbnRlcnNlY3Rpb24ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2xpdGVyYWwubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3N0cmluZy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVjb3JkLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9tYXAubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL25hdGl2ZUVudW0ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL25ldmVyLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmlvbi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVsbGFibGUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bWJlci5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb2JqZWN0Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vcHRpb25hbC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcGlwZWxpbmUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Byb21pc2UubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3NldC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdHVwbGUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuZGVmaW5lZC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5rbm93bi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVhZG9ubHkubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZURlZi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3pvZFRvSnNvblNjaGVtYS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9SZXNwb25zZXNQYXJzZXIubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9oZWxwZXJzL3pvZC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2Vycm9ycy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3V0aWxzL3R5cGVHdWFyZHMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy90b29scy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvY29uZmlnLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvbG9nZ2VyLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvc21hcnRTdHJpbmcubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90b29sLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvbWNwLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3Qvc2hpbXMvc2hpbXMtYnJvd3Nlci5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2xpZmVjeWNsZS5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2RlZmF1bHRNb2RlbC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2hhbmRvZmYubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy9tZXNzYWdlcy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2FnZW50Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvZ3VhcmRyYWlsLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcHJvdmlkZXJzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHlwZXMvcHJvdG9jb2wubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91c2FnZS5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3J1bkNvbnRleHQubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy9zZXJpYWxpemUubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9pdGVtcy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvY3JlYXRlU3BhbnMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9ldmVudHMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9ydW5JbXBsZW1lbnRhdGlvbi5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3J1blN0YXRlLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcnVuLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcmVzdWx0Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9jb250ZXh0Lm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9wcm9jZXNzb3IubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90cmFjaW5nL3V0aWxzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9zcGFucy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvdHJhY2VzLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9wcm92aWRlci5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvaW5kZXgubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9pbmRleC5tanMiLCIuLi91dGlscy5tanMiLCIuLi9yZWFsdGltZUFnZW50Lm1qcyIsIi4uL2d1YXJkcmFpbC5tanMiLCIuLi9jbGllbnRNZXNzYWdlcy5tanMiLCIuLi9pdGVtcy5tanMiLCIuLi9sb2dnZXIubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qcyIsIi4uL29wZW5haVJlYWx0aW1lV2ViUnRjLm1qcyIsIi4uL3NoaW1zL3NoaW1zLWJyb3dzZXIubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVXZWJzb2NrZXQubWpzIiwiLi4vdG9vbC5tanMiLCIuLi9yZWFsdGltZVNlc3Npb24ubWpzIiwiLi4vaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZFxuZXhwb3J0IGNvbnN0IE1FVEFEQVRBID0ge1xuICAgIFwibmFtZVwiOiBcIkBvcGVuYWkvYWdlbnRzLXJlYWx0aW1lXCIsXG4gICAgXCJ2ZXJzaW9uXCI6IFwiMC4xLjEwXCIsXG4gICAgXCJ2ZXJzaW9uc1wiOiB7XG4gICAgICAgIFwiQG9wZW5haS9hZ2VudHMtcmVhbHRpbWVcIjogXCIwLjEuMTBcIixcbiAgICAgICAgXCJAb3BlbmFpL2FnZW50cy1jb3JlXCI6IFwid29ya3NwYWNlOipcIlxuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCBNRVRBREFUQTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGFkYXRhLm1qcy5tYXAiLCJleHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FmZUV4ZWN1dGUoZm4pIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gW251bGwsIGF3YWl0IGZuKCldO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFtlcnJvciwgbnVsbF07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FmZUV4ZWN1dGUubWpzLm1hcCIsImltcG9ydCB7IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvciwgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2wodG9vbCkge1xuICAgIHJldHVybiB0b29sICE9PSB1bmRlZmluZWQgJiYgJ2Z1bmN0aW9uJyBpbiB0b29sICYmIHRvb2wuZnVuY3Rpb24gIT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQocmVzcG9uc2VfZm9ybWF0LCBwYXJzZXIpIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnJlc3BvbnNlX2Zvcm1hdCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0JyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVUZXh0Rm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCwgcGFyc2VyKSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi5yZXNwb25zZV9mb3JtYXQgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCkge1xuICAgIHJldHVybiByZXNwb25zZV9mb3JtYXQ/LlsnJGJyYW5kJ10gPT09ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVUb29sKHRvb2wsIHsgcGFyc2VyLCBjYWxsYmFjaywgfSkge1xuICAgIGNvbnN0IG9iaiA9IHsgLi4udG9vbCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtdG9vbCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRjYWxsYmFjazoge1xuICAgICAgICAgICAgdmFsdWU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVRvb2wodG9vbCkge1xuICAgIHJldHVybiB0b29sPy5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtdG9vbCc7XG59XG5leHBvcnQgZnVuY3Rpb24gbWF5YmVQYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zIHx8ICFoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY29tcGxldGlvbixcbiAgICAgICAgICAgIGNob2ljZXM6IGNvbXBsZXRpb24uY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydFRvb2xDYWxsc0FyZUNoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sQ2FsbHMoY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY2hvaWNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jaG9pY2UubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfY2FsbHM6IGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gY29tcGxldGlvbi5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2NvbnRlbnRfZmlsdGVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydFRvb2xDYWxsc0FyZUNoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sQ2FsbHMoY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jaG9pY2UsXG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgLi4uY2hvaWNlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgLi4uKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgP1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzPy5tYXAoKHRvb2xDYWxsKSA9PiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpKSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIHBhcnNlZDogY2hvaWNlLm1lc3NhZ2UuY29udGVudCAmJiAhY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA/XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjaG9pY2UubWVzc2FnZS5jb250ZW50KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7IC4uLmNvbXBsZXRpb24sIGNob2ljZXMgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy5yZXNwb25zZV9mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwYXJhbXMucmVzcG9uc2VfZm9ybWF0Py50eXBlID09PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMucmVzcG9uc2VfZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZV9mb3JtYXQgPSBwYXJhbXMucmVzcG9uc2VfZm9ybWF0O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gcGFyYW1zLnRvb2xzPy5maW5kKChpbnB1dFRvb2wpID0+IGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2woaW5wdXRUb29sKSAmJiBpbnB1dFRvb2wuZnVuY3Rpb24/Lm5hbWUgPT09IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpOyAvLyBUUyBkb2Vzbid0IG5hcnJvdyBiYXNlZCBvbiBpc0NoYXRDb21wbGV0aW9uVG9vbFxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgLi4udG9vbENhbGwuZnVuY3Rpb24sXG4gICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIDogaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgaWYgKCFwYXJhbXMgfHwgISgndG9vbHMnIGluIHBhcmFtcykgfHwgIXBhcmFtcy50b29scykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpc0NoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sKGlucHV0VG9vbCkgJiYgaW5wdXRUb29sLmZ1bmN0aW9uPy5uYW1lID09PSB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lKTtcbiAgICByZXR1cm4gKGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2woaW5wdXRUb29sKSAmJlxuICAgICAgICAoaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgfHwgaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgfHwgZmFsc2UpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSB7XG4gICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAocGFyYW1zLnRvb2xzPy5zb21lKCh0KSA9PiBpc0F1dG9QYXJzYWJsZVRvb2wodCkgfHwgKHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0LmZ1bmN0aW9uLnN0cmljdCA9PT0gdHJ1ZSkpID8/IGZhbHNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUb29sQ2FsbHNBcmVDaGF0Q29tcGxldGlvbkZ1bmN0aW9uVG9vbENhbGxzKHRvb2xDYWxscykge1xuICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgdG9vbENhbGxzIHx8IFtdKSB7XG4gICAgICAgIGlmICh0b29sQ2FsbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgY2FsbHMgYXJlIHN1cHBvcnRlZDsgUmVjZWl2ZWQgXFxgJHt0b29sQ2FsbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRUb29scyh0b29scykge1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scyA/PyBbXSkge1xuICAgICAgICBpZiAodG9vbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgdHlwZXMgc3VwcG9ydCBhdXRvLXBhcnNpbmc7IFJlY2VpdmVkIFxcYCR7dG9vbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b29sLmZ1bmN0aW9uLnN0cmljdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBUaGUgXFxgJHt0b29sLmZ1bmN0aW9uLm5hbWV9XFxgIHRvb2wgaXMgbm90IG1hcmtlZCB3aXRoIFxcYHN0cmljdDogdHJ1ZVxcYC4gT25seSBzdHJpY3QgZnVuY3Rpb24gdG9vbHMgY2FuIGJlIGF1dG8tcGFyc2VkYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXIubWpzLm1hcCIsImV4cG9ydCBjb25zdCBpZ25vcmVPdmVycmlkZSA9IFN5bWJvbCgnTGV0IHpvZFRvSnNvblNjaGVtYSBkZWNpZGUgb24gd2hpY2ggcGFyc2VyIHRvIHVzZScpO1xuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgICRyZWZTdHJhdGVneTogJ3Jvb3QnLFxuICAgIGVmZmVjdFN0cmF0ZWd5OiAnaW5wdXQnLFxuICAgIHBpcGVTdHJhdGVneTogJ2FsbCcsXG4gICAgZGF0ZVN0cmF0ZWd5OiAnZm9ybWF0OmRhdGUtdGltZScsXG4gICAgbWFwU3RyYXRlZ3k6ICdlbnRyaWVzJyxcbiAgICBudWxsYWJsZVN0cmF0ZWd5OiAnZnJvbS10YXJnZXQnLFxuICAgIHJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneTogJ3Bhc3N0aHJvdWdoJyxcbiAgICBkZWZpbml0aW9uUGF0aDogJ2RlZmluaXRpb25zJyxcbiAgICB0YXJnZXQ6ICdqc29uU2NoZW1hNycsXG4gICAgc3RyaWN0VW5pb25zOiBmYWxzZSxcbiAgICBlcnJvck1lc3NhZ2VzOiBmYWxzZSxcbiAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBmYWxzZSxcbiAgICBwYXR0ZXJuU3RyYXRlZ3k6ICdlc2NhcGUnLFxuICAgIGFwcGx5UmVnZXhGbGFnczogZmFsc2UsXG4gICAgZW1haWxTdHJhdGVneTogJ2Zvcm1hdDplbWFpbCcsXG4gICAgYmFzZTY0U3RyYXRlZ3k6ICdjb250ZW50RW5jb2Rpbmc6YmFzZTY0JyxcbiAgICBuYW1lU3RyYXRlZ3k6ICdyZWYnLFxufTtcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0T3B0aW9ucyA9IChvcHRpb25zKSA9PiB7XG4gICAgLy8gV2UgbmVlZCB0byBhZGQgYGRlZmluaXRpb25zYCBoZXJlIGFzIHdlIG1heSBtdXRhdGUgaXRcbiAgICByZXR1cm4gKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/XG4gICAgICAgIHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgYmFzZVBhdGg6IFsnIyddLFxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHt9LFxuICAgICAgICAgICAgbmFtZTogb3B0aW9ucyxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAgICAgYmFzZVBhdGg6IFsnIyddLFxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHt9LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3B0aW9ucy5tanMubWFwIiwiZXhwb3J0IGNvbnN0IHpvZERlZiA9ICh6b2RTY2hlbWEpID0+IHtcbiAgICByZXR1cm4gJ19kZWYnIGluIHpvZFNjaGVtYSA/IHpvZFNjaGVtYS5fZGVmIDogem9kU2NoZW1hO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqKG9iaikge1xuICAgIGlmICghb2JqKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IF9rIGluIG9iailcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5tanMubWFwIiwiaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9PcHRpb25zLm1qc1wiO1xuaW1wb3J0IHsgem9kRGVmIH0gZnJvbSBcIi4vdXRpbC5tanNcIjtcbmV4cG9ydCBjb25zdCBnZXRSZWZzID0gKG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBfb3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gX29wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgWy4uLl9vcHRpb25zLmJhc2VQYXRoLCBfb3B0aW9ucy5kZWZpbml0aW9uUGF0aCwgX29wdGlvbnMubmFtZV1cbiAgICAgICAgOiBfb3B0aW9ucy5iYXNlUGF0aDtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5fb3B0aW9ucyxcbiAgICAgICAgY3VycmVudFBhdGg6IGN1cnJlbnRQYXRoLFxuICAgICAgICBwcm9wZXJ0eVBhdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2VlblJlZnM6IG5ldyBTZXQoKSxcbiAgICAgICAgc2VlbjogbmV3IE1hcChPYmplY3QuZW50cmllcyhfb3B0aW9ucy5kZWZpbml0aW9ucykubWFwKChbbmFtZSwgZGVmXSkgPT4gW1xuICAgICAgICAgICAgem9kRGVmKGRlZiksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVmOiB6b2REZWYoZGVmKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBbLi4uX29wdGlvbnMuYmFzZVBhdGgsIF9vcHRpb25zLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcbiAgICAgICAgICAgICAgICAvLyBSZXNvbHV0aW9uIG9mIHJlZmVyZW5jZXMgd2lsbCBiZSBmb3JjZWQgZXZlbiB0aG91Z2ggc2Vlbiwgc28gaXQncyBvayB0aGF0IHRoZSBzY2hlbWEgaXMgdW5kZWZpbmVkIGhlcmUgZm9yIG5vdy5cbiAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdKSksXG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWZzLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcbiAgICBpZiAoIXJlZnM/LmVycm9yTWVzc2FnZXMpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHJlcy5lcnJvck1lc3NhZ2UgPSB7XG4gICAgICAgICAgICAuLi5yZXMuZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgW2tleV06IGVycm9yTWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIGtleSwgdmFsdWUsIGVycm9yTWVzc2FnZSwgcmVmcykge1xuICAgIHJlc1trZXldID0gdmFsdWU7XG4gICAgYWRkRXJyb3JNZXNzYWdlKHJlcywga2V5LCBlcnJvck1lc3NhZ2UsIHJlZnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JNZXNzYWdlcy5tanMubWFwIiwiZXhwb3J0IHZhciB1dGlsO1xuKGZ1bmN0aW9uICh1dGlsKSB7XG4gICAgdXRpbC5hc3NlcnRFcXVhbCA9IChfKSA9PiB7IH07XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG4gICAgdXRpbC5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgIGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gICAgdXRpbC5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKSA9PiB0eXBlb2Ygb2JqW29ialtrXV0gIT09IFwibnVtYmVyXCIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgdmFsaWRLZXlzKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfTtcbiAgICB1dGlsLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB1dGlsLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUodmFsKSAmJiBNYXRoLmZsb29yKHZhbCkgPT09IHZhbDtcbiAgICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5tYXAoKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBgJyR7dmFsfSdgIDogdmFsKSkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkodXRpbCB8fCAodXRpbCA9IHt9KSk7XG5leHBvcnQgdmFyIG9iamVjdFV0aWw7XG4oZnVuY3Rpb24gKG9iamVjdFV0aWwpIHtcbiAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzID0gKGZpcnN0LCBzZWNvbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmZpcnN0LFxuICAgICAgICAgICAgLi4uc2Vjb25kLCAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgICAgICB9O1xuICAgIH07XG59KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbmV4cG9ydCBjb25zdCBab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJzdHJpbmdcIixcbiAgICBcIm5hblwiLFxuICAgIFwibnVtYmVyXCIsXG4gICAgXCJpbnRlZ2VyXCIsXG4gICAgXCJmbG9hdFwiLFxuICAgIFwiYm9vbGVhblwiLFxuICAgIFwiZGF0ZVwiLFxuICAgIFwiYmlnaW50XCIsXG4gICAgXCJzeW1ib2xcIixcbiAgICBcImZ1bmN0aW9uXCIsXG4gICAgXCJ1bmRlZmluZWRcIixcbiAgICBcIm51bGxcIixcbiAgICBcImFycmF5XCIsXG4gICAgXCJvYmplY3RcIixcbiAgICBcInVua25vd25cIixcbiAgICBcInByb21pc2VcIixcbiAgICBcInZvaWRcIixcbiAgICBcIm5ldmVyXCIsXG4gICAgXCJtYXBcIixcbiAgICBcInNldFwiLFxuXSk7XG5leHBvcnQgY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFpvZFBhcnNlZFR5cGUubmFuIDogWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5ib29sZWFuO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN5bWJvbDtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyB1dGlsIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgWm9kSXNzdWVDb2RlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuZXhwb3J0IGNvbnN0IHF1b3RlbGVzc0pzb24gPSAob2JqKSA9PiB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZ2V0IGVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihpc3N1ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZSA9IChzdWIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCBzdWJdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCAuLi5zdWJzXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBhY3R1YWxQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgfVxuICAgIGZvcm1hdChfbWFwcGVyKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLmFyZ3VtZW50c0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAodHlwZW9mIGVsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY29uc3QgZXJyb3JBcnJheTogYW55ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlcnJvckFycmF5Ll9lcnJvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgZXJyb3JBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0KHZhbHVlKSB7XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgWm9kRXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBhIFpvZEVycm9yOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuaXNzdWVzKSB7XG4gICAgICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSA9IGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSB8fCBbXTtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0ucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3JtRXJyb3JzLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGZvcm1FcnJvcnMsIGZpZWxkRXJyb3JzIH07XG4gICAgfVxuICAgIGdldCBmb3JtRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0dGVuKCk7XG4gICAgfVxufVxuWm9kRXJyb3IuY3JlYXRlID0gKGlzc3VlcykgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGlzc3Vlcyk7XG4gICAgcmV0dXJuIGVycm9yO1xufTtcbiIsImltcG9ydCB7IFpvZElzc3VlQ29kZSB9IGZyb20gXCIuLi9ab2RFcnJvci5qc1wiO1xuaW1wb3J0IHsgdXRpbCwgWm9kUGFyc2VkVHlwZSB9IGZyb20gXCIuLi9oZWxwZXJzL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZTpcbiAgICAgICAgICAgIGlmIChpc3N1ZS5yZWNlaXZlZCA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBsaXRlcmFsIHZhbHVlLCBleHBlY3RlZCAke0pTT04uc3RyaW5naWZ5KGlzc3VlLmV4cGVjdGVkLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgVW5yZWNvZ25pemVkIGtleShzKSBpbiBvYmplY3Q6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3I6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZW51bSB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9LCByZWNlaXZlZCAnJHtpc3N1ZS5yZWNlaXZlZH0nYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiBhcmd1bWVudHNgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChcImluY2x1ZGVzXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgaW5jbHVkZSBcIiR7aXNzdWUudmFsaWRhdGlvbi5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IGF0IG9uZSBvciBtb3JlIHBvc2l0aW9ucyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJHtpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9ufWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJzdGFydHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3Qgc3RhcnQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5zdGFydHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJlbmRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGVuZCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmVuZHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUudmFsaWRhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudmFsaWRhdGlvbiAhPT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkICR7aXNzdWUudmFsaWRhdGlvbn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19zbWFsbDpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBtb3JlIHRoYW5gfSAke2lzc3VlLm1pbmltdW19IGVsZW1lbnQocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBvdmVyYH0gJHtpc3N1ZS5taW5pbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5IGVxdWFsIHRvIGAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGAgOiBgZ3JlYXRlciB0aGFuIGB9JHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWluaW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19iaWc6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgdW5kZXJgfSAke2lzc3VlLm1heGltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEJpZ0ludCBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYCA6IGBzbWFsbGVyIHRoYW5gfSAke25ldyBEYXRlKE51bWJlcihpc3N1ZS5tYXhpbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuY3VzdG9tOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlczpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW50ZXJzZWN0aW9uIHJlc3VsdHMgY291bGQgbm90IGJlIG1lcmdlZGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSBhIG11bHRpcGxlIG9mICR7aXNzdWUubXVsdGlwbGVPZn1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9maW5pdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJOdW1iZXIgbXVzdCBiZSBmaW5pdGVcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWVzc2FnZSA9IF9jdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihpc3N1ZSk7XG4gICAgfVxuICAgIHJldHVybiB7IG1lc3NhZ2UgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBlcnJvck1hcDtcbiIsImltcG9ydCBkZWZhdWx0RXJyb3JNYXAgZnJvbSBcIi4vbG9jYWxlcy9lbi5qc1wiO1xubGV0IG92ZXJyaWRlRXJyb3JNYXAgPSBkZWZhdWx0RXJyb3JNYXA7XG5leHBvcnQgeyBkZWZhdWx0RXJyb3JNYXAgfTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBvdmVycmlkZUVycm9yTWFwID0gbWFwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xufVxuIiwiaW1wb3J0IHsgZ2V0RXJyb3JNYXAgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgZGVmYXVsdEVycm9yTWFwIGZyb20gXCIuLi9sb2NhbGVzL2VuLmpzXCI7XG5leHBvcnQgY29uc3QgbWFrZUlzc3VlID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGF0aCwgZXJyb3JNYXBzLCBpc3N1ZURhdGEgfSA9IHBhcmFtcztcbiAgICBjb25zdCBmdWxsUGF0aCA9IFsuLi5wYXRoLCAuLi4oaXNzdWVEYXRhLnBhdGggfHwgW10pXTtcbiAgICBjb25zdCBmdWxsSXNzdWUgPSB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgfTtcbiAgICBpZiAoaXNzdWVEYXRhLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgICAgICBtZXNzYWdlOiBpc3N1ZURhdGEubWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgY29uc3QgbWFwcyA9IGVycm9yTWFwc1xuICAgICAgICAuZmlsdGVyKChtKSA9PiAhIW0pXG4gICAgICAgIC5zbGljZSgpXG4gICAgICAgIC5yZXZlcnNlKCk7XG4gICAgZm9yIChjb25zdCBtYXAgb2YgbWFwcykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBtYXAoZnVsbElzc3VlLCB7IGRhdGEsIGRlZmF1bHRFcnJvcjogZXJyb3JNZXNzYWdlIH0pLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBFTVBUWV9QQVRIID0gW107XG5leHBvcnQgZnVuY3Rpb24gYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBpc3N1ZURhdGEpIHtcbiAgICBjb25zdCBvdmVycmlkZU1hcCA9IGdldEVycm9yTWFwKCk7XG4gICAgY29uc3QgaXNzdWUgPSBtYWtlSXNzdWUoe1xuICAgICAgICBpc3N1ZURhdGE6IGlzc3VlRGF0YSxcbiAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCAvLyBjb250ZXh0dWFsIGVycm9yIG1hcCBpcyBmaXJzdCBwcmlvcml0eVxuICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLCAvLyB0aGVuIHNjaGVtYS1ib3VuZCBtYXAgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBvdmVycmlkZU1hcCwgLy8gdGhlbiBnbG9iYWwgb3ZlcnJpZGUgbWFwXG4gICAgICAgICAgICBvdmVycmlkZU1hcCA9PT0gZGVmYXVsdEVycm9yTWFwID8gdW5kZWZpbmVkIDogZGVmYXVsdEVycm9yTWFwLCAvLyB0aGVuIGdsb2JhbCBkZWZhdWx0IG1hcFxuICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICB9KTtcbiAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKGlzc3VlKTtcbn1cbmV4cG9ydCBjbGFzcyBQYXJzZVN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcInZhbGlkXCI7XG4gICAgfVxuICAgIGRpcnR5KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gXCJ2YWxpZFwiKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiZGlydHlcIjtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImFib3J0ZWRcIjtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKSB7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGFycmF5VmFsdWUucHVzaChzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGFycmF5VmFsdWUgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIG1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBwYWlyO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKGtleS52YWx1ZSAhPT0gXCJfX3Byb3RvX19cIiAmJiAodHlwZW9mIHZhbHVlLnZhbHVlICE9PSBcInVuZGVmaW5lZFwiIHx8IHBhaXIuYWx3YXlzU2V0KSkge1xuICAgICAgICAgICAgICAgIGZpbmFsT2JqZWN0W2tleS52YWx1ZV0gPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsT2JqZWN0IH07XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IElOVkFMSUQgPSBPYmplY3QuZnJlZXplKHtcbiAgICBzdGF0dXM6IFwiYWJvcnRlZFwiLFxufSk7XG5leHBvcnQgY29uc3QgRElSVFkgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJkaXJ0eVwiLCB2YWx1ZSB9KTtcbmV4cG9ydCBjb25zdCBPSyA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlIH0pO1xuZXhwb3J0IGNvbnN0IGlzQWJvcnRlZCA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCI7XG5leHBvcnQgY29uc3QgaXNEaXJ0eSA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuZXhwb3J0IGNvbnN0IGlzVmFsaWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwidmFsaWRcIjtcbmV4cG9ydCBjb25zdCBpc0FzeW5jID0gKHgpID0+IHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHggaW5zdGFuY2VvZiBQcm9taXNlO1xuIiwiZXhwb3J0IHZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24gKGVycm9yVXRpbCkge1xuICAgIGVycm9yVXRpbC5lcnJUb09iaiA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZSB9IDogbWVzc2FnZSB8fCB7fTtcbiAgICAvLyBiaW9tZS1pZ25vcmUgbGludDpcbiAgICBlcnJvclV0aWwudG9TdHJpbmcgPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZT8ubWVzc2FnZTtcbn0pKGVycm9yVXRpbCB8fCAoZXJyb3JVdGlsID0ge30pKTtcbiIsImltcG9ydCB7IFpvZEVycm9yLCBab2RJc3N1ZUNvZGUsIH0gZnJvbSBcIi4vWm9kRXJyb3IuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRFcnJvck1hcCwgZ2V0RXJyb3JNYXAgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGVycm9yVXRpbCB9IGZyb20gXCIuL2hlbHBlcnMvZXJyb3JVdGlsLmpzXCI7XG5pbXBvcnQgeyBESVJUWSwgSU5WQUxJRCwgT0ssIFBhcnNlU3RhdHVzLCBhZGRJc3N1ZVRvQ29udGV4dCwgaXNBYm9ydGVkLCBpc0FzeW5jLCBpc0RpcnR5LCBpc1ZhbGlkLCBtYWtlSXNzdWUsIH0gZnJvbSBcIi4vaGVscGVycy9wYXJzZVV0aWwuanNcIjtcbmltcG9ydCB7IHV0aWwsIFpvZFBhcnNlZFR5cGUsIGdldFBhcnNlZFR5cGUgfSBmcm9tIFwiLi9oZWxwZXJzL3V0aWwuanNcIjtcbmNsYXNzIFBhcnNlSW5wdXRMYXp5UGF0aCB7XG4gICAgY29uc3RydWN0b3IocGFyZW50LCB2YWx1ZSwgcGF0aCwga2V5KSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZFBhdGggPSBbXTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5fa2V5ID0ga2V5O1xuICAgIH1cbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZWRQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCAuLi50aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFBhdGg7XG4gICAgfVxufVxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKGN0eCwgcmVzdWx0KSA9PiB7XG4gICAgaWYgKGlzVmFsaWQocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZGF0aW9uIGZhaWxlZCBidXQgbm8gaXNzdWVzIGRldGVjdGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHsgZXJyb3JNYXAsIGludmFsaWRfdHlwZV9lcnJvciwgcmVxdWlyZWRfZXJyb3IsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbXM7XG4gICAgaWYgKGVycm9yTWFwICYmIChpbnZhbGlkX3R5cGVfZXJyb3IgfHwgcmVxdWlyZWRfZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgICB9XG4gICAgaWYgKGVycm9yTWFwKVxuICAgICAgICByZXR1cm4geyBlcnJvck1hcDogZXJyb3JNYXAsIGRlc2NyaXB0aW9uIH07XG4gICAgY29uc3QgY3VzdG9tTWFwID0gKGlzcywgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcGFyYW1zO1xuICAgICAgICBpZiAoaXNzLmNvZGUgPT09IFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY3R4LmRhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gcmVxdWlyZWRfZXJyb3IgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIilcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogbWVzc2FnZSA/PyBpbnZhbGlkX3R5cGVfZXJyb3IgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgIH07XG4gICAgcmV0dXJuIHsgZXJyb3JNYXA6IGN1c3RvbU1hcCwgZGVzY3JpcHRpb24gfTtcbn1cbmV4cG9ydCBjbGFzcyBab2RUeXBlIHtcbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGVzY3JpcHRpb247XG4gICAgfVxuICAgIF9nZXRUeXBlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBfZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCkge1xuICAgICAgICByZXR1cm4gKGN0eCB8fCB7XG4gICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IG5ldyBQYXJzZVN0YXR1cygpLFxuICAgICAgICAgICAgY3R4OiB7XG4gICAgICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfcGFyc2VTeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgaWYgKGlzQXN5bmMocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3luY2hyb25vdXMgcGFyc2UgZW5jb3VudGVyZWQgcHJvbWlzZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX3BhcnNlQXN5bmMoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfVxuICAgIHBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNhZmVQYXJzZShkYXRhLCBwYXJhbXMpO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgc2FmZVBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiBwYXJhbXM/LmFzeW5jID8/IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zPy5lcnJvck1hcCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiBwYXJhbXM/LnBhdGggfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIFwifnZhbGlkYXRlXCIoZGF0YSkge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiAhIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnI/Lm1lc3NhZ2U/LnRvTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiZW5jb3VudGVyZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5jb21tb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlQXN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSkudGhlbigocmVzdWx0KSA9PiBpc1ZhbGlkKHJlc3VsdClcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWUsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIGFzeW5jIHNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zPy5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiBwYXJhbXM/LnBhdGggfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1heWJlQXN5bmNSZXN1bHQgPSB0aGlzLl9wYXJzZSh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKGlzQXN5bmMobWF5YmVBc3luY1Jlc3VsdCkgPyBtYXliZUFzeW5jUmVzdWx0IDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJlZmluZShjaGVjaywgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBnZXRJc3N1ZVByb3BlcnRpZXMgPSAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrKHZhbCk7XG4gICAgICAgICAgICBjb25zdCBzZXRFcnJvciA9ICgpID0+IGN0eC5hZGRJc3N1ZSh7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgICAgICAuLi5nZXRJc3N1ZVByb3BlcnRpZXModmFsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZmluZW1lbnQoY2hlY2ssIHJlZmluZW1lbnREYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHR5cGVvZiByZWZpbmVtZW50RGF0YSA9PT0gXCJmdW5jdGlvblwiID8gcmVmaW5lbWVudERhdGEodmFsLCBjdHgpIDogcmVmaW5lbWVudERhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3JlZmluZW1lbnQocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KHJlZmluZW1lbnQpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihkZWYpIHtcbiAgICAgICAgLyoqIEFsaWFzIG9mIHNhZmVQYXJzZUFzeW5jICovXG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zYWZlUGFyc2VBc3luYztcbiAgICAgICAgdGhpcy5fZGVmID0gZGVmO1xuICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZSA9IHRoaXMuc2FmZVBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc3BhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwZXJSZWZpbmUgPSB0aGlzLnN1cGVyUmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGlzaCA9IHRoaXMubnVsbGlzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vciA9IHRoaXMub3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYnJhbmQgPSB0aGlzLmJyYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlID0gdGhpcy5kZXNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gdGhpcy5pc051bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzW1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgICAgIHZlbmRvcjogXCJ6b2RcIixcbiAgICAgICAgICAgIHZhbGlkYXRlOiAoZGF0YSkgPT4gdGhpc1tcIn52YWxpZGF0ZVwiXShkYXRhKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGlzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICAgIH1cbiAgICBhcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZEFycmF5LmNyZWF0ZSh0aGlzKTtcbiAgICB9XG4gICAgcHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFByb21pc2UuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG9yKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBhbmQoaW5jb21pbmcpIHtcbiAgICAgICAgcmV0dXJuIFpvZEludGVyc2VjdGlvbi5jcmVhdGUodGhpcywgaW5jb21pbmcsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0gfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQoZGVmKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBicmFuZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChkZWYpIHtcbiAgICAgICAgY29uc3QgY2F0Y2hWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgY2F0Y2hWYWx1ZTogY2F0Y2hWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVzY3JpYmUoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgVGhpcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgVGhpcyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpcGUodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBab2RQaXBlbGluZS5jcmVhdGUodGhpcywgdGFyZ2V0KTtcbiAgICB9XG4gICAgcmVhZG9ubHkoKSB7XG4gICAgICAgIHJldHVybiBab2RSZWFkb25seS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIGlzT3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3M7XG4gICAgfVxuICAgIGlzTnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICAgIH1cbn1cbmNvbnN0IGN1aWRSZWdleCA9IC9eY1teXFxzLV17OCx9JC9pO1xuY29uc3QgY3VpZDJSZWdleCA9IC9eWzAtOWEtel0rJC87XG5jb25zdCB1bGlkUmVnZXggPSAvXlswLTlBLUhKS01OUC1UVi1aXXsyNn0kL2k7XG4vLyBjb25zdCB1dWlkUmVnZXggPVxuLy8gICAvXihbYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bMS01XVthLWYwLTldezN9LVthLWYwLTldezR9LVthLWYwLTldezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO1xuY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kL2k7XG5jb25zdCBuYW5vaWRSZWdleCA9IC9eW2EtejAtOV8tXXsyMX0kL2k7XG5jb25zdCBqd3RSZWdleCA9IC9eW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10qJC87XG5jb25zdCBkdXJhdGlvblJlZ2V4ID0gL15bLStdP1AoPyEkKSg/Oig/OlstK10/XFxkK1kpfCg/OlstK10/XFxkK1suLF1cXGQrWSQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86KD86Wy0rXT9cXGQrVyl8KD86Wy0rXT9cXGQrWy4sXVxcZCtXJCkpPyg/Oig/OlstK10/XFxkK0QpfCg/OlstK10/XFxkK1suLF1cXGQrRCQpKT8oPzpUKD89W1xcZCstXSkoPzooPzpbLStdP1xcZCtIKXwoPzpbLStdP1xcZCtbLixdXFxkK0gkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/OlstK10/XFxkKyg/OlsuLF1cXGQrKT9TKT8pPz8kLztcbi8vIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ2MTgxLzE1NTAxNTVcbi8vIG9sZCB2ZXJzaW9uOiB0b28gc2xvdywgZGlkbid0IHN1cHBvcnQgdW5pY29kZVxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaTtcbi8vb2xkIGVtYWlsIHJlZ2V4XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID0gL14oKFtePD4oKVtcXF0uLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXS4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKCg/IS0pKFtePD4oKVtcXF0uLDs6XFxzQFwiXStcXC4pK1tePD4oKVtcXF0uLDs6XFxzQFwiXXsxLH0pW14tPD4oKVtcXF0uLDs6XFxzQFwiXSQvaTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcWygoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXSl8KFxcW0lQdjY6KChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKVxcXSl8KFtBLVphLXowLTldKFtBLVphLXowLTktXSpbQS1aYS16MC05XSkqKFxcLltBLVphLXpdezIsfSkrKSkkLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXpBLVowLTlcXC5cXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC9cXD1cXD9cXF5cXF9cXGBcXHtcXHxcXH1cXH5cXC1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKD86W2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKnxcIig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxXFx4MjMtXFx4NWJcXHg1ZC1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKlwiKUAoPzooPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/fFxcWyg/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/fFthLXowLTktXSpbYS16MC05XTooPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMS1cXHg1YVxceDUzLVxceDdmXXxcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBlLVxceDdmXSkrKVxcXSkkL2k7XG5jb25zdCBlbWFpbFJlZ2V4ID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVowLTlfJytcXC1cXC5dKilbQS1aMC05XystXUAoW0EtWjAtOV1bQS1aMC05XFwtXSpcXC4pK1tBLVpdezIsfSQvaTtcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXowLTkuISMkJSbigJkqKy89P15fYHt8fX4tXStAW2EtejAtOS1dKyg/OlxcLlthLXowLTlcXC1dKykqJC9pO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamlSZWdleCA9IGBeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJGA7XG5sZXQgZW1vamlSZWdleDtcbi8vIGZhc3Rlciwgc2ltcGxlciwgc2FmZXJcbmNvbnN0IGlwdjRSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC87XG5jb25zdCBpcHY0Q2lkclJlZ2V4ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oM1swLTJdfFsxMl0/WzAtOV0pJC87XG4vLyBjb25zdCBpcHY2UmVnZXggPVxuLy8gL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC87XG5jb25zdCBpcHY2UmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSkkLztcbmNvbnN0IGlwdjZDaWRyUmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSlcXC8oMTJbMC04XXwxWzAxXVswLTldfFsxLTldP1swLTldKSQvO1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg2MDM5Mi9kZXRlcm1pbmUtaWYtc3RyaW5nLWlzLWluLWJhc2U2NC11c2luZy1qYXZhc2NyaXB0XG5jb25zdCBiYXNlNjRSZWdleCA9IC9eKFswLTlhLXpBLVorL117NH0pKigoWzAtOWEtekEtWisvXXsyfT09KXwoWzAtOWEtekEtWisvXXszfT0pKT8kLztcbi8vIGh0dHBzOi8vYmFzZTY0Lmd1cnUvc3RhbmRhcmRzL2Jhc2U2NHVybFxuY29uc3QgYmFzZTY0dXJsUmVnZXggPSAvXihbMC05YS16QS1aLV9dezR9KSooKFswLTlhLXpBLVotX117Mn0oPT0pPyl8KFswLTlhLXpBLVotX117M30oPSk/KSk/JC87XG4vLyBzaW1wbGVcbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfWA7XG4vLyBubyBsZWFwIHllYXIgdmFsaWRhdGlvblxuLy8gY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYFxcXFxkezR9LSgoMFsxMzU3OF18MTB8MTIpLTMxfCgwWzEzLTldfDFbMC0yXSktMzB8KDBbMS05XXwxWzAtMl0pLSgwWzEtOV18MVxcXFxkfDJcXFxcZCkpYDtcbi8vIHdpdGggbGVhcCB5ZWFyIHZhbGlkYXRpb25cbmNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGAoKFxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSgoMFsxMzU3OF18MVswMl0pLSgwWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoMFs0NjldfDExKS0oMFsxLTldfFsxMl1cXFxcZHwzMCl8KDAyKS0oMFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuY29uc3QgZGF0ZVJlZ2V4ID0gbmV3IFJlZ0V4cChgXiR7ZGF0ZVJlZ2V4U291cmNlfSRgKTtcbmZ1bmN0aW9uIHRpbWVSZWdleFNvdXJjZShhcmdzKSB7XG4gICAgbGV0IHNlY29uZHNSZWdleFNvdXJjZSA9IGBbMC01XVxcXFxkYDtcbiAgICBpZiAoYXJncy5wcmVjaXNpb24pIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfVxcXFwuXFxcXGR7JHthcmdzLnByZWNpc2lvbn19YDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJncy5wcmVjaXNpb24gPT0gbnVsbCkge1xuICAgICAgICBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgJHtzZWNvbmRzUmVnZXhTb3VyY2V9KFxcXFwuXFxcXGQrKT9gO1xuICAgIH1cbiAgICBjb25zdCBzZWNvbmRzUXVhbnRpZmllciA9IGFyZ3MucHJlY2lzaW9uID8gXCIrXCIgOiBcIj9cIjsgLy8gcmVxdWlyZSBzZWNvbmRzIGlmIHByZWNpc2lvbiBpcyBub256ZXJvXG4gICAgcmV0dXJuIGAoWzAxXVxcXFxkfDJbMC0zXSk6WzAtNV1cXFxcZCg6JHtzZWNvbmRzUmVnZXhTb3VyY2V9KSR7c2Vjb25kc1F1YW50aWZpZXJ9YDtcbn1cbmZ1bmN0aW9uIHRpbWVSZWdleChhcmdzKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RpbWVSZWdleFNvdXJjZShhcmdzKX0kYCk7XG59XG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMxNDMyMzFcbmV4cG9ydCBmdW5jdGlvbiBkYXRldGltZVJlZ2V4KGFyZ3MpIHtcbiAgICBsZXQgcmVnZXggPSBgJHtkYXRlUmVnZXhTb3VyY2V9VCR7dGltZVJlZ2V4U291cmNlKGFyZ3MpfWA7XG4gICAgY29uc3Qgb3B0cyA9IFtdO1xuICAgIG9wdHMucHVzaChhcmdzLmxvY2FsID8gYFo/YCA6IGBaYCk7XG4gICAgaWYgKGFyZ3Mub2Zmc2V0KVxuICAgICAgICBvcHRzLnB1c2goYChbKy1dXFxcXGR7Mn06P1xcXFxkezJ9KWApO1xuICAgIHJlZ2V4ID0gYCR7cmVnZXh9KCR7b3B0cy5qb2luKFwifFwiKX0pYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufVxuZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNWYWxpZEpXVChqd3QsIGFsZykge1xuICAgIGlmICghand0UmVnZXgudGVzdChqd3QpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2hlYWRlcl0gPSBqd3Quc3BsaXQoXCIuXCIpO1xuICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NHVybCB0byBiYXNlNjRcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gaGVhZGVyXG4gICAgICAgICAgICAucmVwbGFjZSgvLS9nLCBcIitcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fL2csIFwiL1wiKVxuICAgICAgICAgICAgLnBhZEVuZChoZWFkZXIubGVuZ3RoICsgKCg0IC0gKGhlYWRlci5sZW5ndGggJSA0KSkgJSA0KSwgXCI9XCIpO1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gSlNPTi5wYXJzZShhdG9iKGJhc2U2NCkpO1xuICAgICAgICBpZiAodHlwZW9mIGRlY29kZWQgIT09IFwib2JqZWN0XCIgfHwgZGVjb2RlZCA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKFwidHlwXCIgaW4gZGVjb2RlZCAmJiBkZWNvZGVkPy50eXAgIT09IFwiSldUXCIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghZGVjb2RlZC5hbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChhbGcgJiYgZGVjb2RlZC5hbGcgIT09IGFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzVmFsaWRDaWRyKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRDaWRyUmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgY2xhc3MgWm9kU3RyaW5nIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gU3RyaW5nKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnN0cmluZyxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbWFpbFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1vamlcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleCkge1xuICAgICAgICAgICAgICAgICAgICBlbW9qaVJlZ2V4ID0gbmV3IFJlZ0V4cChfZW1vamlSZWdleCwgXCJ1XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtb2ppXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1dWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXVpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibmFub2lkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5hbm9pZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJuYW5vaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkMlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkMlJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1bGlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFVSTChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGNoZWNrLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGNoZWNrLnJlZ2V4LnRlc3QoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwicmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRyaW1cIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5pbmNsdWRlcyhjaGVjay52YWx1ZSwgY2hlY2sucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgaW5jbHVkZXM6IGNoZWNrLnZhbHVlLCBwb3NpdGlvbjogY2hlY2sucG9zaXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvTG93ZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b1VwcGVyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwic3RhcnRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLnN0YXJ0c1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgc3RhcnRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVuZHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuZW5kc1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgZW5kc1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRldGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRlUmVnZXg7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSB0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImR1cmF0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWR1cmF0aW9uUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImR1cmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpcFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSVAoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiand0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRKV1QoaW5wdXQuZGF0YSwgY2hlY2suYWxnKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImp3dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY2lkclwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkQ2lkcihpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImNpZHJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlNjRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjR1cmxcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0dXJsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfcmVnZXgocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmaW5lbWVudCgoZGF0YSkgPT4gcmVnZXgudGVzdChkYXRhKSwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbWFpbChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1haWxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1cmwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVybFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGVtb2ppKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbW9qaVwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHV1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInV1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBuYW5vaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcIm5hbm9pZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1bGlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJiYXNlNjRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBiYXNlNjR1cmwobWVzc2FnZSkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGp3dChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiand0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgaXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImlwXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgY2lkcihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY2lkclwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGRhdGV0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2NhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiBvcHRpb25zPy5wcmVjaXNpb24gPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucz8ucHJlY2lzaW9uLFxuICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zPy5vZmZzZXQgPz8gZmFsc2UsXG4gICAgICAgICAgICBsb2NhbDogb3B0aW9ucz8ubG9jYWwgPz8gZmFsc2UsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkYXRlXCIsIG1lc3NhZ2UgfSk7XG4gICAgfVxuICAgIHRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiBvcHRpb25zPy5wcmVjaXNpb24gPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucz8ucHJlY2lzaW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZHVyYXRpb24obWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImR1cmF0aW9uXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgcmVnZXgocmVnZXgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwicmVnZXhcIixcbiAgICAgICAgICAgIHJlZ2V4OiByZWdleCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluY2x1ZGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImluY2x1ZGVzXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwb3NpdGlvbjogb3B0aW9ucz8ucG9zaXRpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInN0YXJ0c1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVuZHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImVuZHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IG1pbkxlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4TGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJsZW5ndGhcIixcbiAgICAgICAgICAgIHZhbHVlOiBsZW4sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIGAubWluKDEpYFxuICAgICAqL1xuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIGVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSk7XG4gICAgfVxuICAgIHRyaW0oKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0cmltXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b0xvd2VyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvTG93ZXJDYXNlXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b1VwcGVyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvVXBwZXJDYXNlXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgaXNEYXRldGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRldGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRlXCIpO1xuICAgIH1cbiAgICBnZXQgaXNUaW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0R1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImR1cmF0aW9uXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbWFpbCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbWFpbFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVJMKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVybFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1vamkoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1vamlcIik7XG4gICAgfVxuICAgIGdldCBpc1VVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXVpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzTkFOT0lEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcIm5hbm9pZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEMigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkMlwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVUxJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1bGlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNJUCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpcFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ0lEUigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjaWRyXCIpO1xuICAgIH1cbiAgICBnZXQgaXNCYXNlNjQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgICBnZXQgaXNCYXNlNjR1cmwoKSB7XG4gICAgICAgIC8vIGJhc2U2NHVybCBlbmNvZGluZyBpcyBhIG1vZGlmaWNhdGlvbiBvZiBiYXNlNjQgdGhhdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gVVJMcyBhbmQgZmlsZW5hbWVzXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiYmFzZTY0dXJsXCIpO1xuICAgIH1cbiAgICBnZXQgbWluTGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhMZW5ndGgoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5ab2RTdHJpbmcuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgPz8gZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zOTY2NDg0L3doeS1kb2VzLW1vZHVsdXMtb3BlcmF0b3ItcmV0dXJuLWZyYWN0aW9uYWwtbnVtYmVyLWluLWphdmFzY3JpcHQvMzE3MTEwMzQjMzE3MTEwMzRcbmZ1bmN0aW9uIGZsb2F0U2FmZVJlbWFpbmRlcih2YWwsIHN0ZXApIHtcbiAgICBjb25zdCB2YWxEZWNDb3VudCA9ICh2YWwudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IHN0ZXBEZWNDb3VudCA9IChzdGVwLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBkZWNDb3VudCA9IHZhbERlY0NvdW50ID4gc3RlcERlY0NvdW50ID8gdmFsRGVjQ291bnQgOiBzdGVwRGVjQ291bnQ7XG4gICAgY29uc3QgdmFsSW50ID0gTnVtYmVyLnBhcnNlSW50KHZhbC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgY29uc3Qgc3RlcEludCA9IE51bWJlci5wYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gKHZhbEludCAlIHN0ZXBJbnQpIC8gMTAgKiogZGVjQ291bnQ7XG59XG5leHBvcnQgY2xhc3MgWm9kTnVtYmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgICAgIHRoaXMuc3RlcCA9IHRoaXMubXVsdGlwbGVPZjtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gTnVtYmVyKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bWJlcixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcImludFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dGlsLmlzSW50ZWdlcihpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiaW50ZWdlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IFwiZmxvYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZsb2F0U2FmZVJlbWFpbmRlcihpbnB1dC5kYXRhLCBjaGVjay52YWx1ZSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW50KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW50XCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmluaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZmluaXRlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzYWZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbiAgICBnZXQgaXNJbnQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgKGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiICYmIHV0aWwuaXNJbnRlZ2VyKGNoLnZhbHVlKSkpO1xuICAgIH1cbiAgICBnZXQgaXNGaW5pdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJmaW5pdGVcIiB8fCBjaC5raW5kID09PSBcImludFwiIHx8IGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShtaW4pICYmIE51bWJlci5pc0Zpbml0ZShtYXgpO1xuICAgIH1cbn1cblpvZE51bWJlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcixcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RCaWdJbnQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCaWdJbnQoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5iaWdpbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEgJSBjaGVjay52YWx1ZSAhPT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgX2dldEludmFsaWRJbnB1dChpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmJpZ2ludCxcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5ab2RCaWdJbnQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgPz8gZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQm9vbGVhbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJvb2xlYW4oaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5ib29sZWFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmJvb2xlYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kQm9vbGVhbi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RCb29sZWFuKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZERhdGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBuZXcgRGF0ZShpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmRhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZGF0ZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKGlucHV0LmRhdGEuZ2V0VGltZSgpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluRGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5EYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhEYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pbkRhdGUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbiAhPSBudWxsID8gbmV3IERhdGUobWluKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBtYXhEYXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXggIT0gbnVsbCA/IG5ldyBEYXRlKG1heCkgOiBudWxsO1xuICAgIH1cbn1cblpvZERhdGUuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGF0ZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RTeW1ib2wgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3ltYm9sLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFN5bWJvbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmRlZmluZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVuZGVmaW5lZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmRlZmluZWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROdWxsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udWxsLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZE51bGwuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RBbnkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gdG8gcHJldmVudCBpbnN0YW5jZXMgb2Ygb3RoZXIgY2xhc3NlcyBmcm9tIGV4dGVuZGluZyBab2RBbnkuIHRoaXMgY2F1c2VzIGlzc3VlcyB3aXRoIGNhdGNoYWxsIGluIFpvZE9iamVjdC5cbiAgICAgICAgdGhpcy5fYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RBbnkuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQW55KHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVW5rbm93biBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyByZXF1aXJlZFxuICAgICAgICB0aGlzLl91bmtub3duID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RVbmtub3duLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVua25vd24oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTmV2ZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uZXZlcixcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbn1cblpvZE5ldmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5ldmVyKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RWb2lkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVm9pZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RWb2lkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEFycmF5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4LCBzdGF0dXMgfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5leGFjdExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY3R4LmRhdGEubGVuZ3RoID4gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjdHguZGF0YS5sZW5ndGggPCBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHRvb0JpZyA/IFpvZElzc3VlQ29kZS50b29fYmlnIDogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogKHRvb1NtYWxsID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogKHRvb0JpZyA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5taW5MZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCBkZWYubWluTGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5MZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5MZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5tYXhMZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhMZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZUFzeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICAgICAgfSkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlU3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pbkxlbmd0aDogeyB2YWx1ZTogbWluTGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IHsgdmFsdWU6IG1heExlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZXhhY3RMZW5ndGg6IHsgdmFsdWU6IGxlbiwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5ab2RBcnJheS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICBtaW5MZW5ndGg6IG51bGwsXG4gICAgICAgIG1heExlbmd0aDogbnVsbCxcbiAgICAgICAgZXhhY3RMZW5ndGg6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBkZWVwUGFydGlhbGlmeShzY2hlbWEpIHtcbiAgICBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYS5zaGFwZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSBzY2hlbWEuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoZmllbGRTY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZEFycmF5KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICB0eXBlOiBkZWVwUGFydGlhbGlmeShzY2hlbWEuZWxlbWVudCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RUdXBsZSkge1xuICAgICAgICByZXR1cm4gWm9kVHVwbGUuY3JlYXRlKHNjaGVtYS5pdGVtcy5tYXAoKGl0ZW0pID0+IGRlZXBQYXJ0aWFsaWZ5KGl0ZW0pKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RPYmplY3QgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIEluIG1vc3QgY2FzZXMsIHRoaXMgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIHVua25vd24gcHJvcGVydGllcyBhcmUgbm93IHNpbGVudGx5IHN0cmlwcGVkLlxuICAgICAgICAgKiBJZiB5b3Ugd2FudCB0byBwYXNzIHRocm91Z2ggdW5rbm93biBwcm9wZXJ0aWVzLCB1c2UgYC5wYXNzdGhyb3VnaCgpYCBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub25zdHJpY3QgPSB0aGlzLnBhc3N0aHJvdWdoO1xuICAgICAgICAvLyBleHRlbmQ8XG4gICAgICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGUsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgICAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+LFxuICAgICAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgICAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT5cbiAgICAgICAgLy8gPihcbiAgICAgICAgLy8gICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgICAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgQXVnbWVudGF0aW9uPixcbiAgICAgICAgLy8gICBVbmtub3duS2V5cyxcbiAgICAgICAgLy8gICBDYXRjaGFsbCxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQsXG4gICAgICAgIC8vICAgTmV3SW5wdXRcbiAgICAgICAgLy8gPiB7XG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAvLyAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAvLyAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgIC8vICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAvLyAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgIC8vICAgICB9KSxcbiAgICAgICAgLy8gICB9KSBhcyBhbnk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBgLmV4dGVuZGAgaW5zdGVhZFxuICAgICAgICAgKiAgKi9cbiAgICAgICAgdGhpcy5hdWdtZW50ID0gdGhpcy5leHRlbmQ7XG4gICAgfVxuICAgIF9nZXRDYWNoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWQgIT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgICAgICBjb25zdCBrZXlzID0gdXRpbC5vYmplY3RLZXlzKHNoYXBlKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0geyBzaGFwZSwga2V5cyB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgeyBzaGFwZSwga2V5czogc2hhcGVLZXlzIH0gPSB0aGlzLl9nZXRDYWNoZWQoKTtcbiAgICAgICAgY29uc3QgZXh0cmFLZXlzID0gW107XG4gICAgICAgIGlmICghKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyICYmIHRoaXMuX2RlZi51bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNoYXBlS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXBlS2V5cykge1xuICAgICAgICAgICAgY29uc3Qga2V5VmFsaWRhdG9yID0gc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlWYWxpZGF0b3IuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyKSB7XG4gICAgICAgICAgICBjb25zdCB1bmtub3duS2V5cyA9IHRoaXMuX2RlZi51bmtub3duS2V5cztcbiAgICAgICAgICAgIGlmICh1bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGN0eC5kYXRhW2tleV0gfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmFLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBleHRyYUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIFpvZE9iamVjdCBlcnJvcjogaW52YWxpZCB1bmtub3duS2V5cyB2YWx1ZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJ1biBjYXRjaGFsbCB2YWxpZGF0aW9uXG4gICAgICAgICAgICBjb25zdCBjYXRjaGFsbCA9IHRoaXMuX2RlZi5jYXRjaGFsbDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYXRjaGFsbC5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSAvLywgY3R4LmNoaWxkKGtleSksIHZhbHVlLCBnZXRQYXJzZWRUeXBlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDogcGFpci5hbHdheXNTZXQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3luY1BhaXJzO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoc3luY1BhaXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgfVxuICAgIHN0cmljdChtZXNzYWdlKSB7XG4gICAgICAgIGVycm9yVXRpbC5lcnJUb09iajtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgICAgICAuLi4obWVzc2FnZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWFwOiAoaXNzdWUsIGN0eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEVycm9yID0gdGhpcy5fZGVmLmVycm9yTWFwPy4oaXNzdWUsIGN0eCkubWVzc2FnZSA/PyBjdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwidW5yZWNvZ25pemVkX2tleXNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkubWVzc2FnZSA/PyBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmYXVsdEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdHJpcCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhc3N0aHJvdWdoKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJwYXNzdGhyb3VnaFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gY29uc3QgQXVnbWVudEZhY3RvcnkgPVxuICAgIC8vICAgPERlZiBleHRlbmRzIFpvZE9iamVjdERlZj4oZGVmOiBEZWYpID0+XG4gICAgLy8gICA8QXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGU+KFxuICAgIC8vICAgICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgIC8vICAgKTogWm9kT2JqZWN0PFxuICAgIC8vICAgICBleHRlbmRTaGFwZTxSZXR1cm5UeXBlPERlZltcInNoYXBlXCJdPiwgQXVnbWVudGF0aW9uPixcbiAgICAvLyAgICAgRGVmW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICAgIERlZltcImNhdGNoYWxsXCJdXG4gICAgLy8gICA+ID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICAgIC4uLmRlZixcbiAgICAvLyAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAvLyAgICAgICAgIC4uLmRlZi5zaGFwZSgpLFxuICAgIC8vICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgIC8vICAgICAgIH0pLFxuICAgIC8vICAgICB9KSBhcyBhbnk7XG4gICAgLy8gICB9O1xuICAgIGV4dGVuZChhdWdtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmlvciB0byB6b2RAMS4wLjEyIHRoZXJlIHdhcyBhIGJ1ZyBpbiB0aGVcbiAgICAgKiBpbmZlcnJlZCB0eXBlIG9mIG1lcmdlZCBvYmplY3RzLiBQbGVhc2VcbiAgICAgKiB1cGdyYWRlIGlmIHlvdSBhcmUgZXhwZXJpZW5jaW5nIGlzc3Vlcy5cbiAgICAgKi9cbiAgICBtZXJnZShtZXJnaW5nKSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAgICAgICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5tZXJnaW5nLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH1cbiAgICAvLyBtZXJnZTxcbiAgICAvLyAgIEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0LFxuICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgSW5jb21pbmdbXCJzaGFwZVwiXSxcbiAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH0sXG4gICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfVxuICAgIC8vID4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQsXG4gICAgLy8gICBOZXdJbnB1dFxuICAgIC8vID4ge1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIHNldEtleShrZXksIHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdWdtZW50KHsgW2tleV06IHNjaGVtYSB9KTtcbiAgICB9XG4gICAgLy8gbWVyZ2U8SW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3Q+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiAvL1pvZE9iamVjdDxUICYgSW5jb21pbmdbXCJfc2hhcGVcIl0sIFVua25vd25LZXlzLCBDYXRjaGFsbD4gPSAobWVyZ2luZykgPT4ge1xuICAgIC8vIFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyA+IHtcbiAgICAvLyAgIC8vIGNvbnN0IG1lcmdlZFNoYXBlID0gb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyhcbiAgICAvLyAgIC8vICAgdGhpcy5fZGVmLnNoYXBlKCksXG4gICAgLy8gICAvLyAgIG1lcmdpbmcuX2RlZi5zaGFwZSgpXG4gICAgLy8gICAvLyApO1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIGNhdGNoYWxsKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNhdGNoYWxsOiBpbmRleCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpY2sobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXMobWFzaykpIHtcbiAgICAgICAgICAgIGlmIChtYXNrW2tleV0gJiYgdGhpcy5zaGFwZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbWl0KG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBpZiAoIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBkZWVwUGFydGlhbCgpIHtcbiAgICAgICAgcmV0dXJuIGRlZXBQYXJ0aWFsaWZ5KHRoaXMpO1xuICAgIH1cbiAgICBwYXJ0aWFsKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWEub3B0aW9uYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXF1aXJlZChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RmllbGQgPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV3RmllbGQgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdGaWVsZCA9IG5ld0ZpZWxkLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gbmV3RmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAga2V5b2YoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVab2RFbnVtKHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSk7XG4gICAgfVxufVxuWm9kT2JqZWN0LmNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3Quc3RyaWN0Q3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2RlZi5vcHRpb25zO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHRzKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIC8vIHJldHVybiBmaXJzdCBpc3N1ZS1mcmVlIHZhbGlkYXRpb24gaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBpc3N1ZXMgZnJvbSBkaXJ0eSBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5yZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXR1cm4gaW52YWxpZFxuICAgICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiBuZXcgWm9kRXJyb3IocmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKSk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChvcHRpb25zLm1hcChhc3luYyAob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBhd2FpdCBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBjdHg6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSkudGhlbihoYW5kbGVSZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkaXJ0eSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGlzc3VlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiICYmICFkaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IHsgcmVzdWx0LCBjdHg6IGNoaWxkQ3R4IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXMucHVzaChjaGlsZEN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLmRpcnR5LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlydHkucmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSBpc3N1ZXMubWFwKChpc3N1ZXMpID0+IG5ldyBab2RFcnJvcihpc3N1ZXMpKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbn1cblpvZFVuaW9uLmNyZWF0ZSA9ICh0eXBlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmlvbih7XG4gICAgICAgIG9wdGlvbnM6IHR5cGVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuaW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmNvbnN0IGdldERpc2NyaW1pbmF0b3IgPSAodHlwZSkgPT4ge1xuICAgIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGF6eSkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNjaGVtYSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFZmZlY3RzKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuaW5uZXJUeXBlKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGl0ZXJhbCkge1xuICAgICAgICByZXR1cm4gW3R5cGUudmFsdWVdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRW51bSkge1xuICAgICAgICByZXR1cm4gdHlwZS5vcHRpb25zO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTmF0aXZlRW51bSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmFuL2JhblxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXModHlwZS5lbnVtKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZERlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RVbmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWRdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbCkge1xuICAgICAgICByZXR1cm4gW251bGxdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEJyYW5kZWQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RSZWFkb25seSkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZENhdGNoKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn07XG5leHBvcnQgY2xhc3MgWm9kRGlzY3JpbWluYXRlZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSB0aGlzLmRpc2NyaW1pbmF0b3I7XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZSA9IGN0eC5kYXRhW2Rpc2NyaW1pbmF0b3JdO1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNNYXAuZ2V0KGRpc2NyaW1pbmF0b3JWYWx1ZSk7XG4gICAgICAgIGlmICghb3B0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmZyb20odGhpcy5vcHRpb25zTWFwLmtleXMoKSksXG4gICAgICAgICAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzY3JpbWluYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kaXNjcmltaW5hdG9yO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zTWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGRpc2NyaW1pbmF0ZWQgdW5pb24gc2NoZW1hLiBJdHMgYmVoYXZpb3VyIGlzIHZlcnkgc2ltaWxhciB0byB0aGF0IG9mIHRoZSBub3JtYWwgei51bmlvbigpIGNvbnN0cnVjdG9yLlxuICAgICAqIEhvd2V2ZXIsIGl0IG9ubHkgYWxsb3dzIGEgdW5pb24gb2Ygb2JqZWN0cywgYWxsIG9mIHdoaWNoIG5lZWQgdG8gc2hhcmUgYSBkaXNjcmltaW5hdG9yIHByb3BlcnR5LiBUaGlzIHByb3BlcnR5IG11c3RcbiAgICAgKiBoYXZlIGEgZGlmZmVyZW50IHZhbHVlIGZvciBlYWNoIG9iamVjdCBpbiB0aGUgdW5pb24uXG4gICAgICogQHBhcmFtIGRpc2NyaW1pbmF0b3IgdGhlIG5hbWUgb2YgdGhlIGRpc2NyaW1pbmF0b3IgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdHlwZXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHNjaGVtYXNcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgdmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZXNcbiAgICAgICAgY29uc3Qgb3B0aW9uc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZXMgPSBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2hhcGVbZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICAgICAgaWYgKCFkaXNjcmltaW5hdG9yVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNNYXAuc2V0KHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc01hcCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWVyZ2VWYWx1ZXMoYSwgYikge1xuICAgIGNvbnN0IGFUeXBlID0gZ2V0UGFyc2VkVHlwZShhKTtcbiAgICBjb25zdCBiVHlwZSA9IGdldFBhcnNlZFR5cGUoYik7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICBjb25zdCBiS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhiKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhhKS5maWx0ZXIoKGtleSkgPT4gYktleXMuaW5kZXhPZihrZXkpICE9PSAtMSk7XG4gICAgICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uYSwgLi4uYiB9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFyZWRLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld09ialtrZXldID0gc2hhcmVkVmFsdWUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3T2JqIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbUEgPSBhW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1CID0gYltpbmRleF07XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGl0ZW1BLCBpdGVtQik7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKHNoYXJlZFZhbHVlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdBcnJheSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgK2EgPT09ICtiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kSW50ZXJzZWN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZVBhcnNlZCA9IChwYXJzZWRMZWZ0LCBwYXJzZWRSaWdodCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzQWJvcnRlZChwYXJzZWRMZWZ0KSB8fCBpc0Fib3J0ZWQocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBtZXJnZVZhbHVlcyhwYXJzZWRMZWZ0LnZhbHVlLCBwYXJzZWRSaWdodC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIW1lcmdlZC52YWxpZCkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEaXJ0eShwYXJzZWRMZWZ0KSB8fCBpc0RpcnR5KHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBtZXJnZWQuZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IGhhbmRsZVBhcnNlZChsZWZ0LCByaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVBhcnNlZCh0aGlzLl9kZWYubGVmdC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RJbnRlcnNlY3Rpb24uY3JlYXRlID0gKGxlZnQsIHJpZ2h0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLyB0eXBlIFpvZFR1cGxlSXRlbXMgPSBbWm9kVHlwZUFueSwgLi4uWm9kVHlwZUFueVtdXTtcbmV4cG9ydCBjbGFzcyBab2RUdXBsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN0ID0gdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgIGlmICghcmVzdCAmJiBjdHguZGF0YS5sZW5ndGggPiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFsuLi5jdHguZGF0YV1cbiAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGl0ZW1JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fZGVmLml0ZW1zW2l0ZW1JbmRleF0gfHwgdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgICAgICBpZiAoIXNjaGVtYSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWEuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaXRlbUluZGV4KSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXgpOyAvLyBmaWx0ZXIgbnVsbHNcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pdGVtcztcbiAgICB9XG4gICAgcmVzdChyZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kVHVwbGUuY3JlYXRlID0gKHNjaGVtYXMsIHBhcmFtcykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgIGl0ZW1zOiBzY2hlbWFzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlLFxuICAgICAgICByZXN0OiBudWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFJlY29yZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGN0eC5kYXRhW2tleV0sIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZpcnN0LCBzZWNvbmQsIHRoaXJkKSB7XG4gICAgICAgIGlmIChzZWNvbmQgaW5zdGFuY2VvZiBab2RUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICAgICAga2V5VHlwZTogZmlyc3QsXG4gICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBzZWNvbmQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlyZCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICBrZXlUeXBlOiBab2RTdHJpbmcuY3JlYXRlKCksXG4gICAgICAgICAgICB2YWx1ZVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHNlY29uZCksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RNYXAgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubWFwKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm1hcCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgY29uc3QgcGFpcnMgPSBbLi4uY3R4LmRhdGEuZW50cmllcygpXS5tYXAoKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwgW2luZGV4LCBcImtleVwiXSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIFtpbmRleCwgXCJ2YWx1ZVwiXSkpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICB9XG4gICAgfVxufVxuWm9kTWFwLmNyZWF0ZSA9IChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTWFwKHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RTZXQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnNldCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zZXQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChkZWYubWluU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluU2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5TaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhTaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA+IGRlZi5tYXhTaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4U2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhTaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVTZXQoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRTZXQuYWRkKGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBwYXJzZWRTZXQgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5jdHguZGF0YS52YWx1ZXMoKV0ubWFwKChpdGVtLCBpKSA9PiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpKTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChlbGVtZW50cykudGhlbigoZWxlbWVudHMpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmluYWxpemVTZXQoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1pbihtaW5TaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pblNpemU6IHsgdmFsdWU6IG1pblNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4U2l6ZTogeyB2YWx1ZTogbWF4U2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaXplKHNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKHNpemUsIG1lc3NhZ2UpLm1heChzaXplLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuWm9kU2V0LmNyZWF0ZSA9ICh2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBtaW5TaXplOiBudWxsLFxuICAgICAgICBtYXhTaXplOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RGdW5jdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy5pbXBsZW1lbnQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZUFyZ3NJc3N1ZShhcmdzLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgY3R4LnNjaGVtYUVycm9yTWFwLCBnZXRFcnJvck1hcCgpLCBkZWZhdWx0RXJyb3JNYXBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VSZXR1cm5zSXNzdWUocmV0dXJucywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJldHVybnMsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsIGN0eC5zY2hlbWFFcnJvck1hcCwgZ2V0RXJyb3JNYXAoKSwgZGVmYXVsdEVycm9yTWFwXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlLFxuICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCB9O1xuICAgICAgICBjb25zdCBmbiA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAodGhpcy5fZGVmLnJldHVybnMgaW5zdGFuY2VvZiBab2RQcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gT0soYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihbXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IGF3YWl0IG1lLl9kZWYuYXJncy5wYXJzZUFzeW5jKGFyZ3MsIHBhcmFtcykuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZUFyZ3NJc3N1ZShhcmdzLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlXG4gICAgICAgICAgICAgICAgICAgIC5wYXJzZUFzeW5jKHJlc3VsdCwgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBtZS5fZGVmLmFyZ3Muc2FmZVBhcnNlKGFyZ3MsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRBcmdzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlQXJnc0lzc3VlKGFyZ3MsIHBhcnNlZEFyZ3MuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkUmV0dXJucy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIHBhcnNlZFJldHVybnMuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJhbWV0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmFyZ3M7XG4gICAgfVxuICAgIHJldHVyblR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYucmV0dXJucztcbiAgICB9XG4gICAgYXJncyguLi5pdGVtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGFyZ3M6IFpvZFR1cGxlLmNyZWF0ZShpdGVtcykucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVyblR5cGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0cmljdEltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhcmdzLCByZXR1cm5zLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICBhcmdzOiAoYXJncyA/IGFyZ3MgOiBab2RUdXBsZS5jcmVhdGUoW10pLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSkpLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJucyB8fCBab2RVbmtub3duLmNyZWF0ZSgpLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbixcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZExhenkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICAgIHJldHVybiBsYXp5U2NoZW1hLl9wYXJzZSh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgfVxufVxuWm9kTGF6eS5jcmVhdGUgPSAoZ2V0dGVyLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExhenkoe1xuICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZExpdGVyYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEgIT09IHRoaXMuX2RlZi52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWwsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHRoaXMuX2RlZi52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZTtcbiAgICB9XG59XG5ab2RMaXRlcmFsLmNyZWF0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMaXRlcmFsKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBjcmVhdGVab2RFbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjbGFzcyBab2RFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IFNldCh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgRW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGV4dHJhY3QodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHZhbHVlcywge1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgLi4ubmV3RGVmLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZXhjbHVkZSh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodGhpcy5vcHRpb25zLmZpbHRlcigob3B0KSA9PiAhdmFsdWVzLmluY2x1ZGVzKG9wdCkpLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblpvZEVudW0uY3JlYXRlID0gY3JlYXRlWm9kRW51bTtcbmV4cG9ydCBjbGFzcyBab2ROYXRpdmVFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVudW1WYWx1ZXMgPSB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nICYmIGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBTZXQodXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbn1cblpvZE5hdGl2ZUVudW0uY3JlYXRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYXRpdmVFbnVtKHtcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RQcm9taXNlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnByb21pc2UgJiYgY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21pc2lmaWVkID0gY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSA/IGN0eC5kYXRhIDogUHJvbWlzZS5yZXNvbHZlKGN0eC5kYXRhKTtcbiAgICAgICAgcmV0dXJuIE9LKHByb21pc2lmaWVkLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5wYXJzZUFzeW5jKGRhdGEsIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblpvZFByb21pc2UuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RQcm9taXNlKHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRWZmZWN0cyBleHRlbmRzIFpvZFR5cGUge1xuICAgIGlubmVyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIHNvdXJjZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzXG4gICAgICAgICAgICA/IHRoaXMuX2RlZi5zY2hlbWEuc291cmNlVHlwZSgpXG4gICAgICAgICAgICA6IHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBlZmZlY3QgPSB0aGlzLl9kZWYuZWZmZWN0IHx8IG51bGw7XG4gICAgICAgIGNvbnN0IGNoZWNrQ3R4ID0ge1xuICAgICAgICAgICAgYWRkSXNzdWU6IChhcmcpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZy5mYXRhbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnBhdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjaGVja0N0eC5hZGRJc3N1ZSA9IGNoZWNrQ3R4LmFkZElzc3VlLmJpbmQoY2hlY2tDdHgpO1xuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicHJlcHJvY2Vzc1wiKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBlZmZlY3QudHJhbnNmb3JtKGN0eC5kYXRhLCBjaGVja0N0eCk7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocHJvY2Vzc2VkKS50aGVuKGFzeW5jIChwcm9jZXNzZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInJlZmluZW1lbnRcIikge1xuICAgICAgICAgICAgY29uc3QgZXhlY3V0ZVJlZmluZW1lbnQgPSAoYWNjKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnJlZmluZW1lbnQoYWNjLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luYyByZWZpbmVtZW50IGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWRcbiAgICAgICAgICAgICAgICBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pLnRoZW4oKGlubmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3luY2hyb25vdXMgdHJhbnNmb3JtIGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pLnRoZW4oKGJhc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCkpLnRoZW4oKHJlc3VsdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoZWZmZWN0KTtcbiAgICB9XG59XG5ab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIGVmZmVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3MgPSAocHJlcHJvY2Vzcywgc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInByZXByb2Nlc3NcIiwgdHJhbnNmb3JtOiBwcmVwcm9jZXNzIH0sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCB7IFpvZEVmZmVjdHMgYXMgWm9kVHJhbnNmb3JtZXIgfTtcbmV4cG9ydCBjbGFzcyBab2RPcHRpb25hbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIE9LKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RPcHRpb25hbC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPcHRpb25hbCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROdWxsYWJsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyhudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE51bGxhYmxlLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZERlZmF1bHQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGxldCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9kZWYuZGVmYXVsdFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlRGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kRGVmYXVsdC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdHlwZW9mIHBhcmFtcy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuZGVmYXVsdCA6ICgpID0+IHBhcmFtcy5kZWZhdWx0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZENhdGNoIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICAvLyBuZXdDdHggaXMgdXNlZCB0byBub3QgY29sbGVjdCBpc3N1ZXMgZnJvbSBpbm5lciB0eXBlcyBpbiBjdHhcbiAgICAgICAgY29uc3QgbmV3Q3R4ID0ge1xuICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgIC4uLm5ld0N0eCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDYXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kQ2F0Y2guY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIGNhdGNoVmFsdWU6IHR5cGVvZiBwYXJhbXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5jYXRjaCA6ICgpID0+IHBhcmFtcy5jYXRjaCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROYU4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5uYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxufVxuWm9kTmFOLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hTih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IEJSQU5EID0gU3ltYm9sKFwiem9kX2JyYW5kXCIpO1xuZXhwb3J0IGNsYXNzIFpvZEJyYW5kZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RQaXBlbGluZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQXN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuaW4uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShpblJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXN5bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gdGhpcy5fZGVmLmluLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFBpcGVsaW5lKHtcbiAgICAgICAgICAgIGluOiBhLFxuICAgICAgICAgICAgb3V0OiBiLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZFJlYWRvbmx5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgY29uc3QgZnJlZXplID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS52YWx1ZSA9IE9iamVjdC5mcmVlemUoZGF0YS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGlzQXN5bmMocmVzdWx0KSA/IHJlc3VsdC50aGVuKChkYXRhKSA9PiBmcmVlemUoZGF0YSkpIDogZnJlZXplKHJlc3VsdCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kUmVhZG9ubHkuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgei5jdXN0b20gICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBjbGVhblBhcmFtcyhwYXJhbXMsIGRhdGEpIHtcbiAgICBjb25zdCBwID0gdHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zKGRhdGEpIDogdHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcGFyYW1zIH0gOiBwYXJhbXM7XG4gICAgY29uc3QgcDIgPSB0eXBlb2YgcCA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcCB9IDogcDtcbiAgICByZXR1cm4gcDI7XG59XG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tKGNoZWNrLCBfcGFyYW1zID0ge30sIFxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICpcbiAqIFBhc3MgYGZhdGFsYCBpbnRvIHRoZSBwYXJhbXMgb2JqZWN0IGluc3RlYWQ6XG4gKlxuICogYGBgdHNcbiAqIHouc3RyaW5nKCkuY3VzdG9tKCh2YWwpID0+IHZhbC5sZW5ndGggPiA1LCB7IGZhdGFsOiBmYWxzZSB9KVxuICogYGBgXG4gKlxuICovXG5mYXRhbCkge1xuICAgIGlmIChjaGVjaylcbiAgICAgICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gY2hlY2soZGF0YSk7XG4gICAgICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gci50aGVuKChyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSBwYXJhbXMuZmF0YWwgPz8gZmF0YWwgPz8gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnBhcmFtcywgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gcGFyYW1zLmZhdGFsID8/IGZhdGFsID8/IHRydWU7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpO1xufVxuZXhwb3J0IHsgWm9kVHlwZSBhcyBTY2hlbWEsIFpvZFR5cGUgYXMgWm9kU2NoZW1hIH07XG5leHBvcnQgY29uc3QgbGF0ZSA9IHtcbiAgICBvYmplY3Q6IFpvZE9iamVjdC5sYXp5Y3JlYXRlLFxufTtcbmV4cG9ydCB2YXIgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kO1xuKGZ1bmN0aW9uIChab2RGaXJzdFBhcnR5VHlwZUtpbmQpIHtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTdHJpbmdcIl0gPSBcIlpvZFN0cmluZ1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bWJlclwiXSA9IFwiWm9kTnVtYmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmFOXCJdID0gXCJab2ROYU5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCaWdJbnRcIl0gPSBcIlpvZEJpZ0ludFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJvb2xlYW5cIl0gPSBcIlpvZEJvb2xlYW5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REYXRlXCJdID0gXCJab2REYXRlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3ltYm9sXCJdID0gXCJab2RTeW1ib2xcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmRlZmluZWRcIl0gPSBcIlpvZFVuZGVmaW5lZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxcIl0gPSBcIlpvZE51bGxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBbnlcIl0gPSBcIlpvZEFueVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVua25vd25cIl0gPSBcIlpvZFVua25vd25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROZXZlclwiXSA9IFwiWm9kTmV2ZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RWb2lkXCJdID0gXCJab2RWb2lkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQXJyYXlcIl0gPSBcIlpvZEFycmF5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT2JqZWN0XCJdID0gXCJab2RPYmplY3RcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmlvblwiXSA9IFwiWm9kVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REaXNjcmltaW5hdGVkVW5pb25cIl0gPSBcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEludGVyc2VjdGlvblwiXSA9IFwiWm9kSW50ZXJzZWN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVHVwbGVcIl0gPSBcIlpvZFR1cGxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVjb3JkXCJdID0gXCJab2RSZWNvcmRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RNYXBcIl0gPSBcIlpvZE1hcFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFNldFwiXSA9IFwiWm9kU2V0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRnVuY3Rpb25cIl0gPSBcIlpvZEZ1bmN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGF6eVwiXSA9IFwiWm9kTGF6eVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExpdGVyYWxcIl0gPSBcIlpvZExpdGVyYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFbnVtXCJdID0gXCJab2RFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRWZmZWN0c1wiXSA9IFwiWm9kRWZmZWN0c1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hdGl2ZUVudW1cIl0gPSBcIlpvZE5hdGl2ZUVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPcHRpb25hbFwiXSA9IFwiWm9kT3B0aW9uYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsYWJsZVwiXSA9IFwiWm9kTnVsbGFibGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REZWZhdWx0XCJdID0gXCJab2REZWZhdWx0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQ2F0Y2hcIl0gPSBcIlpvZENhdGNoXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUHJvbWlzZVwiXSA9IFwiWm9kUHJvbWlzZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJyYW5kZWRcIl0gPSBcIlpvZEJyYW5kZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQaXBlbGluZVwiXSA9IFwiWm9kUGlwZWxpbmVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWFkb25seVwiXSA9IFwiWm9kUmVhZG9ubHlcIjtcbn0pKFpvZEZpcnN0UGFydHlUeXBlS2luZCB8fCAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0ge30pKTtcbi8vIHJlcXVpcmVzIFRTIDQuNCtcbmNsYXNzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5fKSB7IH1cbn1cbmNvbnN0IGluc3RhbmNlT2ZUeXBlID0gKFxuLy8gY29uc3QgaW5zdGFuY2VPZlR5cGUgPSA8VCBleHRlbmRzIG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG5jbHMsIHBhcmFtcyA9IHtcbiAgICBtZXNzYWdlOiBgSW5wdXQgbm90IGluc3RhbmNlIG9mICR7Y2xzLm5hbWV9YCxcbn0pID0+IGN1c3RvbSgoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIGNscywgcGFyYW1zKTtcbmNvbnN0IHN0cmluZ1R5cGUgPSBab2RTdHJpbmcuY3JlYXRlO1xuY29uc3QgbnVtYmVyVHlwZSA9IFpvZE51bWJlci5jcmVhdGU7XG5jb25zdCBuYW5UeXBlID0gWm9kTmFOLmNyZWF0ZTtcbmNvbnN0IGJpZ0ludFR5cGUgPSBab2RCaWdJbnQuY3JlYXRlO1xuY29uc3QgYm9vbGVhblR5cGUgPSBab2RCb29sZWFuLmNyZWF0ZTtcbmNvbnN0IGRhdGVUeXBlID0gWm9kRGF0ZS5jcmVhdGU7XG5jb25zdCBzeW1ib2xUeXBlID0gWm9kU3ltYm9sLmNyZWF0ZTtcbmNvbnN0IHVuZGVmaW5lZFR5cGUgPSBab2RVbmRlZmluZWQuY3JlYXRlO1xuY29uc3QgbnVsbFR5cGUgPSBab2ROdWxsLmNyZWF0ZTtcbmNvbnN0IGFueVR5cGUgPSBab2RBbnkuY3JlYXRlO1xuY29uc3QgdW5rbm93blR5cGUgPSBab2RVbmtub3duLmNyZWF0ZTtcbmNvbnN0IG5ldmVyVHlwZSA9IFpvZE5ldmVyLmNyZWF0ZTtcbmNvbnN0IHZvaWRUeXBlID0gWm9kVm9pZC5jcmVhdGU7XG5jb25zdCBhcnJheVR5cGUgPSBab2RBcnJheS5jcmVhdGU7XG5jb25zdCBvYmplY3RUeXBlID0gWm9kT2JqZWN0LmNyZWF0ZTtcbmNvbnN0IHN0cmljdE9iamVjdFR5cGUgPSBab2RPYmplY3Quc3RyaWN0Q3JlYXRlO1xuY29uc3QgdW5pb25UeXBlID0gWm9kVW5pb24uY3JlYXRlO1xuY29uc3QgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSA9IFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5jcmVhdGU7XG5jb25zdCBpbnRlcnNlY3Rpb25UeXBlID0gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZTtcbmNvbnN0IHR1cGxlVHlwZSA9IFpvZFR1cGxlLmNyZWF0ZTtcbmNvbnN0IHJlY29yZFR5cGUgPSBab2RSZWNvcmQuY3JlYXRlO1xuY29uc3QgbWFwVHlwZSA9IFpvZE1hcC5jcmVhdGU7XG5jb25zdCBzZXRUeXBlID0gWm9kU2V0LmNyZWF0ZTtcbmNvbnN0IGZ1bmN0aW9uVHlwZSA9IFpvZEZ1bmN0aW9uLmNyZWF0ZTtcbmNvbnN0IGxhenlUeXBlID0gWm9kTGF6eS5jcmVhdGU7XG5jb25zdCBsaXRlcmFsVHlwZSA9IFpvZExpdGVyYWwuY3JlYXRlO1xuY29uc3QgZW51bVR5cGUgPSBab2RFbnVtLmNyZWF0ZTtcbmNvbnN0IG5hdGl2ZUVudW1UeXBlID0gWm9kTmF0aXZlRW51bS5jcmVhdGU7XG5jb25zdCBwcm9taXNlVHlwZSA9IFpvZFByb21pc2UuY3JlYXRlO1xuY29uc3QgZWZmZWN0c1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZTtcbmNvbnN0IG9wdGlvbmFsVHlwZSA9IFpvZE9wdGlvbmFsLmNyZWF0ZTtcbmNvbnN0IG51bGxhYmxlVHlwZSA9IFpvZE51bGxhYmxlLmNyZWF0ZTtcbmNvbnN0IHByZXByb2Nlc3NUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcztcbmNvbnN0IHBpcGVsaW5lVHlwZSA9IFpvZFBpcGVsaW5lLmNyZWF0ZTtcbmNvbnN0IG9zdHJpbmcgPSAoKSA9PiBzdHJpbmdUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9udW1iZXIgPSAoKSA9PiBudW1iZXJUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9ib29sZWFuID0gKCkgPT4gYm9vbGVhblR5cGUoKS5vcHRpb25hbCgpO1xuZXhwb3J0IGNvbnN0IGNvZXJjZSA9IHtcbiAgICBzdHJpbmc6ICgoYXJnKSA9PiBab2RTdHJpbmcuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIG51bWJlcjogKChhcmcpID0+IFpvZE51bWJlci5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgYm9vbGVhbjogKChhcmcpID0+IFpvZEJvb2xlYW4uY3JlYXRlKHtcbiAgICAgICAgLi4uYXJnLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgfSkpLFxuICAgIGJpZ2ludDogKChhcmcpID0+IFpvZEJpZ0ludC5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgZGF0ZTogKChhcmcpID0+IFpvZERhdGUuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxufTtcbmV4cG9ydCB7IGFueVR5cGUgYXMgYW55LCBhcnJheVR5cGUgYXMgYXJyYXksIGJpZ0ludFR5cGUgYXMgYmlnaW50LCBib29sZWFuVHlwZSBhcyBib29sZWFuLCBkYXRlVHlwZSBhcyBkYXRlLCBkaXNjcmltaW5hdGVkVW5pb25UeXBlIGFzIGRpc2NyaW1pbmF0ZWRVbmlvbiwgZWZmZWN0c1R5cGUgYXMgZWZmZWN0LCBlbnVtVHlwZSBhcyBlbnVtLCBmdW5jdGlvblR5cGUgYXMgZnVuY3Rpb24sIGluc3RhbmNlT2ZUeXBlIGFzIGluc3RhbmNlb2YsIGludGVyc2VjdGlvblR5cGUgYXMgaW50ZXJzZWN0aW9uLCBsYXp5VHlwZSBhcyBsYXp5LCBsaXRlcmFsVHlwZSBhcyBsaXRlcmFsLCBtYXBUeXBlIGFzIG1hcCwgbmFuVHlwZSBhcyBuYW4sIG5hdGl2ZUVudW1UeXBlIGFzIG5hdGl2ZUVudW0sIG5ldmVyVHlwZSBhcyBuZXZlciwgbnVsbFR5cGUgYXMgbnVsbCwgbnVsbGFibGVUeXBlIGFzIG51bGxhYmxlLCBudW1iZXJUeXBlIGFzIG51bWJlciwgb2JqZWN0VHlwZSBhcyBvYmplY3QsIG9ib29sZWFuLCBvbnVtYmVyLCBvcHRpb25hbFR5cGUgYXMgb3B0aW9uYWwsIG9zdHJpbmcsIHBpcGVsaW5lVHlwZSBhcyBwaXBlbGluZSwgcHJlcHJvY2Vzc1R5cGUgYXMgcHJlcHJvY2VzcywgcHJvbWlzZVR5cGUgYXMgcHJvbWlzZSwgcmVjb3JkVHlwZSBhcyByZWNvcmQsIHNldFR5cGUgYXMgc2V0LCBzdHJpY3RPYmplY3RUeXBlIGFzIHN0cmljdE9iamVjdCwgc3RyaW5nVHlwZSBhcyBzdHJpbmcsIHN5bWJvbFR5cGUgYXMgc3ltYm9sLCBlZmZlY3RzVHlwZSBhcyB0cmFuc2Zvcm1lciwgdHVwbGVUeXBlIGFzIHR1cGxlLCB1bmRlZmluZWRUeXBlIGFzIHVuZGVmaW5lZCwgdW5pb25UeXBlIGFzIHVuaW9uLCB1bmtub3duVHlwZSBhcyB1bmtub3duLCB2b2lkVHlwZSBhcyB2b2lkLCB9O1xuZXhwb3J0IGNvbnN0IE5FVkVSID0gSU5WQUxJRDtcbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUFueURlZigpIHtcbiAgICByZXR1cm4ge307XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbnkubWpzLm1hcCIsImltcG9ydCB7IFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMubWpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFycmF5RGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICB9O1xuICAgIGlmIChkZWYudHlwZT8uX2RlZj8udHlwZU5hbWUgIT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnkpIHtcbiAgICAgICAgcmVzLml0ZW1zID0gcGFyc2VEZWYoZGVmLnR5cGUuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJ10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZGVmLm1pbkxlbmd0aCkge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbkl0ZW1zJywgZGVmLm1pbkxlbmd0aC52YWx1ZSwgZGVmLm1pbkxlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5tYXhMZW5ndGgpIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhJdGVtcycsIGRlZi5tYXhMZW5ndGgudmFsdWUsIGRlZi5tYXhMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIGlmIChkZWYuZXhhY3RMZW5ndGgpIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5JdGVtcycsIGRlZi5leGFjdExlbmd0aC52YWx1ZSwgZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heEl0ZW1zJywgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlLCBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcnJheS5tanMubWFwIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQmlnaW50RGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBmb3JtYXQ6ICdpbnQ2NCcsXG4gICAgfTtcbiAgICBpZiAoIWRlZi5jaGVja3MpXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSAnbWluJzpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09ICdqc29uU2NoZW1hNycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5pbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdleGNsdXNpdmVNaW5pbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluaW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtYXgnOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWE3Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heGltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ2V4Y2x1c2l2ZU1heGltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWF4aW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhpbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ211bHRpcGxlT2YnOlxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbXVsdGlwbGVPZicsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmlnaW50Lm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VCb29sZWFuRGVmKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vbGVhbi5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VCcmFuZGVkRGVmKF9kZWYsIHJlZnMpIHtcbiAgICByZXR1cm4gcGFyc2VEZWYoX2RlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJhbmRlZC5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VDYXRjaERlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYXRjaC5tanMubWFwIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGF0ZURlZihkZWYsIHJlZnMsIG92ZXJyaWRlRGF0ZVN0cmF0ZWd5KSB7XG4gICAgY29uc3Qgc3RyYXRlZ3kgPSBvdmVycmlkZURhdGVTdHJhdGVneSA/PyByZWZzLmRhdGVTdHJhdGVneTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzdHJhdGVneSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFueU9mOiBzdHJhdGVneS5tYXAoKGl0ZW0sIGkpID0+IHBhcnNlRGF0ZURlZihkZWYsIHJlZnMsIGl0ZW0pKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICBjYXNlICdmb3JtYXQ6ZGF0ZS10aW1lJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiAnZGF0ZS10aW1lJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ2Zvcm1hdDpkYXRlJzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiAnZGF0ZScsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdpbnRlZ2VyJzpcbiAgICAgICAgICAgIHJldHVybiBpbnRlZ2VyRGF0ZVBhcnNlcihkZWYsIHJlZnMpO1xuICAgIH1cbn1cbmNvbnN0IGludGVnZXJEYXRlUGFyc2VyID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBmb3JtYXQ6ICd1bml4LXRpbWUnLFxuICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnKSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5pbXVtJywgY2hlY2sudmFsdWUsIC8vIFRoaXMgaXMgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtYXgnOlxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4aW11bScsIGNoZWNrLnZhbHVlLCAvLyBUaGlzIGlzIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgICAgIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0ZS5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEZWZhdWx0RGVmKF9kZWYsIHJlZnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5wYXJzZURlZihfZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKSxcbiAgICAgICAgZGVmYXVsdDogX2RlZi5kZWZhdWx0VmFsdWUoKSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFZmZlY3RzRGVmKF9kZWYsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbikge1xuICAgIHJldHVybiByZWZzLmVmZmVjdFN0cmF0ZWd5ID09PSAnaW5wdXQnID8gcGFyc2VEZWYoX2RlZi5zY2hlbWEuX2RlZiwgcmVmcywgZm9yY2VSZXNvbHV0aW9uKSA6IHt9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWZmZWN0cy5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRW51bURlZihkZWYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgZW51bTogWy4uLmRlZi52YWx1ZXNdLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnVtLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmNvbnN0IGlzSnNvblNjaGVtYTdBbGxPZlR5cGUgPSAodHlwZSkgPT4ge1xuICAgIGlmICgndHlwZScgaW4gdHlwZSAmJiB0eXBlLnR5cGUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuICdhbGxPZicgaW4gdHlwZTtcbn07XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJbnRlcnNlY3Rpb25EZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgYWxsT2YgPSBbXG4gICAgICAgIHBhcnNlRGVmKGRlZi5sZWZ0Ll9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbGxPZicsICcwJ10sXG4gICAgICAgIH0pLFxuICAgICAgICBwYXJzZURlZihkZWYucmlnaHQuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgJzEnXSxcbiAgICAgICAgfSksXG4gICAgXS5maWx0ZXIoKHgpID0+ICEheCk7XG4gICAgbGV0IHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTIwMTktMDknID8geyB1bmV2YWx1YXRlZFByb3BlcnRpZXM6IGZhbHNlIH0gOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbWVyZ2VkQWxsT2YgPSBbXTtcbiAgICAvLyBJZiBlaXRoZXIgb2YgdGhlIHNjaGVtYXMgaXMgYW4gYWxsT2YsIG1lcmdlIHRoZW0gaW50byBhIHNpbmdsZSBhbGxPZlxuICAgIGFsbE9mLmZvckVhY2goKHNjaGVtYSkgPT4ge1xuICAgICAgICBpZiAoaXNKc29uU2NoZW1hN0FsbE9mVHlwZShzY2hlbWEpKSB7XG4gICAgICAgICAgICBtZXJnZWRBbGxPZi5wdXNoKC4uLnNjaGVtYS5hbGxPZik7XG4gICAgICAgICAgICBpZiAoc2NoZW1hLnVuZXZhbHVhdGVkUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgb25lIG9mIHRoZSBzY2hlbWFzIGhhcyBubyB1bmV2YWx1YXRlZFByb3BlcnRpZXMgc2V0LFxuICAgICAgICAgICAgICAgIC8vIHRoZSBtZXJnZWQgc2NoZW1hIHNob3VsZCBhbHNvIGhhdmUgbm8gdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzIHNldFxuICAgICAgICAgICAgICAgIHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBuZXN0ZWRTY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgICAgICBpZiAoJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyBpbiBzY2hlbWEgJiYgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYWRkaXRpb25hbFByb3BlcnRpZXMsIC4uLnJlc3QgfSA9IHNjaGVtYTtcbiAgICAgICAgICAgICAgICBuZXN0ZWRTY2hlbWEgPSByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQXMgc29vbiBhcyBvbmUgb2YgdGhlIHNjaGVtYXMgaGFzIGFkZGl0aW9uYWxQcm9wZXJ0aWVzIHNldCBub3QgdG8gZmFsc2UsIHdlIGFsbG93IHVuZXZhbHVhdGVkUHJvcGVydGllc1xuICAgICAgICAgICAgICAgIHVuZXZhbHVhdGVkUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lcmdlZEFsbE9mLnB1c2gobmVzdGVkU2NoZW1hKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZWRBbGxPZi5sZW5ndGggP1xuICAgICAgICB7XG4gICAgICAgICAgICBhbGxPZjogbWVyZ2VkQWxsT2YsXG4gICAgICAgICAgICAuLi51bmV2YWx1YXRlZFByb3BlcnRpZXMsXG4gICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcnNlY3Rpb24ubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUxpdGVyYWxEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHR5cGVvZiBkZWYudmFsdWU7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09ICdiaWdpbnQnICYmXG4gICAgICAgIHBhcnNlZFR5cGUgIT09ICdudW1iZXInICYmXG4gICAgICAgIHBhcnNlZFR5cGUgIT09ICdib29sZWFuJyAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogQXJyYXkuaXNBcnJheShkZWYudmFsdWUpID8gJ2FycmF5JyA6ICdvYmplY3QnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHBhcnNlZFR5cGUgPT09ICdiaWdpbnQnID8gJ2ludGVnZXInIDogcGFyc2VkVHlwZSxcbiAgICAgICAgICAgIGVudW06IFtkZWYudmFsdWVdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBwYXJzZWRUeXBlID09PSAnYmlnaW50JyA/ICdpbnRlZ2VyJyA6IHBhcnNlZFR5cGUsXG4gICAgICAgIGNvbnN0OiBkZWYudmFsdWUsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdGVyYWwubWpzLm1hcCIsImltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5tanNcIjtcbmxldCBlbW9qaVJlZ2V4O1xuLyoqXG4gKiBHZW5lcmF0ZWQgZnJvbSB0aGUgcmVndWxhciBleHByZXNzaW9ucyBmb3VuZCBoZXJlIGFzIG9mIDIwMjQtMDUtMjI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvYmxvYi9tYXN0ZXIvc3JjL3R5cGVzLnRzLlxuICpcbiAqIEV4cHJlc3Npb25zIHdpdGggL2kgZmxhZyBoYXZlIGJlZW4gY2hhbmdlZCBhY2NvcmRpbmdseS5cbiAqL1xuZXhwb3J0IGNvbnN0IHpvZFBhdHRlcm5zID0ge1xuICAgIC8qKlxuICAgICAqIGBjYCB3YXMgY2hhbmdlZCB0byBgW2NDXWAgdG8gcmVwbGljYXRlIC9pIGZsYWdcbiAgICAgKi9cbiAgICBjdWlkOiAvXltjQ11bXlxccy1dezgsfSQvLFxuICAgIGN1aWQyOiAvXlswLTlhLXpdKyQvLFxuICAgIHVsaWQ6IC9eWzAtOUEtSEpLTU5QLVRWLVpdezI2fSQvLFxuICAgIC8qKlxuICAgICAqIGBhLXpgIHdhcyBhZGRlZCB0byByZXBsaWNhdGUgL2kgZmxhZ1xuICAgICAqL1xuICAgIGVtYWlsOiAvXig/IVxcLikoPyEuKlxcLlxcLikoW2EtekEtWjAtOV8nK1xcLVxcLl0qKVthLXpBLVowLTlfKy1dQChbYS16QS1aMC05XVthLXpBLVowLTlcXC1dKlxcLikrW2EtekEtWl17Mix9JC8sXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0ZWQgYSB2YWxpZCBVbmljb2RlIFJlZ0V4cFxuICAgICAqXG4gICAgICogTGF6aWx5IGluc3RhbnRpYXRlIHNpbmNlIHRoaXMgdHlwZSBvZiByZWdleCBpc24ndCBzdXBwb3J0ZWRcbiAgICAgKiBpbiBhbGwgZW52cyAoZS5nLiBSZWFjdCBOYXRpdmUpLlxuICAgICAqXG4gICAgICogU2VlOlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9pc3N1ZXMvMjQzM1xuICAgICAqIEZpeCBpbiBab2Q6XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2NvbW1pdC85MzQwZmQ1MWU0ODU3NmE3NWFkYzkxOWJmZjY1ZGJjNGE1ZDRjOTliXG4gICAgICovXG4gICAgZW1vamk6ICgpID0+IHtcbiAgICAgICAgaWYgKGVtb2ppUmVnZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZW1vamlSZWdleCA9IFJlZ0V4cCgnXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyQnLCAndScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbW9qaVJlZ2V4O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVW51c2VkXG4gICAgICovXG4gICAgdXVpZDogL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kLyxcbiAgICAvKipcbiAgICAgKiBVbnVzZWRcbiAgICAgKi9cbiAgICBpcHY0OiAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvLFxuICAgIC8qKlxuICAgICAqIFVudXNlZFxuICAgICAqL1xuICAgIGlwdjY6IC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvLFxuICAgIGJhc2U2NDogL14oWzAtOWEtekEtWisvXXs0fSkqKChbMC05YS16QS1aKy9dezJ9PT0pfChbMC05YS16QS1aKy9dezN9PSkpPyQvLFxuICAgIG5hbm9pZDogL15bYS16QS1aMC05Xy1dezIxfSQvLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0cmluZ0RlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgIH07XG4gICAgZnVuY3Rpb24gcHJvY2Vzc1BhdHRlcm4odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHJlZnMucGF0dGVyblN0cmF0ZWd5ID09PSAnZXNjYXBlJyA/IGVzY2FwZU5vbkFscGhhTnVtZXJpYyh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGRlZi5jaGVja3MpIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdtaW4nOlxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbkxlbmd0aCcsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSAnbnVtYmVyJyA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhMZW5ndGgnLCB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gJ251bWJlcicgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSkgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZWZzLmVtYWlsU3RyYXRlZ3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Zvcm1hdDplbWFpbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2VtYWlsJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmb3JtYXQ6aWRuLWVtYWlsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnaWRuLWVtYWlsJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwYXR0ZXJuOnpvZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmVtYWlsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1cmwnOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAndXJpJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3V1aWQnOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAndXVpZCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZWdleCc6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBjaGVjay5yZWdleCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2N1aWQnOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2N1aWQyJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmN1aWQyLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RhcnRzV2l0aCc6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBSZWdFeHAoYF4ke3Byb2Nlc3NQYXR0ZXJuKGNoZWNrLnZhbHVlKX1gKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VuZHNXaXRoJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIFJlZ0V4cChgJHtwcm9jZXNzUGF0dGVybihjaGVjay52YWx1ZSl9JGApLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0ZXRpbWUnOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZGF0ZS10aW1lJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZGF0ZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0aW1lJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ3RpbWUnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZHVyYXRpb24nOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnZHVyYXRpb24nLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbGVuZ3RoJzpcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5MZW5ndGgnLCB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gJ251bWJlcicgPyBNYXRoLm1heChyZXMubWluTGVuZ3RoLCBjaGVjay52YWx1ZSkgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4TGVuZ3RoJywgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09ICdudW1iZXInID8gTWF0aC5taW4ocmVzLm1heExlbmd0aCwgY2hlY2sudmFsdWUpIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdpbmNsdWRlcyc6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIFJlZ0V4cChwcm9jZXNzUGF0dGVybihjaGVjay52YWx1ZSkpLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2lwJzoge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gJ3Y2Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2lwdjQnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gJ3Y0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2lwdjYnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZW1vamknOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1vamksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1bGlkJzoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMudWxpZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdiYXNlNjQnOiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVmcy5iYXNlNjRTdHJhdGVneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZm9ybWF0OmJpbmFyeSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCAnYmluYXJ5JywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb250ZW50RW5jb2Rpbmc6YmFzZTY0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnY29udGVudEVuY29kaW5nJywgJ2Jhc2U2NCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncGF0dGVybjp6b2QnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmJhc2U2NCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ25hbm9pZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLm5hbm9pZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3RvTG93ZXJDYXNlJzpcbiAgICAgICAgICAgICAgICBjYXNlICd0b1VwcGVyQ2FzZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAndHJpbSc6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICgoXykgPT4geyB9KShjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmNvbnN0IGVzY2FwZU5vbkFscGhhTnVtZXJpYyA9ICh2YWx1ZSkgPT4gQXJyYXkuZnJvbSh2YWx1ZSlcbiAgICAubWFwKChjKSA9PiAoL1thLXpBLVowLTldLy50ZXN0KGMpID8gYyA6IGBcXFxcJHtjfWApKVxuICAgIC5qb2luKCcnKTtcbmNvbnN0IGFkZEZvcm1hdCA9IChzY2hlbWEsIHZhbHVlLCBtZXNzYWdlLCByZWZzKSA9PiB7XG4gICAgaWYgKHNjaGVtYS5mb3JtYXQgfHwgc2NoZW1hLmFueU9mPy5zb21lKCh4KSA9PiB4LmZvcm1hdCkpIHtcbiAgICAgICAgaWYgKCFzY2hlbWEuYW55T2YpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbnlPZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEuZm9ybWF0KSB7XG4gICAgICAgICAgICBzY2hlbWEuYW55T2YucHVzaCh7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBzY2hlbWEuZm9ybWF0LFxuICAgICAgICAgICAgICAgIC4uLihzY2hlbWEuZXJyb3JNZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0IH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZm9ybWF0O1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZS5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNjaGVtYS5lcnJvck1lc3NhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmFueU9mLnB1c2goe1xuICAgICAgICAgICAgZm9ybWF0OiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICYmIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IG1lc3NhZ2UgfSB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgJ2Zvcm1hdCcsIHZhbHVlLCBtZXNzYWdlLCByZWZzKTtcbiAgICB9XG59O1xuY29uc3QgYWRkUGF0dGVybiA9IChzY2hlbWEsIHJlZ2V4LCBtZXNzYWdlLCByZWZzKSA9PiB7XG4gICAgaWYgKHNjaGVtYS5wYXR0ZXJuIHx8IHNjaGVtYS5hbGxPZj8uc29tZSgoeCkgPT4geC5wYXR0ZXJuKSkge1xuICAgICAgICBpZiAoIXNjaGVtYS5hbGxPZikge1xuICAgICAgICAgICAgc2NoZW1hLmFsbE9mID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYS5wYXR0ZXJuKSB7XG4gICAgICAgICAgICBzY2hlbWEuYWxsT2YucHVzaCh7XG4gICAgICAgICAgICAgICAgcGF0dGVybjogc2NoZW1hLnBhdHRlcm4sXG4gICAgICAgICAgICAgICAgLi4uKHNjaGVtYS5lcnJvck1lc3NhZ2UgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiB7IHBhdHRlcm46IHNjaGVtYS5lcnJvck1lc3NhZ2UucGF0dGVybiB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZWxldGUgc2NoZW1hLnBhdHRlcm47XG4gICAgICAgICAgICBpZiAoc2NoZW1hLmVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm47XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNjaGVtYS5lcnJvck1lc3NhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmFsbE9mLnB1c2goe1xuICAgICAgICAgICAgcGF0dGVybjogcHJvY2Vzc1JlZ0V4cChyZWdleCwgcmVmcyksXG4gICAgICAgICAgICAuLi4obWVzc2FnZSAmJiByZWZzLmVycm9yTWVzc2FnZXMgJiYgeyBlcnJvck1lc3NhZ2U6IHsgcGF0dGVybjogbWVzc2FnZSB9IH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCAncGF0dGVybicsIHByb2Nlc3NSZWdFeHAocmVnZXgsIHJlZnMpLCBtZXNzYWdlLCByZWZzKTtcbiAgICB9XG59O1xuLy8gTXV0YXRlIHouc3RyaW5nLnJlZ2V4KCkgaW4gYSBiZXN0IGF0dGVtcHQgdG8gYWNjb21tb2RhdGUgZm9yIHJlZ2V4IGZsYWdzIHdoZW4gYXBwbHlSZWdleEZsYWdzIGlzIHRydWVcbmNvbnN0IHByb2Nlc3NSZWdFeHAgPSAocmVnZXhPckZ1bmN0aW9uLCByZWZzKSA9PiB7XG4gICAgY29uc3QgcmVnZXggPSB0eXBlb2YgcmVnZXhPckZ1bmN0aW9uID09PSAnZnVuY3Rpb24nID8gcmVnZXhPckZ1bmN0aW9uKCkgOiByZWdleE9yRnVuY3Rpb247XG4gICAgaWYgKCFyZWZzLmFwcGx5UmVnZXhGbGFncyB8fCAhcmVnZXguZmxhZ3MpXG4gICAgICAgIHJldHVybiByZWdleC5zb3VyY2U7XG4gICAgLy8gQ3VycmVudGx5IGhhbmRsZWQgZmxhZ3NcbiAgICBjb25zdCBmbGFncyA9IHtcbiAgICAgICAgaTogcmVnZXguZmxhZ3MuaW5jbHVkZXMoJ2knKSwgLy8gQ2FzZS1pbnNlbnNpdGl2ZVxuICAgICAgICBtOiByZWdleC5mbGFncy5pbmNsdWRlcygnbScpLCAvLyBgXmAgYW5kIGAkYCBtYXRjaGVzIGFkamFjZW50IHRvIG5ld2xpbmUgY2hhcmFjdGVyc1xuICAgICAgICBzOiByZWdleC5mbGFncy5pbmNsdWRlcygncycpLCAvLyBgLmAgbWF0Y2hlcyBuZXdsaW5lc1xuICAgIH07XG4gICAgLy8gVGhlIGdlbmVyYWwgcHJpbmNpcGxlIGhlcmUgaXMgdG8gc3RlcCB0aHJvdWdoIGVhY2ggY2hhcmFjdGVyLCBvbmUgYXQgYSB0aW1lLCBhcHBseWluZyBtdXRhdGlvbnMgYXMgZmxhZ3MgcmVxdWlyZS4gV2Uga2VlcCB0cmFjayB3aGVuIHRoZSBjdXJyZW50IGNoYXJhY3RlciBpcyBlc2NhcGVkLCBhbmQgd2hlbiBpdCdzIGluc2lkZSBhIGdyb3VwIC9saWtlIFt0aGlzXS8gb3IgKGFsc28pIGEgcmFuZ2UgbGlrZSAvW2Etel0vLiBUaGUgZm9sbG93aW5nIGlzIGZhaXJseSBicml0dGxlIGltcGVyYXRpdmUgY29kZTsgZWRpdCBhdCB5b3VyIHBlcmlsIVxuICAgIGNvbnN0IHNvdXJjZSA9IGZsYWdzLmkgPyByZWdleC5zb3VyY2UudG9Mb3dlckNhc2UoKSA6IHJlZ2V4LnNvdXJjZTtcbiAgICBsZXQgcGF0dGVybiA9ICcnO1xuICAgIGxldCBpc0VzY2FwZWQgPSBmYWxzZTtcbiAgICBsZXQgaW5DaGFyR3JvdXAgPSBmYWxzZTtcbiAgICBsZXQgaW5DaGFyUmFuZ2UgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNFc2NhcGVkKSB7XG4gICAgICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgIGlzRXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzLmkpIHtcbiAgICAgICAgICAgIGlmIChpbkNoYXJHcm91cCkge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VbaV0ubWF0Y2goL1thLXpdLykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluQ2hhclJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYCR7c291cmNlW2kgLSAyXX0tJHtzb3VyY2VbaV19YC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5DaGFyUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzb3VyY2VbaSArIDFdID09PSAnLScgJiYgc291cmNlW2kgKyAyXT8ubWF0Y2goL1thLXpdLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5DaGFyUmFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSBgJHtzb3VyY2VbaV19JHtzb3VyY2VbaV0udG9VcHBlckNhc2UoKX1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZVtpXS5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYFske3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfV1gO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmbGFncy5tKSB7XG4gICAgICAgICAgICBpZiAoc291cmNlW2ldID09PSAnXicpIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IGAoXnwoPzw9W1xcclxcbl0pKWA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzb3VyY2VbaV0gPT09ICckJykge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYCgkfCg/PVtcXHJcXG5dKSlgO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmbGFncy5zICYmIHNvdXJjZVtpXSA9PT0gJy4nKSB7XG4gICAgICAgICAgICBwYXR0ZXJuICs9IGluQ2hhckdyb3VwID8gYCR7c291cmNlW2ldfVxcclxcbmAgOiBgWyR7c291cmNlW2ldfVxcclxcbl1gO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgIGlmIChzb3VyY2VbaV0gPT09ICdcXFxcJykge1xuICAgICAgICAgICAgaXNFc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbkNoYXJHcm91cCAmJiBzb3VyY2VbaV0gPT09ICddJykge1xuICAgICAgICAgICAgaW5DaGFyR3JvdXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSAnWycpIHtcbiAgICAgICAgICAgIGluQ2hhckdyb3VwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZWdleFRlc3QgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGNvbnZlcnQgcmVnZXggcGF0dGVybiBhdCAke3JlZnMuY3VycmVudFBhdGguam9pbignLycpfSB0byBhIGZsYWctaW5kZXBlbmRlbnQgZm9ybSEgRmFsbGluZyBiYWNrIHRvIHRoZSBmbGFnLWlnbm9yYW50IHNvdXJjZWApO1xuICAgICAgICByZXR1cm4gcmVnZXguc291cmNlO1xuICAgIH1cbiAgICByZXR1cm4gcGF0dGVybjtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJpbmcubWpzLm1hcCIsImltcG9ydCB7IFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmltcG9ydCB7IHBhcnNlU3RyaW5nRGVmIH0gZnJvbSBcIi4vc3RyaW5nLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJyAmJiBkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLFxuICAgICAgICAgICAgcHJvcGVydGllczogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMucmVkdWNlKChhY2MsIGtleSkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgW2tleV06IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdwcm9wZXJ0aWVzJywga2V5XSxcbiAgICAgICAgICAgICAgICB9KSA/PyB7fSxcbiAgICAgICAgICAgIH0pLCB7fSksXG4gICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsUHJvcGVydGllcyddLFxuICAgICAgICB9KSA/PyB7fSxcbiAgICB9O1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJykge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbiAgICBpZiAoZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcgJiYgZGVmLmtleVR5cGUuX2RlZi5jaGVja3M/Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gT2JqZWN0LmVudHJpZXMocGFyc2VTdHJpbmdEZWYoZGVmLmtleVR5cGUuX2RlZiwgcmVmcykpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IChrZXkgPT09ICd0eXBlJyA/IGFjYyA6IHsgLi4uYWNjLCBba2V5XTogdmFsdWUgfSksIHt9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnNjaGVtYSxcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZXM6IGtleVR5cGUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc2NoZW1hLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lczoge1xuICAgICAgICAgICAgICAgIGVudW06IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlY29yZC5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVJlY29yZERlZiB9IGZyb20gXCIuL3JlY29yZC5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1hcERlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAocmVmcy5tYXBTdHJhdGVneSA9PT0gJ3JlY29yZCcpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcyk7XG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBwYXJzZURlZihkZWYua2V5VHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgJ2l0ZW1zJywgJzAnXSxcbiAgICB9KSB8fCB7fTtcbiAgICBjb25zdCB2YWx1ZXMgPSBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCAnaXRlbXMnLCAnMSddLFxuICAgIH0pIHx8IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgIG1heEl0ZW1zOiAxMjUsXG4gICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgaXRlbXM6IFtrZXlzLCB2YWx1ZXNdLFxuICAgICAgICAgICAgbWluSXRlbXM6IDIsXG4gICAgICAgICAgICBtYXhJdGVtczogMixcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZikge1xuICAgIGNvbnN0IG9iamVjdCA9IGRlZi52YWx1ZXM7XG4gICAgY29uc3QgYWN0dWFsS2V5cyA9IE9iamVjdC5rZXlzKGRlZi52YWx1ZXMpLmZpbHRlcigoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0W29iamVjdFtrZXldXSAhPT0gJ251bWJlcic7XG4gICAgfSk7XG4gICAgY29uc3QgYWN0dWFsVmFsdWVzID0gYWN0dWFsS2V5cy5tYXAoKGtleSkgPT4gb2JqZWN0W2tleV0pO1xuICAgIGNvbnN0IHBhcnNlZFR5cGVzID0gQXJyYXkuZnJvbShuZXcgU2V0KGFjdHVhbFZhbHVlcy5tYXAoKHZhbHVlcykgPT4gdHlwZW9mIHZhbHVlcykpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBwYXJzZWRUeXBlcy5sZW5ndGggPT09IDEgP1xuICAgICAgICAgICAgcGFyc2VkVHlwZXNbMF0gPT09ICdzdHJpbmcnID9cbiAgICAgICAgICAgICAgICAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgIDogJ251bWJlcidcbiAgICAgICAgICAgIDogWydzdHJpbmcnLCAnbnVtYmVyJ10sXG4gICAgICAgIGVudW06IGFjdHVhbFZhbHVlcyxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlRW51bS5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTmV2ZXJEZWYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm90OiB7fSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV2ZXIubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bGxEZWYocmVmcykge1xuICAgIHJldHVybiByZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJyA/XG4gICAgICAgIHtcbiAgICAgICAgICAgIGVudW06IFsnbnVsbCddLFxuICAgICAgICAgICAgbnVsbGFibGU6IHRydWUsXG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICB0eXBlOiAnbnVsbCcsXG4gICAgICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1udWxsLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBjb25zdCBwcmltaXRpdmVNYXBwaW5ncyA9IHtcbiAgICBab2RTdHJpbmc6ICdzdHJpbmcnLFxuICAgIFpvZE51bWJlcjogJ251bWJlcicsXG4gICAgWm9kQmlnSW50OiAnaW50ZWdlcicsXG4gICAgWm9kQm9vbGVhbjogJ2Jvb2xlYW4nLFxuICAgIFpvZE51bGw6ICdudWxsJyxcbn07XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVbmlvbkRlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycpXG4gICAgICAgIHJldHVybiBhc0FueU9mKGRlZiwgcmVmcyk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGRlZi5vcHRpb25zIGluc3RhbmNlb2YgTWFwID8gQXJyYXkuZnJvbShkZWYub3B0aW9ucy52YWx1ZXMoKSkgOiBkZWYub3B0aW9ucztcbiAgICAvLyBUaGlzIGJsb2NrcyB0cmllcyB0byBsb29rIGFoZWFkIGEgYml0IHRvIHByb2R1Y2UgbmljZXIgbG9va2luZyBzY2hlbWFzIHdpdGggdHlwZSBhcnJheSBpbnN0ZWFkIG9mIGFueU9mLlxuICAgIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgaW4gcHJpbWl0aXZlTWFwcGluZ3MgJiYgKCF4Ll9kZWYuY2hlY2tzIHx8ICF4Ll9kZWYuY2hlY2tzLmxlbmd0aCkpKSB7XG4gICAgICAgIC8vIGFsbCB0eXBlcyBpbiB1bmlvbiBhcmUgcHJpbWl0aXZlIGFuZCBsYWNrIGNoZWNrcywgc28gbWlnaHQgYXMgd2VsbCBzcXVhc2ggaW50byB7dHlwZTogWy4uLl19XG4gICAgICAgIGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKHR5cGVzLCB4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gcHJpbWl0aXZlTWFwcGluZ3NbeC5fZGVmLnR5cGVOYW1lXTsgLy9DYW4gYmUgc2FmZWx5IGNhc3RlZCBkdWUgdG8gcm93IDQzXG4gICAgICAgICAgICByZXR1cm4gdHlwZSAmJiAhdHlwZXMuaW5jbHVkZXModHlwZSkgPyBbLi4udHlwZXMsIHR5cGVdIDogdHlwZXM7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGVzLmxlbmd0aCA+IDEgPyB0eXBlcyA6IHR5cGVzWzBdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb25zLmV2ZXJ5KCh4KSA9PiB4Ll9kZWYudHlwZU5hbWUgPT09ICdab2RMaXRlcmFsJyAmJiAheC5kZXNjcmlwdGlvbikpIHtcbiAgICAgICAgLy8gYWxsIG9wdGlvbnMgbGl0ZXJhbHNcbiAgICAgICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mIHguX2RlZi52YWx1ZTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIHR5cGVdO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JpZ2ludCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCAnaW50ZWdlciddO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh4Ll9kZWYudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgJ251bGwnXTtcbiAgICAgICAgICAgICAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgaWYgKHR5cGVzLmxlbmd0aCA9PT0gb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGFsbCB0aGUgbGl0ZXJhbHMgYXJlIHByaW1pdGl2ZSwgYXMgZmFyIGFzIG51bGwgY2FuIGJlIGNvbnNpZGVyZWQgcHJpbWl0aXZlXG4gICAgICAgICAgICBjb25zdCB1bmlxdWVUeXBlcyA9IHR5cGVzLmZpbHRlcigoeCwgaSwgYSkgPT4gYS5pbmRleE9mKHgpID09PSBpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdW5pcXVlVHlwZXMubGVuZ3RoID4gMSA/IHVuaXF1ZVR5cGVzIDogdW5pcXVlVHlwZXNbMF0sXG4gICAgICAgICAgICAgICAgZW51bTogb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjLmluY2x1ZGVzKHguX2RlZi52YWx1ZSkgPyBhY2MgOiBbLi4uYWNjLCB4Ll9kZWYudmFsdWVdO1xuICAgICAgICAgICAgICAgIH0sIFtdKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lID09PSAnWm9kRW51bScpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGVudW06IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IFsuLi5hY2MsIC4uLnguX2RlZi52YWx1ZXMuZmlsdGVyKCh4KSA9PiAhYWNjLmluY2x1ZGVzKHgpKV0sIFtdKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcbn1cbmNvbnN0IGFzQW55T2YgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgY29uc3QgYW55T2YgPSAoZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zKVxuICAgICAgICAubWFwKCh4LCBpKSA9PiBwYXJzZURlZih4Ll9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYW55T2YnLCBgJHtpfWBdLFxuICAgIH0pKVxuICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXggJiYgKCFyZWZzLnN0cmljdFVuaW9ucyB8fCAodHlwZW9mIHggPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHgpLmxlbmd0aCA+IDApKSk7XG4gICAgcmV0dXJuIGFueU9mLmxlbmd0aCA/IHsgYW55T2YgfSA6IHVuZGVmaW5lZDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmlvbi5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5pbXBvcnQgeyBwcmltaXRpdmVNYXBwaW5ncyB9IGZyb20gXCIuL3VuaW9uLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVsbGFibGVEZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKFsnWm9kU3RyaW5nJywgJ1pvZE51bWJlcicsICdab2RCaWdJbnQnLCAnWm9kQm9vbGVhbicsICdab2ROdWxsJ10uaW5jbHVkZXMoZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lKSAmJlxuICAgICAgICAoIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MgfHwgIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MubGVuZ3RoKSkge1xuICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycgfHwgcmVmcy5udWxsYWJsZVN0cmF0ZWd5ID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHByaW1pdGl2ZU1hcHBpbmdzW2RlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZV0sXG4gICAgICAgICAgICAgICAgbnVsbGFibGU6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBbcHJpbWl0aXZlTWFwcGluZ3NbZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lXSwgJ251bGwnXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnKSB7XG4gICAgICAgIGNvbnN0IGJhc2UgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGhdLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGJhc2UgJiYgJyRyZWYnIGluIGJhc2UpXG4gICAgICAgICAgICByZXR1cm4geyBhbGxPZjogW2Jhc2VdLCBudWxsYWJsZTogdHJ1ZSB9O1xuICAgICAgICByZXR1cm4gYmFzZSAmJiB7IC4uLmJhc2UsIG51bGxhYmxlOiB0cnVlIH07XG4gICAgfVxuICAgIGNvbnN0IGJhc2UgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYW55T2YnLCAnMCddLFxuICAgIH0pO1xuICAgIHJldHVybiBiYXNlICYmIHsgYW55T2Y6IFtiYXNlLCB7IHR5cGU6ICdudWxsJyB9XSB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVsbGFibGUubWpzLm1hcCIsImltcG9ydCB7IGFkZEVycm9yTWVzc2FnZSwgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTnVtYmVyRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgfTtcbiAgICBpZiAoIWRlZi5jaGVja3MpXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgICAgICAgICByZXMudHlwZSA9ICdpbnRlZ2VyJztcbiAgICAgICAgICAgICAgICBhZGRFcnJvck1lc3NhZ2UocmVzLCAndHlwZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWluJzpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09ICdqc29uU2NoZW1hNycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5pbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdleGNsdXNpdmVNaW5pbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluaW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtYXgnOlxuICAgICAgICAgICAgICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWE3Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heGltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ2V4Y2x1c2l2ZU1heGltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZXhjbHVzaXZlTWF4aW11bSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhpbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ211bHRpcGxlT2YnOlxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbXVsdGlwbGVPZicsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVtYmVyLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmZ1bmN0aW9uIGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLnJlbW92ZUFkZGl0aW9uYWxTdHJhdGVneSA9PT0gJ3N0cmljdCcpIHtcbiAgICAgICAgcmV0dXJuIGRlZi5jYXRjaGFsbC5fZGVmLnR5cGVOYW1lID09PSAnWm9kTmV2ZXInID9cbiAgICAgICAgICAgIGRlZi51bmtub3duS2V5cyAhPT0gJ3N0cmljdCdcbiAgICAgICAgICAgIDogcGFyc2VEZWYoZGVmLmNhdGNoYWxsLl9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJ10sXG4gICAgICAgICAgICB9KSA/PyB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlZi5jYXRjaGFsbC5fZGVmLnR5cGVOYW1lID09PSAnWm9kTmV2ZXInID9cbiAgICAgICAgICAgIGRlZi51bmtub3duS2V5cyA9PT0gJ3Bhc3N0aHJvdWdoJ1xuICAgICAgICAgICAgOiBwYXJzZURlZihkZWYuY2F0Y2hhbGwuX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWRkaXRpb25hbFByb3BlcnRpZXMnXSxcbiAgICAgICAgICAgIH0pID8/IHRydWU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlT2JqZWN0RGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIC4uLk9iamVjdC5lbnRyaWVzKGRlZi5zaGFwZSgpKS5yZWR1Y2UoKGFjYywgW3Byb3BOYW1lLCBwcm9wRGVmXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3BEZWYgPT09IHVuZGVmaW5lZCB8fCBwcm9wRGVmLl9kZWYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlQYXRoID0gWy4uLnJlZnMuY3VycmVudFBhdGgsICdwcm9wZXJ0aWVzJywgcHJvcE5hbWVdO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkRGVmID0gcGFyc2VEZWYocHJvcERlZi5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogcHJvcGVydHlQYXRoLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5UGF0aCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHBhcnNlZERlZiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICBpZiAocmVmcy5vcGVuYWlTdHJpY3RNb2RlICYmXG4gICAgICAgICAgICAgICAgcHJvcERlZi5pc09wdGlvbmFsKCkgJiZcbiAgICAgICAgICAgICAgICAhcHJvcERlZi5pc051bGxhYmxlKCkgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgcHJvcERlZi5fZGVmPy5kZWZhdWx0VmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBab2QgZmllbGQgYXQgXFxgJHtwcm9wZXJ0eVBhdGguam9pbignLycpfVxcYCB1c2VzIFxcYC5vcHRpb25hbCgpXFxgIHdpdGhvdXQgXFxgLm51bGxhYmxlKClcXGAgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgQVBJLiBTZWU6IGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9zdHJ1Y3R1cmVkLW91dHB1dHM/YXBpLW1vZGU9cmVzcG9uc2VzI2FsbC1maWVsZHMtbXVzdC1iZS1yZXF1aXJlZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmFjYy5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICBbcHJvcE5hbWVdOiBwYXJzZWREZWYsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogcHJvcERlZi5pc09wdGlvbmFsKCkgJiYgIXJlZnMub3BlbmFpU3RyaWN0TW9kZSA/IGFjYy5yZXF1aXJlZCA6IFsuLi5hY2MucmVxdWlyZWQsIHByb3BOYW1lXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIHsgcHJvcGVydGllczoge30sIHJlcXVpcmVkOiBbXSB9KSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZiwgcmVmcyksXG4gICAgfTtcbiAgICBpZiAoIXJlc3VsdC5yZXF1aXJlZC5sZW5ndGgpXG4gICAgICAgIGRlbGV0ZSByZXN1bHQucmVxdWlyZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9iamVjdC5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VPcHRpb25hbERlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBpZiAocmVmcy5wcm9wZXJ0eVBhdGggJiZcbiAgICAgICAgcmVmcy5jdXJyZW50UGF0aC5zbGljZSgwLCByZWZzLnByb3BlcnR5UGF0aC5sZW5ndGgpLnRvU3RyaW5nKCkgPT09IHJlZnMucHJvcGVydHlQYXRoLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgeyAuLi5yZWZzLCBjdXJyZW50UGF0aDogcmVmcy5jdXJyZW50UGF0aCB9KTtcbiAgICB9XG4gICAgY29uc3QgaW5uZXJTY2hlbWEgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYW55T2YnLCAnMSddLFxuICAgIH0pO1xuICAgIHJldHVybiBpbm5lclNjaGVtYSA/XG4gICAgICAgIHtcbiAgICAgICAgICAgIGFueU9mOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBub3Q6IHt9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5uZXJTY2hlbWEsXG4gICAgICAgICAgICBdLFxuICAgICAgICB9XG4gICAgICAgIDoge307XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3B0aW9uYWwubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlUGlwZWxpbmVEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgaWYgKHJlZnMucGlwZVN0cmF0ZWd5ID09PSAnaW5wdXQnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZURlZihkZWYuaW4uX2RlZiwgcmVmcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlZnMucGlwZVN0cmF0ZWd5ID09PSAnb3V0cHV0Jykge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLm91dC5fZGVmLCByZWZzKTtcbiAgICB9XG4gICAgY29uc3QgYSA9IHBhcnNlRGVmKGRlZi5pbi5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgJzAnXSxcbiAgICB9KTtcbiAgICBjb25zdCBiID0gcGFyc2VEZWYoZGVmLm91dC5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FsbE9mJywgYSA/ICcxJyA6ICcwJ10sXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWxsT2Y6IFthLCBiXS5maWx0ZXIoKHgpID0+IHggIT09IHVuZGVmaW5lZCksXG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlbGluZS5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQcm9taXNlRGVmKGRlZiwgcmVmcykge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYudHlwZS5fZGVmLCByZWZzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2UubWpzLm1hcCIsImltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2V0RGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IGl0ZW1zID0gcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJ10sXG4gICAgfSk7XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICB1bmlxdWVJdGVtczogdHJ1ZSxcbiAgICAgICAgaXRlbXMsXG4gICAgfTtcbiAgICBpZiAoZGVmLm1pblNpemUpIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsICdtaW5JdGVtcycsIGRlZi5taW5TaXplLnZhbHVlLCBkZWYubWluU2l6ZS5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5tYXhTaXplKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCAnbWF4SXRlbXMnLCBkZWYubWF4U2l6ZS52YWx1ZSwgZGVmLm1heFNpemUubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXQubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVHVwbGVEZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKGRlZi5yZXN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgbWluSXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBpdGVtczogZGVmLml0ZW1zXG4gICAgICAgICAgICAgICAgLm1hcCgoeCwgaSkgPT4gcGFyc2VEZWYoeC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsIGAke2l9YF0sXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIHgpID0+ICh4ID09PSB1bmRlZmluZWQgPyBhY2MgOiBbLi4uYWNjLCB4XSksIFtdKSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxJdGVtczogcGFyc2VEZWYoZGVmLnJlc3QuX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWRkaXRpb25hbEl0ZW1zJ10sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgbWluSXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBtYXhJdGVtczogZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgIGl0ZW1zOiBkZWYuaXRlbXNcbiAgICAgICAgICAgICAgICAubWFwKCh4LCBpKSA9PiBwYXJzZURlZih4Ll9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgYCR7aX1gXSxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSwgW10pLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR1cGxlLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VVbmRlZmluZWREZWYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbm90OiB7fSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5kZWZpbmVkLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VVbmtub3duRGVmKCkge1xuICAgIHJldHVybiB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVua25vd24ubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlUmVhZG9ubHlEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhZG9ubHkubWpzLm1hcCIsImltcG9ydCB7IFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL3BhcnNlcnMvYW55Lm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcnJheURlZiB9IGZyb20gXCIuL3BhcnNlcnMvYXJyYXkubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUJpZ2ludERlZiB9IGZyb20gXCIuL3BhcnNlcnMvYmlnaW50Lm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VCb29sZWFuRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9ib29sZWFuLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VCcmFuZGVkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9icmFuZGVkLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VDYXRjaERlZiB9IGZyb20gXCIuL3BhcnNlcnMvY2F0Y2gubWpzXCI7XG5pbXBvcnQgeyBwYXJzZURhdGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2RhdGUubWpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZmF1bHREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2RlZmF1bHQubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUVmZmVjdHNEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2VmZmVjdHMubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUVudW1EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2VudW0ubWpzXCI7XG5pbXBvcnQgeyBwYXJzZUludGVyc2VjdGlvbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvaW50ZXJzZWN0aW9uLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VMaXRlcmFsRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9saXRlcmFsLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VNYXBEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL21hcC5tanNcIjtcbmltcG9ydCB7IHBhcnNlTmF0aXZlRW51bURlZiB9IGZyb20gXCIuL3BhcnNlcnMvbmF0aXZlRW51bS5tanNcIjtcbmltcG9ydCB7IHBhcnNlTmV2ZXJEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL25ldmVyLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VOdWxsRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udWxsLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VOdWxsYWJsZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVsbGFibGUubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU51bWJlckRlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVtYmVyLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VPYmplY3REZWYgfSBmcm9tIFwiLi9wYXJzZXJzL29iamVjdC5tanNcIjtcbmltcG9ydCB7IHBhcnNlT3B0aW9uYWxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL29wdGlvbmFsLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VQaXBlbGluZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcGlwZWxpbmUubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVByb21pc2VEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3Byb21pc2UubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVJlY29yZERlZiB9IGZyb20gXCIuL3BhcnNlcnMvcmVjb3JkLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VTZXREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3NldC5tanNcIjtcbmltcG9ydCB7IHBhcnNlU3RyaW5nRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9zdHJpbmcubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVR1cGxlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy90dXBsZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlVW5kZWZpbmVkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy91bmRlZmluZWQubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVVuaW9uRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy91bmlvbi5tanNcIjtcbmltcG9ydCB7IHBhcnNlVW5rbm93bkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5rbm93bi5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVhZG9ubHlEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3JlYWRvbmx5Lm1qc1wiO1xuaW1wb3J0IHsgaWdub3JlT3ZlcnJpZGUgfSBmcm9tIFwiLi9PcHRpb25zLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGVmKGRlZiwgcmVmcywgZm9yY2VSZXNvbHV0aW9uID0gZmFsc2UpIHtcbiAgICBjb25zdCBzZWVuSXRlbSA9IHJlZnMuc2Vlbi5nZXQoZGVmKTtcbiAgICBpZiAocmVmcy5vdmVycmlkZSkge1xuICAgICAgICBjb25zdCBvdmVycmlkZVJlc3VsdCA9IHJlZnMub3ZlcnJpZGU/LihkZWYsIHJlZnMsIHNlZW5JdGVtLCBmb3JjZVJlc29sdXRpb24pO1xuICAgICAgICBpZiAob3ZlcnJpZGVSZXN1bHQgIT09IGlnbm9yZU92ZXJyaWRlKSB7XG4gICAgICAgICAgICByZXR1cm4gb3ZlcnJpZGVSZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNlZW5JdGVtICYmICFmb3JjZVJlc29sdXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2VlblNjaGVtYSA9IGdldCRyZWYoc2Vlbkl0ZW0sIHJlZnMpO1xuICAgICAgICBpZiAoc2VlblNjaGVtYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoJyRyZWYnIGluIHNlZW5TY2hlbWEpIHtcbiAgICAgICAgICAgICAgICByZWZzLnNlZW5SZWZzLmFkZChzZWVuU2NoZW1hLiRyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlZW5TY2hlbWE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV3SXRlbSA9IHsgZGVmLCBwYXRoOiByZWZzLmN1cnJlbnRQYXRoLCBqc29uU2NoZW1hOiB1bmRlZmluZWQgfTtcbiAgICByZWZzLnNlZW4uc2V0KGRlZiwgbmV3SXRlbSk7XG4gICAgY29uc3QganNvblNjaGVtYSA9IHNlbGVjdFBhcnNlcihkZWYsIGRlZi50eXBlTmFtZSwgcmVmcywgZm9yY2VSZXNvbHV0aW9uKTtcbiAgICBpZiAoanNvblNjaGVtYSkge1xuICAgICAgICBhZGRNZXRhKGRlZiwgcmVmcywganNvblNjaGVtYSk7XG4gICAgfVxuICAgIG5ld0l0ZW0uanNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgcmV0dXJuIGpzb25TY2hlbWE7XG59XG5jb25zdCBnZXQkcmVmID0gKGl0ZW0sIHJlZnMpID0+IHtcbiAgICBzd2l0Y2ggKHJlZnMuJHJlZlN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgJ3Jvb3QnOlxuICAgICAgICAgICAgcmV0dXJuIHsgJHJlZjogaXRlbS5wYXRoLmpvaW4oJy8nKSB9O1xuICAgICAgICAvLyB0aGlzIGNhc2UgaXMgbmVlZGVkIGFzIE9wZW5BSSBzdHJpY3QgbW9kZSBkb2Vzbid0IHN1cHBvcnQgdG9wLWxldmVsIGAkcmVmYHMsIGkuZS5cbiAgICAgICAgLy8gdGhlIHRvcC1sZXZlbCBzY2hlbWEgKm11c3QqIGJlIGB7XCJ0eXBlXCI6IFwib2JqZWN0XCIsIFwicHJvcGVydGllc1wiOiB7Li4ufX1gIGJ1dCBpZiB3ZSBldmVyXG4gICAgICAgIC8vIG5lZWQgdG8gZGVmaW5lIGEgYCRyZWZgLCByZWxhdGl2ZSBgJHJlZmBzIGFyZW4ndCBzdXBwb3J0ZWQsIHNvIHdlIG5lZWQgdG8gZXh0cmFjdFxuICAgICAgICAvLyB0aGUgc2NoZW1hIHRvIGAjL2RlZmluaXRpb25zL2AgYW5kIHJlZmVyZW5jZSB0aGF0LlxuICAgICAgICAvL1xuICAgICAgICAvLyBlLmcuIGlmIHdlIG5lZWQgdG8gcmVmZXJlbmNlIGEgc2NoZW1hIGF0XG4gICAgICAgIC8vIGBbXCIjXCIsXCJkZWZpbml0aW9uc1wiLFwiY29udGFjdFBlcnNvblwiLFwicHJvcGVydGllc1wiLFwicGVyc29uMVwiLFwicHJvcGVydGllc1wiLFwibmFtZVwiXWBcbiAgICAgICAgLy8gdGhlbiB3ZSdsbCBleHRyYWN0IGl0IG91dCB0byBgY29udGFjdFBlcnNvbl9wcm9wZXJ0aWVzX3BlcnNvbjFfcHJvcGVydGllc19uYW1lYFxuICAgICAgICBjYXNlICdleHRyYWN0LXRvLXJvb3QnOlxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGl0ZW0ucGF0aC5zbGljZShyZWZzLmJhc2VQYXRoLmxlbmd0aCArIDEpLmpvaW4oJ18nKTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gZXh0cmFjdCB0aGUgcm9vdCBzY2hlbWEgaW4gdGhpcyBjYXNlLCBhcyBpdCdzIGFscmVhZHlcbiAgICAgICAgICAgIC8vIGJlZW4gYWRkZWQgdG8gdGhlIGRlZmluaXRpb25zXG4gICAgICAgICAgICBpZiAobmFtZSAhPT0gcmVmcy5uYW1lICYmIHJlZnMubmFtZVN0cmF0ZWd5ID09PSAnZHVwbGljYXRlLXJlZicpIHtcbiAgICAgICAgICAgICAgICByZWZzLmRlZmluaXRpb25zW25hbWVdID0gaXRlbS5kZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyAkcmVmOiBbLi4ucmVmcy5iYXNlUGF0aCwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0uam9pbignLycpIH07XG4gICAgICAgIGNhc2UgJ3JlbGF0aXZlJzpcbiAgICAgICAgICAgIHJldHVybiB7ICRyZWY6IGdldFJlbGF0aXZlUGF0aChyZWZzLmN1cnJlbnRQYXRoLCBpdGVtLnBhdGgpIH07XG4gICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICBjYXNlICdzZWVuJzoge1xuICAgICAgICAgICAgaWYgKGl0ZW0ucGF0aC5sZW5ndGggPCByZWZzLmN1cnJlbnRQYXRoLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIGl0ZW0ucGF0aC5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiByZWZzLmN1cnJlbnRQYXRoW2luZGV4XSA9PT0gdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBSZWN1cnNpdmUgcmVmZXJlbmNlIGRldGVjdGVkIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKCcvJyl9ISBEZWZhdWx0aW5nIHRvIGFueWApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZWZzLiRyZWZTdHJhdGVneSA9PT0gJ3NlZW4nID8ge30gOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgZ2V0UmVsYXRpdmVQYXRoID0gKHBhdGhBLCBwYXRoQikgPT4ge1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKDsgaSA8IHBhdGhBLmxlbmd0aCAmJiBpIDwgcGF0aEIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhdGhBW2ldICE9PSBwYXRoQltpXSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gWyhwYXRoQS5sZW5ndGggLSBpKS50b1N0cmluZygpLCAuLi5wYXRoQi5zbGljZShpKV0uam9pbignLycpO1xufTtcbmNvbnN0IHNlbGVjdFBhcnNlciA9IChkZWYsIHR5cGVOYW1lLCByZWZzLCBmb3JjZVJlc29sdXRpb24pID0+IHtcbiAgICBzd2l0Y2ggKHR5cGVOYW1lKSB7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZzpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVN0cmluZ0RlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXI6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VOdW1iZXJEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlT2JqZWN0RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUJpZ2ludERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQm9vbGVhbkRlZigpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRGF0ZURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVbmRlZmluZWREZWYoKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bGxEZWYocmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb246XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVR1cGxlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTGl0ZXJhbERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRW51bURlZihkZWYpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTmF0aXZlRW51bURlZihkZWYpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bGxhYmxlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlT3B0aW9uYWxEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTWFwRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVNldERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5nZXR0ZXIoKS5fZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOOlxuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU5ldmVyRGVmKCk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHM6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VFZmZlY3RzRGVmKGRlZiwgcmVmcywgZm9yY2VSZXNvbHV0aW9uKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQW55RGVmKCk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd246XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVbmtub3duRGVmKCk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VEZWZhdWx0RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VCcmFuZGVkRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlYWRvbmx5OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUmVhZG9ubHlEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2g6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VDYXRjaERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVBpcGVsaW5lRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uOlxuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkOlxuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2w6XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICgoXykgPT4gdW5kZWZpbmVkKSh0eXBlTmFtZSk7XG4gICAgfVxufTtcbmNvbnN0IGFkZE1ldGEgPSAoZGVmLCByZWZzLCBqc29uU2NoZW1hKSA9PiB7XG4gICAgaWYgKGRlZi5kZXNjcmlwdGlvbikge1xuICAgICAgICBqc29uU2NoZW1hLmRlc2NyaXB0aW9uID0gZGVmLmRlc2NyaXB0aW9uO1xuICAgICAgICBpZiAocmVmcy5tYXJrZG93bkRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBqc29uU2NoZW1hLm1hcmtkb3duRGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGpzb25TY2hlbWE7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VEZWYubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4vcGFyc2VEZWYubWpzXCI7XG5pbXBvcnQgeyBnZXRSZWZzIH0gZnJvbSBcIi4vUmVmcy5tanNcIjtcbmltcG9ydCB7IHpvZERlZiwgaXNFbXB0eU9iaiB9IGZyb20gXCIuL3V0aWwubWpzXCI7XG5jb25zdCB6b2RUb0pzb25TY2hlbWEgPSAoc2NoZW1hLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgcmVmcyA9IGdldFJlZnMob3B0aW9ucyk7XG4gICAgY29uc3QgbmFtZSA9IHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/IG9wdGlvbnNcbiAgICAgICAgOiBvcHRpb25zPy5uYW1lU3RyYXRlZ3kgPT09ICd0aXRsZScgPyB1bmRlZmluZWRcbiAgICAgICAgICAgIDogb3B0aW9ucz8ubmFtZTtcbiAgICBjb25zdCBtYWluID0gcGFyc2VEZWYoc2NoZW1hLl9kZWYsIG5hbWUgPT09IHVuZGVmaW5lZCA/IHJlZnMgOiAoe1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgIH0pLCBmYWxzZSkgPz8ge307XG4gICAgY29uc3QgdGl0bGUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgb3B0aW9ucy5uYW1lICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5uYW1lU3RyYXRlZ3kgPT09ICd0aXRsZScgP1xuICAgICAgICBvcHRpb25zLm5hbWVcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgaWYgKHRpdGxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWFpbi50aXRsZSA9IHRpdGxlO1xuICAgIH1cbiAgICBjb25zdCBkZWZpbml0aW9ucyA9ICgoKSA9PiB7XG4gICAgICAgIGlmIChpc0VtcHR5T2JqKHJlZnMuZGVmaW5pdGlvbnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb25zID0ge307XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZERlZmluaXRpb25zID0gbmV3IFNldCgpO1xuICAgICAgICAvLyB0aGUgY2FsbCB0byBgcGFyc2VEZWYoKWAgaGVyZSBtaWdodCBpdHNlbGYgYWRkIG1vcmUgZW50cmllcyB0byBgLmRlZmluaXRpb25zYFxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGNvbnRpbnVhbGx5IGV2YWx1YXRlIGRlZmluaXRpb25zIHVudGlsIHdlJ3ZlIHJlc29sdmVkIGFsbCBvZiB0aGVtXG4gICAgICAgIC8vXG4gICAgICAgIC8vIHdlIGhhdmUgYSBnZW5lcm91cyBpdGVyYXRpb24gbGltaXQgaGVyZSB0byBhdm9pZCBibG93aW5nIHVwIHRoZSBzdGFjayBpZiB0aGVyZVxuICAgICAgICAvLyBhcmUgYW55IGJ1Z3MgdGhhdCB3b3VsZCBvdGhlcndpc2UgcmVzdWx0IGluIHVzIGl0ZXJhdGluZyBpbmRlZmluaXRlbHlcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDA7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbmV3RGVmaW5pdGlvbnMgPSBPYmplY3QuZW50cmllcyhyZWZzLmRlZmluaXRpb25zKS5maWx0ZXIoKFtrZXldKSA9PiAhcHJvY2Vzc2VkRGVmaW5pdGlvbnMuaGFzKGtleSkpO1xuICAgICAgICAgICAgaWYgKG5ld0RlZmluaXRpb25zLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgc2NoZW1hXSBvZiBuZXdEZWZpbml0aW9ucykge1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb25zW2tleV0gPVxuICAgICAgICAgICAgICAgICAgICBwYXJzZURlZih6b2REZWYoc2NoZW1hKSwgeyAuLi5yZWZzLCBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIGtleV0gfSwgdHJ1ZSkgPz8ge307XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkRGVmaW5pdGlvbnMuYWRkKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmluaXRpb25zO1xuICAgIH0pKCk7XG4gICAgY29uc3QgY29tYmluZWQgPSBuYW1lID09PSB1bmRlZmluZWQgP1xuICAgICAgICBkZWZpbml0aW9ucyA/XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLi4ubWFpbixcbiAgICAgICAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IGRlZmluaXRpb25zLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBtYWluXG4gICAgICAgIDogcmVmcy5uYW1lU3RyYXRlZ3kgPT09ICdkdXBsaWNhdGUtcmVmJyA/XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLi4ubWFpbixcbiAgICAgICAgICAgICAgICAuLi4oZGVmaW5pdGlvbnMgfHwgcmVmcy5zZWVuUmVmcy5zaXplID9cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGVmaW5pdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBhY3R1YWxseSBkdXBsaWNhdGUgdGhlIHNjaGVtYSBkZWZpbml0aW9uIGlmIGl0IHdhcyBldmVyIHJlZmVyZW5jZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgdGhlIGR1cGxpY2F0aW9uIGlzIGNvbXBsZXRlbHkgcG9pbnRsZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKHJlZnMuc2VlblJlZnMuc2l6ZSA/IHsgW25hbWVdOiBtYWluIH0gOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAkcmVmOiBbLi4uKHJlZnMuJHJlZlN0cmF0ZWd5ID09PSAncmVsYXRpdmUnID8gW10gOiByZWZzLmJhc2VQYXRoKSwgcmVmcy5kZWZpbml0aW9uUGF0aCwgbmFtZV0uam9pbignLycpLFxuICAgICAgICAgICAgICAgIFtyZWZzLmRlZmluaXRpb25QYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAuLi5kZWZpbml0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgW25hbWVdOiBtYWluLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWE3Jykge1xuICAgICAgICBjb21iaW5lZC4kc2NoZW1hID0gJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hIyc7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTIwMTktMDknKSB7XG4gICAgICAgIGNvbWJpbmVkLiRzY2hlbWEgPSAnaHR0cHM6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQvMjAxOS0wOS9zY2hlbWEjJztcbiAgICB9XG4gICAgcmV0dXJuIGNvbWJpbmVkO1xufTtcbmV4cG9ydCB7IHpvZFRvSnNvblNjaGVtYSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9kVG9Kc29uU2NoZW1hLm1qcy5tYXAiLCJpbXBvcnQgeyBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQgfSBmcm9tIFwiLi4vbGliL3BhcnNlci5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBtYXliZVBhcnNlUmVzcG9uc2UocmVzcG9uc2UsIHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zIHx8ICFoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucmVzcG9uc2UsXG4gICAgICAgICAgICBvdXRwdXRfcGFyc2VkOiBudWxsLFxuICAgICAgICAgICAgb3V0cHV0OiByZXNwb25zZS5vdXRwdXQubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogaXRlbS5jb250ZW50Lm1hcCgoY29udGVudCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VSZXNwb25zZShyZXNwb25zZSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlLCBwYXJhbXMpIHtcbiAgICBjb25zdCBvdXRwdXQgPSByZXNwb25zZS5vdXRwdXQubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IHBhcnNlVG9vbENhbGwocGFyYW1zLCBpdGVtKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gaXRlbS5jb250ZW50Lm1hcCgoY29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IHBhcnNlVGV4dEZvcm1hdChwYXJhbXMsIGNvbnRlbnQudGV4dCksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfSk7XG4gICAgY29uc3QgcGFyc2VkID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UsIHsgb3V0cHV0IH0pO1xuICAgIGlmICghT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyZXNwb25zZSwgJ291dHB1dF90ZXh0JykpIHtcbiAgICAgICAgYWRkT3V0cHV0VGV4dChwYXJzZWQpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFyc2VkLCAnb3V0cHV0X3BhcnNlZCcsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBvdXRwdXQgb2YgcGFyc2VkLm91dHB1dCkge1xuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2Ygb3V0cHV0LmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ291dHB1dF90ZXh0JyAmJiBjb250ZW50LnBhcnNlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQucGFyc2VkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIHBhcnNlVGV4dEZvcm1hdChwYXJhbXMsIGNvbnRlbnQpIHtcbiAgICBpZiAocGFyYW1zLnRleHQ/LmZvcm1hdD8udHlwZSAhPT0gJ2pzb25fc2NoZW1hJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCckcGFyc2VSYXcnIGluIHBhcmFtcy50ZXh0Py5mb3JtYXQpIHtcbiAgICAgICAgY29uc3QgdGV4dF9mb3JtYXQgPSBwYXJhbXMudGV4dD8uZm9ybWF0O1xuICAgICAgICByZXR1cm4gdGV4dF9mb3JtYXQuJHBhcnNlUmF3KGNvbnRlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5wYXJzZShjb250ZW50KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSB7XG4gICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocGFyYW1zLnRleHQ/LmZvcm1hdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlUmVzcG9uc2VUb29sKHRvb2wsIHsgcGFyc2VyLCBjYWxsYmFjaywgfSkge1xuICAgIGNvbnN0IG9iaiA9IHsgLi4udG9vbCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtdG9vbCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRjYWxsYmFjazoge1xuICAgICAgICAgICAgdmFsdWU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVRvb2wodG9vbCkge1xuICAgIHJldHVybiB0b29sPy5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtdG9vbCc7XG59XG5mdW5jdGlvbiBnZXRJbnB1dFRvb2xCeU5hbWUoaW5wdXRfdG9vbHMsIG5hbWUpIHtcbiAgICByZXR1cm4gaW5wdXRfdG9vbHMuZmluZCgodG9vbCkgPT4gdG9vbC50eXBlID09PSAnZnVuY3Rpb24nICYmIHRvb2wubmFtZSA9PT0gbmFtZSk7XG59XG5mdW5jdGlvbiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpIHtcbiAgICBjb25zdCBpbnB1dFRvb2wgPSBnZXRJbnB1dFRvb2xCeU5hbWUocGFyYW1zLnRvb2xzID8/IFtdLCB0b29sQ2FsbC5uYW1lKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50b29sQ2FsbCxcbiAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpID8gaW5wdXRUb29sLiRwYXJzZVJhdyh0b29sQ2FsbC5hcmd1bWVudHMpXG4gICAgICAgICAgICA6IGlucHV0VG9vbD8uc3RyaWN0ID8gSlNPTi5wYXJzZSh0b29sQ2FsbC5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dFRvb2wgPSBnZXRJbnB1dFRvb2xCeU5hbWUocGFyYW1zLnRvb2xzID8/IFtdLCB0b29sQ2FsbC5uYW1lKTtcbiAgICByZXR1cm4gaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgfHwgaW5wdXRUb29sPy5zdHJpY3QgfHwgZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVJbnB1dFRvb2xzKHRvb2xzKSB7XG4gICAgZm9yIChjb25zdCB0b29sIG9mIHRvb2xzID8/IFtdKSB7XG4gICAgICAgIGlmICh0b29sLnR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgQ3VycmVudGx5IG9ubHkgXFxgZnVuY3Rpb25cXGAgdG9vbCB0eXBlcyBzdXBwb3J0IGF1dG8tcGFyc2luZzsgUmVjZWl2ZWQgXFxgJHt0b29sLnR5cGV9XFxgYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvb2wuZnVuY3Rpb24uc3RyaWN0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYFRoZSBcXGAke3Rvb2wuZnVuY3Rpb24ubmFtZX1cXGAgdG9vbCBpcyBub3QgbWFya2VkIHdpdGggXFxgc3RyaWN0OiB0cnVlXFxgLiBPbmx5IHN0cmljdCBmdW5jdGlvbiB0b29scyBjYW4gYmUgYXV0by1wYXJzZWRgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRPdXRwdXRUZXh0KHJzcCkge1xuICAgIGNvbnN0IHRleHRzID0gW107XG4gICAgZm9yIChjb25zdCBvdXRwdXQgb2YgcnNwLm91dHB1dCkge1xuICAgICAgICBpZiAob3V0cHV0LnR5cGUgIT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjb250ZW50IG9mIG91dHB1dC5jb250ZW50KSB7XG4gICAgICAgICAgICBpZiAoY29udGVudC50eXBlID09PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgICAgICAgICAgdGV4dHMucHVzaChjb250ZW50LnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJzcC5vdXRwdXRfdGV4dCA9IHRleHRzLmpvaW4oJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzcG9uc2VzUGFyc2VyLm1qcy5tYXAiLCJpbXBvcnQgeyBtYWtlUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQsIG1ha2VQYXJzZWFibGVUZXh0Rm9ybWF0LCBtYWtlUGFyc2VhYmxlVG9vbCwgfSBmcm9tIFwiLi4vbGliL3BhcnNlci5tanNcIjtcbmltcG9ydCB7IHpvZFRvSnNvblNjaGVtYSBhcyBfem9kVG9Kc29uU2NoZW1hIH0gZnJvbSBcIi4uL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgbWFrZVBhcnNlYWJsZVJlc3BvbnNlVG9vbCB9IGZyb20gXCIuLi9saWIvUmVzcG9uc2VzUGFyc2VyLm1qc1wiO1xuZnVuY3Rpb24gem9kVG9Kc29uU2NoZW1hKHNjaGVtYSwgb3B0aW9ucykge1xuICAgIHJldHVybiBfem9kVG9Kc29uU2NoZW1hKHNjaGVtYSwge1xuICAgICAgICBvcGVuYWlTdHJpY3RNb2RlOiB0cnVlLFxuICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUsXG4gICAgICAgIG5hbWVTdHJhdGVneTogJ2R1cGxpY2F0ZS1yZWYnLFxuICAgICAgICAkcmVmU3RyYXRlZ3k6ICdleHRyYWN0LXRvLXJvb3QnLFxuICAgICAgICBudWxsYWJsZVN0cmF0ZWd5OiAncHJvcGVydHknLFxuICAgIH0pO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgY2hhdCBjb21wbGV0aW9uIGBKU09OU2NoZW1hYCByZXNwb25zZSBmb3JtYXQgb2JqZWN0IGZyb21cbiAqIHRoZSBnaXZlbiBab2Qgc2NoZW1hLlxuICpcbiAqIElmIHRoaXMgaXMgcGFzc2VkIHRvIHRoZSBgLnBhcnNlKClgLCBgLnN0cmVhbSgpYCBvciBgLnJ1blRvb2xzKClgXG4gKiBjaGF0IGNvbXBsZXRpb24gbWV0aG9kcyB0aGVuIHRoZSByZXNwb25zZSBtZXNzYWdlIHdpbGwgY29udGFpbiBhXG4gKiBgLnBhcnNlZGAgcHJvcGVydHkgdGhhdCBpcyB0aGUgcmVzdWx0IG9mIHBhcnNpbmcgdGhlIGNvbnRlbnQgd2l0aFxuICogdGhlIGdpdmVuIFpvZCBvYmplY3QuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0aW9ucy5wYXJzZSh7XG4gKiAgICBtb2RlbDogJ2dwdC00by0yMDI0LTA4LTA2JyxcbiAqICAgIG1lc3NhZ2VzOiBbXG4gKiAgICAgIHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6ICdZb3UgYXJlIGEgaGVscGZ1bCBtYXRoIHR1dG9yLicgfSxcbiAqICAgICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6ICdzb2x2ZSA4eCArIDMxID0gMicgfSxcbiAqICAgIF0sXG4gKiAgICByZXNwb25zZV9mb3JtYXQ6IHpvZFJlc3BvbnNlRm9ybWF0KFxuICogICAgICB6Lm9iamVjdCh7XG4gKiAgICAgICAgc3RlcHM6IHouYXJyYXkoei5vYmplY3Qoe1xuICogICAgICAgICAgZXhwbGFuYXRpb246IHouc3RyaW5nKCksXG4gKiAgICAgICAgICBhbnN3ZXI6IHouc3RyaW5nKCksXG4gKiAgICAgICAgfSkpLFxuICogICAgICAgIGZpbmFsX2Fuc3dlcjogei5zdHJpbmcoKSxcbiAqICAgICAgfSksXG4gKiAgICAgICdtYXRoX2Fuc3dlcicsXG4gKiAgICApLFxuICogIH0pO1xuICogIGNvbnN0IG1lc3NhZ2UgPSBjb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gKiAgaWYgKG1lc3NhZ2U/LnBhcnNlZCkge1xuICogICAgY29uc29sZS5sb2cobWVzc2FnZS5wYXJzZWQpO1xuICogICAgY29uc29sZS5sb2cobWVzc2FnZS5wYXJzZWQuZmluYWxfYW5zd2VyKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoaXMgY2FuIGJlIHBhc3NlZCBkaXJlY3RseSB0byB0aGUgYC5jcmVhdGUoKWAgbWV0aG9kIGJ1dCB3aWxsIG5vdFxuICogcmVzdWx0IGluIGFueSBhdXRvbWF0aWMgcGFyc2luZywgeW91J2xsIGhhdmUgdG8gcGFyc2UgdGhlIHJlc3BvbnNlIHlvdXJzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9kUmVzcG9uc2VGb3JtYXQoem9kT2JqZWN0LCBuYW1lLCBwcm9wcykge1xuICAgIHJldHVybiBtYWtlUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQoe1xuICAgICAgICB0eXBlOiAnanNvbl9zY2hlbWEnLFxuICAgICAgICBqc29uX3NjaGVtYToge1xuICAgICAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgc2NoZW1hOiB6b2RUb0pzb25TY2hlbWEoem9kT2JqZWN0LCB7IG5hbWUgfSksXG4gICAgICAgIH0sXG4gICAgfSwgKGNvbnRlbnQpID0+IHpvZE9iamVjdC5wYXJzZShKU09OLnBhcnNlKGNvbnRlbnQpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gem9kVGV4dEZvcm1hdCh6b2RPYmplY3QsIG5hbWUsIHByb3BzKSB7XG4gICAgcmV0dXJuIG1ha2VQYXJzZWFibGVUZXh0Rm9ybWF0KHtcbiAgICAgICAgdHlwZTogJ2pzb25fc2NoZW1hJyxcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgc2NoZW1hOiB6b2RUb0pzb25TY2hlbWEoem9kT2JqZWN0LCB7IG5hbWUgfSksXG4gICAgfSwgKGNvbnRlbnQpID0+IHpvZE9iamVjdC5wYXJzZShKU09OLnBhcnNlKGNvbnRlbnQpKSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBjaGF0IGNvbXBsZXRpb24gYGZ1bmN0aW9uYCB0b29sIHRoYXQgY2FuIGJlIGludm9rZWRcbiAqIGF1dG9tYXRpY2FsbHkgYnkgdGhlIGNoYXQgY29tcGxldGlvbiBgLnJ1blRvb2xzKClgIG1ldGhvZCBvciBhdXRvbWF0aWNhbGx5XG4gKiBwYXJzZWQgYnkgYC5wYXJzZSgpYCAvIGAuc3RyZWFtKClgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gem9kRnVuY3Rpb24ob3B0aW9ucykge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ET1xuICAgIHJldHVybiBtYWtlUGFyc2VhYmxlVG9vbCh7XG4gICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUsXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB6b2RUb0pzb25TY2hlbWEob3B0aW9ucy5wYXJhbWV0ZXJzLCB7IG5hbWU6IG9wdGlvbnMubmFtZSB9KSxcbiAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgIC4uLihvcHRpb25zLmRlc2NyaXB0aW9uID8geyBkZXNjcmlwdGlvbjogb3B0aW9ucy5kZXNjcmlwdGlvbiB9IDogdW5kZWZpbmVkKSxcbiAgICAgICAgfSxcbiAgICB9LCB7XG4gICAgICAgIGNhbGxiYWNrOiBvcHRpb25zLmZ1bmN0aW9uLFxuICAgICAgICBwYXJzZXI6IChhcmdzKSA9PiBvcHRpb25zLnBhcmFtZXRlcnMucGFyc2UoSlNPTi5wYXJzZShhcmdzKSksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gem9kUmVzcG9uc2VzRnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiBtYWtlUGFyc2VhYmxlUmVzcG9uc2VUb29sKHtcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgbmFtZTogb3B0aW9ucy5uYW1lLFxuICAgICAgICBwYXJhbWV0ZXJzOiB6b2RUb0pzb25TY2hlbWEob3B0aW9ucy5wYXJhbWV0ZXJzLCB7IG5hbWU6IG9wdGlvbnMubmFtZSB9KSxcbiAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAuLi4ob3B0aW9ucy5kZXNjcmlwdGlvbiA/IHsgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24gfSA6IHVuZGVmaW5lZCksXG4gICAgfSwge1xuICAgICAgICBjYWxsYmFjazogb3B0aW9ucy5mdW5jdGlvbixcbiAgICAgICAgcGFyc2VyOiAoYXJncykgPT4gb3B0aW9ucy5wYXJhbWV0ZXJzLnBhcnNlKEpTT04ucGFyc2UoYXJncykpLFxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9kLm1qcy5tYXAiLCIvKipcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBlcnJvcnMgdGhyb3duIGJ5IHRoZSBsaWJyYXJ5LlxuICovXG5leHBvcnQgY2xhc3MgQWdlbnRzRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgc3RhdGU7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhdGUpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG59XG4vKipcbiAqIFN5c3RlbSBlcnJvciB0aHJvd24gd2hlbiB0aGUgbGlicmFyeSBlbmNvdW50ZXJzIGFuIGVycm9yIHRoYXQgaXMgbm90IGNhdXNlZCBieSB0aGUgdXNlcidzXG4gKiBtaXNjb25maWd1cmF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgU3lzdGVtRXJyb3IgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG59XG4vKipcbiAqIEVycm9yIHRocm93biB3aGVuIHRoZSBtYXhpbXVtIG51bWJlciBvZiB0dXJucyBpcyBleGNlZWRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1heFR1cm5zRXhjZWVkZWRFcnJvciBleHRlbmRzIEFnZW50c0Vycm9yIHtcbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSBtb2RlbCBiZWhhdmlvciBpcyB1bmV4cGVjdGVkLlxuICovXG5leHBvcnQgY2xhc3MgTW9kZWxCZWhhdmlvckVycm9yIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiB0aGUgZXJyb3IgaXMgY2F1c2VkIGJ5IHRoZSBsaWJyYXJ5IHVzZXIncyBtaXNjb25maWd1cmF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgVXNlckVycm9yIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBhIGd1YXJkcmFpbCBleGVjdXRpb24gZmFpbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBHdWFyZHJhaWxFeGVjdXRpb25FcnJvciBleHRlbmRzIEFnZW50c0Vycm9yIHtcbiAgICBlcnJvcjtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBlcnJvciwgc3RhdGUpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgc3RhdGUpO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBhIHRvb2wgY2FsbCBmYWlscy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRvb2xDYWxsRXJyb3IgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG4gICAgZXJyb3I7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgZXJyb3IsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYW4gaW5wdXQgZ3VhcmRyYWlsIHRyaXB3aXJlIGlzIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIElucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG4gICAgcmVzdWx0O1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlc3VsdCwgc3RhdGUpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgc3RhdGUpO1xuICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIEVycm9yIHRocm93biB3aGVuIGFuIG91dHB1dCBndWFyZHJhaWwgdHJpcHdpcmUgaXMgdHJpZ2dlcmVkLlxuICovXG5leHBvcnQgY2xhc3MgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG4gICAgcmVzdWx0O1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHJlc3VsdCwgc3RhdGUpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgc3RhdGUpO1xuICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMubWpzLm1hcCIsIi8qKlxuICogVmVyaWZpZXMgdGhhdCBhbiBpbnB1dCBpcyBhIFpvZE9iamVjdCB3aXRob3V0IG5lZWRpbmcgdG8gaGF2ZSBab2QgYXQgcnVudGltZSBzaW5jZSBpdCdzIGFuXG4gKiBvcHRpb25hbCBkZXBlbmRlbmN5LlxuICogQHBhcmFtIGlucHV0XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNab2RPYmplY3QoaW5wdXQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgaW5wdXQgIT09IG51bGwgJiZcbiAgICAgICAgJ19kZWYnIGluIGlucHV0ICYmXG4gICAgICAgIHR5cGVvZiBpbnB1dC5fZGVmID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBpbnB1dC5fZGVmICE9PSBudWxsICYmXG4gICAgICAgICd0eXBlTmFtZScgaW4gaW5wdXQuX2RlZiAmJlxuICAgICAgICBpbnB1dC5fZGVmLnR5cGVOYW1lID09PSAnWm9kT2JqZWN0Jyk7XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoYXQgYW4gaW5wdXQgaXMgYW4gb2JqZWN0IHdpdGggYW4gYGlucHV0YCBwcm9wZXJ0eS5cbiAqIEBwYXJhbSBpbnB1dFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWdlbnRUb29sSW5wdXQoaW5wdXQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgaW5wdXQgIT09IG51bGwgJiZcbiAgICAgICAgJ2lucHV0JyBpbiBpbnB1dCAmJlxuICAgICAgICB0eXBlb2YgaW5wdXQuaW5wdXQgPT09ICdzdHJpbmcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVHdWFyZHMubWpzLm1hcCIsImltcG9ydCB7IHpvZFJlc3BvbnNlc0Z1bmN0aW9uLCB6b2RUZXh0Rm9ybWF0IH0gZnJvbSAnb3BlbmFpL2hlbHBlcnMvem9kJztcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyBpc1pvZE9iamVjdCB9IGZyb20gXCIuL3R5cGVHdWFyZHMubWpzXCI7XG4vKipcbiAqIENvbnZlcnQgYSBzdHJpbmcgdG8gYSBmdW5jdGlvbiB0b29sIG5hbWUgYnkgcmVwbGFjaW5nIHNwYWNlcyB3aXRoIHVuZGVyc2NvcmVzIGFuZFxuICogbm9uLWFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIHdpdGggdW5kZXJzY29yZXMuXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB0b29sLlxuICogQHJldHVybnMgVGhlIGZ1bmN0aW9uIHRvb2wgbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRnVuY3Rpb25Ub29sTmFtZShuYW1lKSB7XG4gICAgLy8gUmVwbGFjZSBzcGFjZXMgd2l0aCB1bmRlcnNjb3Jlc1xuICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccy9nLCAnXycpO1xuICAgIC8vIFJlcGxhY2Ugbm9uLWFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIHdpdGggdW5kZXJzY29yZXNcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgJ18nKTtcbiAgICAvLyBFbnN1cmUgdGhlIG5hbWUgaXMgbm90IGVtcHR5XG4gICAgaWYgKG5hbWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVG9vbCBuYW1lIGNhbm5vdCBiZSBlbXB0eScpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZTtcbn1cbi8qKlxuICogR2V0IHRoZSBzY2hlbWEgYW5kIHBhcnNlciBmcm9tIGFuIGlucHV0IHR5cGUuIElmIHRoZSBpbnB1dCB0eXBlIGlzIGEgWm9kT2JqZWN0LCB3ZSB3aWxsIGNvbnZlcnRcbiAqIGl0IGludG8gYSBKU09OIFNjaGVtYSBhbmQgdXNlIFpvZCBhcyBwYXJzZXIuIElmIHRoZSBpbnB1dCB0eXBlIGlzIGEgSlNPTiBzY2hlbWEsIHdlIHVzZSB0aGVcbiAqIEpTT04ucGFyc2UgZnVuY3Rpb24gdG8gZ2V0IHRoZSBwYXJzZXIuXG4gKiBAcGFyYW0gaW5wdXRUeXBlIC0gVGhlIGlucHV0IHR5cGUgdG8gZ2V0IHRoZSBzY2hlbWEgYW5kIHBhcnNlciBmcm9tLlxuICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdG9vbC5cbiAqIEByZXR1cm5zIFRoZSBzY2hlbWEgYW5kIHBhcnNlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUoaW5wdXRUeXBlLCBuYW1lKSB7XG4gICAgY29uc3QgcGFyc2VyID0gKGlucHV0KSA9PiBKU09OLnBhcnNlKGlucHV0KTtcbiAgICBpZiAoaXNab2RPYmplY3QoaW5wdXRUeXBlKSkge1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRGdW5jdGlvbiA9IHpvZFJlc3BvbnNlc0Z1bmN0aW9uKHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiBpbnB1dFR5cGUsXG4gICAgICAgICAgICBmdW5jdGlvbjogKCkgPT4geyB9LCAvLyBlbXB0eSBmdW5jdGlvbiBoZXJlIHRvIHNhdGlzZnkgdGhlIE9wZW5BSSBoZWxwZXJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2hlbWE6IGZvcm1hdHRlZEZ1bmN0aW9uLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICBwYXJzZXI6IGZvcm1hdHRlZEZ1bmN0aW9uLiRwYXJzZVJhdyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGlucHV0VHlwZSA9PT0gJ29iamVjdCcgJiYgaW5wdXRUeXBlICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2hlbWE6IGlucHV0VHlwZSxcbiAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFVzZXJFcnJvcignSW5wdXQgdHlwZSBpcyBub3QgYSBab2RPYmplY3Qgb3IgYSB2YWxpZCBKU09OIHNjaGVtYScpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgYWdlbnQgb3V0cHV0IHR5cGUgcHJvdmlkZWQgdG8gYSBzZXJpYWxpemFibGUgdmVyc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEFnZW50T3V0cHV0VHlwZVRvU2VyaWFsaXphYmxlKG91dHB1dFR5cGUpIHtcbiAgICBpZiAob3V0cHV0VHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHJldHVybiAndGV4dCc7XG4gICAgfVxuICAgIGlmIChpc1pvZE9iamVjdChvdXRwdXRUeXBlKSkge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSB6b2RUZXh0Rm9ybWF0KG91dHB1dFR5cGUsICdvdXRwdXQnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IG91dHB1dC50eXBlLFxuICAgICAgICAgICAgbmFtZTogb3V0cHV0Lm5hbWUsXG4gICAgICAgICAgICBzdHJpY3Q6IG91dHB1dC5zdHJpY3QgfHwgZmFsc2UsXG4gICAgICAgICAgICBzY2hlbWE6IG91dHB1dC5zY2hlbWEsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRUeXBlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9vbHMubWpzLm1hcCIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsKSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oLT8oPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICd3ZWVrcyc6XG4gICAgY2FzZSAnd2Vlayc6XG4gICAgY2FzZSAndyc6XG4gICAgICByZXR1cm4gbiAqIHc7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGQsICdkYXknKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBoLCAnaG91cicpO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIG0sICdtaW51dGUnKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBzLCAnc2Vjb25kJyk7XG4gIH1cbiAgcmV0dXJuIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBtc0FicywgbiwgbmFtZSkge1xuICB2YXIgaXNQbHVyYWwgPSBtc0FicyA+PSBuICogMS41O1xuICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG4pICsgJyAnICsgbmFtZSArIChpc1BsdXJhbCA/ICdzJyA6ICcnKTtcbn1cbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblx0Y3JlYXRlRGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZGVidWcgaW5zdGFuY2UgdG8gYmUgY29sb3JlZFxuXHQqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcblx0XHRsZXQgaGFzaCA9IDA7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuXHRcdH1cblxuXHRcdHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTtcblx0fVxuXHRjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuXG5cdC8qKlxuXHQqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXHRcdGxldCBwcmV2VGltZTtcblx0XHRsZXQgZW5hYmxlT3ZlcnJpZGUgPSBudWxsO1xuXHRcdGxldCBuYW1lc3BhY2VzQ2FjaGU7XG5cdFx0bGV0IGVuYWJsZWRDYWNoZTtcblxuXHRcdGZ1bmN0aW9uIGRlYnVnKC4uLmFyZ3MpIHtcblx0XHRcdC8vIERpc2FibGVkP1xuXHRcdFx0aWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgc2VsZiA9IGRlYnVnO1xuXG5cdFx0XHQvLyBTZXQgYGRpZmZgIHRpbWVzdGFtcFxuXHRcdFx0Y29uc3QgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTtcblx0XHRcdGNvbnN0IG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcblx0XHRcdHNlbGYuZGlmZiA9IG1zO1xuXHRcdFx0c2VsZi5wcmV2ID0gcHJldlRpbWU7XG5cdFx0XHRzZWxmLmN1cnIgPSBjdXJyO1xuXHRcdFx0cHJldlRpbWUgPSBjdXJyO1xuXG5cdFx0XHRhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG5cdFx0XHRpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG5cdFx0XHRcdGFyZ3MudW5zaGlmdCgnJU8nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblx0XHRcdGxldCBpbmRleCA9IDA7XG5cdFx0XHRhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgKG1hdGNoLCBmb3JtYXQpID0+IHtcblx0XHRcdFx0Ly8gSWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuXHRcdFx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdFx0XHRyZXR1cm4gJyUnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnN0IGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblx0XHRcdFx0aWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjb25zdCB2YWwgPSBhcmdzW2luZGV4XTtcblx0XHRcdFx0XHRtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cblx0XHRcdFx0XHQvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cdFx0XHRcdFx0YXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdGluZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cdFx0XHRjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cblx0XHRcdGNvbnN0IGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuXHRcdFx0bG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0fVxuXG5cdFx0ZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRcdGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuXHRcdGRlYnVnLmNvbG9yID0gY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblx0XHRkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7XG5cdFx0ZGVidWcuZGVzdHJveSA9IGNyZWF0ZURlYnVnLmRlc3Ryb3k7IC8vIFhYWCBUZW1wb3JhcnkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRlYnVnLCAnZW5hYmxlZCcsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0Z2V0OiAoKSA9PiB7XG5cdFx0XHRcdGlmIChlbmFibGVPdmVycmlkZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBlbmFibGVPdmVycmlkZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobmFtZXNwYWNlc0NhY2hlICE9PSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzKSB7XG5cdFx0XHRcdFx0bmFtZXNwYWNlc0NhY2hlID0gY3JlYXRlRGVidWcubmFtZXNwYWNlcztcblx0XHRcdFx0XHRlbmFibGVkQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZW5hYmxlZENhY2hlO1xuXHRcdFx0fSxcblx0XHRcdHNldDogdiA9PiB7XG5cdFx0XHRcdGVuYWJsZU92ZXJyaWRlID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblx0XHRjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzID0gbmFtZXNwYWNlcztcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJylcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9cXHMrL2csICcsJylcblx0XHRcdC5zcGxpdCgnLCcpXG5cdFx0XHQuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0Zm9yIChjb25zdCBucyBvZiBzcGxpdCkge1xuXHRcdFx0aWYgKG5zWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChucy5zbGljZSgxKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5zKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBzdHJpbmcgbWF0Y2hlcyBhIG5hbWVzcGFjZSB0ZW1wbGF0ZSwgaG9ub3Jpbmdcblx0ICogYXN0ZXJpc2tzIGFzIHdpbGRjYXJkcy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGVcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdGZ1bmN0aW9uIG1hdGNoZXNUZW1wbGF0ZShzZWFyY2gsIHRlbXBsYXRlKSB7XG5cdFx0bGV0IHNlYXJjaEluZGV4ID0gMDtcblx0XHRsZXQgdGVtcGxhdGVJbmRleCA9IDA7XG5cdFx0bGV0IHN0YXJJbmRleCA9IC0xO1xuXHRcdGxldCBtYXRjaEluZGV4ID0gMDtcblxuXHRcdHdoaWxlIChzZWFyY2hJbmRleCA8IHNlYXJjaC5sZW5ndGgpIHtcblx0XHRcdGlmICh0ZW1wbGF0ZUluZGV4IDwgdGVtcGxhdGUubGVuZ3RoICYmICh0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gc2VhcmNoW3NlYXJjaEluZGV4XSB8fCB0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSkge1xuXHRcdFx0XHQvLyBNYXRjaCBjaGFyYWN0ZXIgb3IgcHJvY2VlZCB3aXRoIHdpbGRjYXJkXG5cdFx0XHRcdGlmICh0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSB7XG5cdFx0XHRcdFx0c3RhckluZGV4ID0gdGVtcGxhdGVJbmRleDtcblx0XHRcdFx0XHRtYXRjaEluZGV4ID0gc2VhcmNoSW5kZXg7XG5cdFx0XHRcdFx0dGVtcGxhdGVJbmRleCsrOyAvLyBTa2lwIHRoZSAnKidcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWFyY2hJbmRleCsrO1xuXHRcdFx0XHRcdHRlbXBsYXRlSW5kZXgrKztcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzdGFySW5kZXggIT09IC0xKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmVnYXRlZC1jb25kaXRpb25cblx0XHRcdFx0Ly8gQmFja3RyYWNrIHRvIHRoZSBsYXN0ICcqJyBhbmQgdHJ5IHRvIG1hdGNoIG1vcmUgY2hhcmFjdGVyc1xuXHRcdFx0XHR0ZW1wbGF0ZUluZGV4ID0gc3RhckluZGV4ICsgMTtcblx0XHRcdFx0bWF0Y2hJbmRleCsrO1xuXHRcdFx0XHRzZWFyY2hJbmRleCA9IG1hdGNoSW5kZXg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7IC8vIE5vIG1hdGNoXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIHRyYWlsaW5nICcqJyBpbiB0ZW1wbGF0ZVxuXHRcdHdoaWxlICh0ZW1wbGF0ZUluZGV4IDwgdGVtcGxhdGUubGVuZ3RoICYmIHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpIHtcblx0XHRcdHRlbXBsYXRlSW5kZXgrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gdGVtcGxhdGVJbmRleCA9PT0gdGVtcGxhdGUubGVuZ3RoO1xuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcyxcblx0XHRcdC4uLmNyZWF0ZURlYnVnLnNraXBzLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0Zm9yIChjb25zdCBza2lwIG9mIGNyZWF0ZURlYnVnLnNraXBzKSB7XG5cdFx0XHRpZiAobWF0Y2hlc1RlbXBsYXRlKG5hbWUsIHNraXApKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IG5zIG9mIGNyZWF0ZURlYnVnLm5hbWVzKSB7XG5cdFx0XHRpZiAobWF0Y2hlc1RlbXBsYXRlKG5hbWUsIG5zKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8qKlxuXHQqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uXG5cdCogWFhYIEl0IFdJTEwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXHQqL1xuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGxldCBtO1xuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXR1cm4tYXNzaWduXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIChtID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykpICYmIHBhcnNlSW50KG1bMV0sIDEwKSA+PSAzMSkgfHxcblx0XHQvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0YXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgK1xuXHRcdHRoaXMubmFtZXNwYWNlICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgK1xuXHRcdGFyZ3NbMF0gK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArXG5cdFx0JysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuXHRpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG5cdGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG5cdC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG5cdC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cblx0Ly8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cdGxldCBpbmRleCA9IDA7XG5cdGxldCBsYXN0QyA9IDA7XG5cdGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBtYXRjaCA9PiB7XG5cdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGluZGV4Kys7XG5cdFx0aWYgKG1hdGNoID09PSAnJWMnKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcblx0XHRcdC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG5cdFx0XHRsYXN0QyA9IGluZGV4O1xuXHRcdH1cblx0fSk7XG5cblx0YXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUuZGVidWcoKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKiBJZiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGF2YWlsYWJsZSwgZmFsbHMgYmFja1xuICogdG8gYGNvbnNvbGUubG9nYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgKCgpID0+IHt9KTtcblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHR0cnkge1xuXHRcdGlmIChuYW1lc3BhY2VzKSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkKCkge1xuXHRsZXQgcjtcblx0dHJ5IHtcblx0XHRyID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJykgfHwgZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ0RFQlVHJykgO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxuXG5cdC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblx0aWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG5cdFx0ciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuXHR9XG5cblx0cmV0dXJuIHI7XG59XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuXHR0cnkge1xuXHRcdC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcblx0XHQvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2U7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcblxuY29uc3Qge2Zvcm1hdHRlcnN9ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuXHR9XG59O1xuIiwiaW1wb3J0IHsgbG9hZEVudiBhcyBfbG9hZEVudiwgaXNCcm93c2VyRW52aXJvbm1lbnQsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuLyoqXG4gKiBMb2FkcyBlbnZpcm9ubWVudCB2YXJpYWJsZXMgZnJvbSB0aGUgcHJvY2VzcyBlbnZpcm9ubWVudC5cbiAqXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVudigpIHtcbiAgICByZXR1cm4gX2xvYWRFbnYoKTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGEgZmxhZyBpcyBlbmFibGVkIGluIHRoZSBlbnZpcm9ubWVudC5cbiAqXG4gKiBAcGFyYW0gZmxhZ05hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZmxhZyB0byBjaGVjay5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZmxhZyBpcyBlbmFibGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaXNFbmFibGVkKGZsYWdOYW1lKSB7XG4gICAgY29uc3QgZW52ID0gbG9hZEVudigpO1xuICAgIHJldHVybiAodHlwZW9mIGVudiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgKGVudltmbGFnTmFtZV0gPT09ICd0cnVlJyB8fCBlbnZbZmxhZ05hbWVdID09PSAnMScpKTtcbn1cbi8qKlxuICogR2xvYmFsIGNvbmZpZ3VyYXRpb24gZm9yIHRyYWNpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCB0cmFjaW5nID0ge1xuICAgIGdldCBkaXNhYmxlZCgpIHtcbiAgICAgICAgaWYgKGlzQnJvd3NlckVudmlyb25tZW50KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxvYWRFbnYoKS5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgICAvLyBkaXNhYmxpbmcgYnkgZGVmYXVsdCBpbiB0ZXN0c1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzRW5hYmxlZCgnT1BFTkFJX0FHRU5UU19ESVNBQkxFX1RSQUNJTkcnKTtcbiAgICB9LFxufTtcbi8qKlxuICogR2xvYmFsIGNvbmZpZ3VyYXRpb24gZm9yIGxvZ2dpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBsb2dnaW5nID0ge1xuICAgIGdldCBkb250TG9nTW9kZWxEYXRhKCkge1xuICAgICAgICByZXR1cm4gaXNFbmFibGVkKCdPUEVOQUlfQUdFTlRTX0RPTlRfTE9HX01PREVMX0RBVEEnKTtcbiAgICB9LFxuICAgIGdldCBkb250TG9nVG9vbERhdGEoKSB7XG4gICAgICAgIHJldHVybiBpc0VuYWJsZWQoJ09QRU5BSV9BR0VOVFNfRE9OVF9MT0dfVE9PTF9EQVRBJyk7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcubWpzLm1hcCIsImltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBsb2dnaW5nIH0gZnJvbSBcIi4vY29uZmlnLm1qc1wiO1xuLyoqXG4gKiBCeSBkZWZhdWx0IHdlIGRvbid0IGxvZyBMTE0gaW5wdXRzL291dHB1dHMsIHRvIHByZXZlbnQgZXhwb3Npbmcgc2Vuc2l0aXZlIGRhdGEuIFNldCB0aGlzIGZsYWdcbiAqIHRvIGVuYWJsZSBsb2dnaW5nIHRoZW0uXG4gKi9cbmNvbnN0IGRvbnRMb2dNb2RlbERhdGEgPSBsb2dnaW5nLmRvbnRMb2dNb2RlbERhdGE7XG4vKipcbiAqIEJ5IGRlZmF1bHQgd2UgZG9uJ3QgbG9nIHRvb2wgaW5wdXRzL291dHB1dHMsIHRvIHByZXZlbnQgZXhwb3Npbmcgc2Vuc2l0aXZlIGRhdGEuIFNldCB0aGlzIGZsYWdcbiAqIHRvIGVuYWJsZSBsb2dnaW5nIHRoZW0uXG4gKi9cbmNvbnN0IGRvbnRMb2dUb29sRGF0YSA9IGxvZ2dpbmcuZG9udExvZ1Rvb2xEYXRhO1xuLyoqXG4gKiBHZXQgYSBsb2dnZXIgZm9yIGEgZ2l2ZW4gcGFja2FnZS5cbiAqXG4gKiBAcGFyYW0gbmFtZXNwYWNlIC0gdGhlIG5hbWVzcGFjZSB0byB1c2UgZm9yIHRoZSBsb2dnZXIuXG4gKiBAcmV0dXJucyBBIGxvZ2dlciBvYmplY3Qgd2l0aCBgZGVidWdgIGFuZCBgZXJyb3JgIG1ldGhvZHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dnZXIobmFtZXNwYWNlID0gJ29wZW5haS1hZ2VudHMnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBkZWJ1ZzogZGVidWcobmFtZXNwYWNlKSxcbiAgICAgICAgZXJyb3I6IGNvbnNvbGUuZXJyb3IsXG4gICAgICAgIHdhcm46IGNvbnNvbGUud2FybixcbiAgICAgICAgZG9udExvZ01vZGVsRGF0YSxcbiAgICAgICAgZG9udExvZ1Rvb2xEYXRhLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKCdvcGVuYWktYWdlbnRzOmNvcmUnKTtcbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ2dlci5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHRvU21hcnRTdHJpbmcodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9lKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1tvYmplY3Qgd2l0aCBjaXJjdWxhciByZWZlcmVuY2VzXSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zbWFydFN0cmluZy5tanMubWFwIiwiaW1wb3J0IHsgc2FmZUV4ZWN1dGUgfSBmcm9tIFwiLi91dGlscy9zYWZlRXhlY3V0ZS5tanNcIjtcbmltcG9ydCB7IHRvRnVuY3Rpb25Ub29sTmFtZSB9IGZyb20gXCIuL3V0aWxzL3Rvb2xzLm1qc1wiO1xuaW1wb3J0IHsgZ2V0U2NoZW1hQW5kUGFyc2VyRnJvbUlucHV0VHlwZSB9IGZyb20gXCIuL3V0aWxzL3Rvb2xzLm1qc1wiO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmltcG9ydCB7IHRvU21hcnRTdHJpbmcgfSBmcm9tIFwiLi91dGlscy9zbWFydFN0cmluZy5tanNcIjtcbi8qKlxuICogRXhwb3NlcyBhIGNvbXB1dGVyIHRvIHRoZSBhZ2VudCBhcyBhIHRvb2wgdG8gYmUgY2FsbGVkXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZvciB0aGUgY29tcHV0ZXIgdG9vbCBsaWtlIHNwZWNpZnlpbmcgdGhlIGxvY2F0aW9uIG9mIHlvdXIgYWdlbnRcbiAqIEByZXR1cm5zIGEgY29tcHV0ZXIgdG9vbCBkZWZpbml0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlclRvb2wob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdjb21wdXRlcicsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSA/PyAnY29tcHV0ZXJfdXNlX3ByZXZpZXcnLFxuICAgICAgICBjb21wdXRlcjogb3B0aW9ucy5jb21wdXRlcixcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgaG9zdGVkIE1DUCB0b29sIGRlZmluaXRpb24uXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIGZvciB0aGUgaG9zdGVkIE1DUCB0b29sLCBpbmNsdWRpbmcgc2VydmVyIGNvbm5lY3Rpb24gZGV0YWlsc1xuICogYW5kIGFwcHJvdmFsIHJlcXVpcmVtZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RlZE1jcFRvb2wob3B0aW9ucykge1xuICAgIGlmICgnc2VydmVyVXJsJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIC8vIHRoZSBNQ1Agc2VydmVycyBjb21hcHRpYmxlIHdpdGggdGhlIHNwZWNpZmljYXRpb25cbiAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhID0gdHlwZW9mIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICduZXZlcidcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfdXJsOiBvcHRpb25zLnNlcnZlclVybCxcbiAgICAgICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiAnbmV2ZXInLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWNwJyxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfbGFiZWw6IG9wdGlvbnMuc2VydmVyTGFiZWwsXG4gICAgICAgICAgICAgICAgc2VydmVyX3VybDogb3B0aW9ucy5zZXJ2ZXJVcmwsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF90b29sczogdG9NY3BBbGxvd2VkVG9vbHNGaWx0ZXIob3B0aW9ucy5hbGxvd2VkVG9vbHMpLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiB0eXBlb2Ygb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gJ2Fsd2F5cydcbiAgICAgICAgICAgICAgICAgICAgOiBidWlsZFJlcXVpcmVBcHByb3ZhbChvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCksXG4gICAgICAgICAgICAgICAgb25fYXBwcm92YWw6IG9wdGlvbnMub25BcHByb3ZhbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2wnLFxuICAgICAgICAgICAgbmFtZTogJ2hvc3RlZF9tY3AnLFxuICAgICAgICAgICAgcHJvdmlkZXJEYXRhLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICgnY29ubmVjdG9ySWQnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gT3BlbkFJJ3MgY29ubmVjdG9yc1xuICAgICAgICBjb25zdCBwcm92aWRlckRhdGEgPSB0eXBlb2Ygb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ25ldmVyJ1xuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21jcCcsXG4gICAgICAgICAgICAgICAgc2VydmVyX2xhYmVsOiBvcHRpb25zLnNlcnZlckxhYmVsLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Rvcl9pZDogb3B0aW9ucy5jb25uZWN0b3JJZCxcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zLmF1dGhvcml6YXRpb24sXG4gICAgICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogJ25ldmVyJyxcbiAgICAgICAgICAgICAgICBhbGxvd2VkX3Rvb2xzOiB0b01jcEFsbG93ZWRUb29sc0ZpbHRlcihvcHRpb25zLmFsbG93ZWRUb29scyksXG4gICAgICAgICAgICAgICAgaGVhZGVyczogb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21jcCcsXG4gICAgICAgICAgICAgICAgc2VydmVyX2xhYmVsOiBvcHRpb25zLnNlcnZlckxhYmVsLFxuICAgICAgICAgICAgICAgIGNvbm5lY3Rvcl9pZDogb3B0aW9ucy5jb25uZWN0b3JJZCxcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBvcHRpb25zLmF1dGhvcml6YXRpb24sXG4gICAgICAgICAgICAgICAgYWxsb3dlZF90b29sczogdG9NY3BBbGxvd2VkVG9vbHNGaWx0ZXIob3B0aW9ucy5hbGxvd2VkVG9vbHMpLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiB0eXBlb2Ygb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gJ2Fsd2F5cydcbiAgICAgICAgICAgICAgICAgICAgOiBidWlsZFJlcXVpcmVBcHByb3ZhbChvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCksXG4gICAgICAgICAgICAgICAgb25fYXBwcm92YWw6IG9wdGlvbnMub25BcHByb3ZhbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2wnLFxuICAgICAgICAgICAgbmFtZTogJ2hvc3RlZF9tY3AnLFxuICAgICAgICAgICAgcHJvdmlkZXJEYXRhLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gdGhlIE1DUCBzZXJ2ZXJzIGNvbWFwdGlibGUgd2l0aCB0aGUgc3BlY2lmaWNhdGlvblxuICAgICAgICBjb25zdCBwcm92aWRlckRhdGEgPSB0eXBlb2Ygb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ25ldmVyJ1xuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21jcCcsXG4gICAgICAgICAgICAgICAgc2VydmVyX2xhYmVsOiBvcHRpb25zLnNlcnZlckxhYmVsLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVfYXBwcm92YWw6ICduZXZlcicsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF90b29sczogdG9NY3BBbGxvd2VkVG9vbHNGaWx0ZXIob3B0aW9ucy5hbGxvd2VkVG9vbHMpLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21jcCcsXG4gICAgICAgICAgICAgICAgc2VydmVyX2xhYmVsOiBvcHRpb25zLnNlcnZlckxhYmVsLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiB0eXBlb2Ygb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gJ2Fsd2F5cydcbiAgICAgICAgICAgICAgICAgICAgOiBidWlsZFJlcXVpcmVBcHByb3ZhbChvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCksXG4gICAgICAgICAgICAgICAgb25fYXBwcm92YWw6IG9wdGlvbnMub25BcHByb3ZhbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2wnLFxuICAgICAgICAgICAgbmFtZTogJ2hvc3RlZF9tY3AnLFxuICAgICAgICAgICAgcHJvdmlkZXJEYXRhLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogVGhlIGRlZmF1bHQgZnVuY3Rpb24gdG8gaW52b2tlIHdoZW4gYW4gZXJyb3Igb2NjdXJzIHdoaWxlIHJ1bm5pbmcgdGhlIHRvb2wuXG4gKlxuICogQWx3YXlzIHJldHVybnMgYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHJ1bm5pbmcgdGhlIHRvb2wuIFBsZWFzZSB0cnkgYWdhaW4uIEVycm9yOiA8ZXJyb3IgZGV0YWlscz5gXG4gKlxuICogQHBhcmFtIGNvbnRleHQgQW4gaW5zdGFuY2Ugb2YgdGhlIGN1cnJlbnQgUnVuQ29udGV4dFxuICogQHBhcmFtIGVycm9yIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRUb29sRXJyb3JGdW5jdGlvbihjb250ZXh0LCBlcnJvcikge1xuICAgIGNvbnN0IGRldGFpbHMgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IudG9TdHJpbmcoKSA6IFN0cmluZyhlcnJvcik7XG4gICAgcmV0dXJuIGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBydW5uaW5nIHRoZSB0b29sLiBQbGVhc2UgdHJ5IGFnYWluLiBFcnJvcjogJHtkZXRhaWxzfWA7XG59XG4vKipcbiAqIEV4cG9zZXMgYSBmdW5jdGlvbiB0byB0aGUgYWdlbnQgYXMgYSB0b29sIHRvIGJlIGNhbGxlZFxuICpcbiAqIEBwYXJhbSBvcHRpb25zIFRoZSBvcHRpb25zIGZvciB0aGUgdG9vbFxuICogQHJldHVybnMgQSBuZXcgdG9vbFxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9vbChvcHRpb25zKSB7XG4gICAgY29uc3QgbmFtZSA9IG9wdGlvbnMubmFtZVxuICAgICAgICA/IHRvRnVuY3Rpb25Ub29sTmFtZShvcHRpb25zLm5hbWUpXG4gICAgICAgIDogdG9GdW5jdGlvblRvb2xOYW1lKG9wdGlvbnMuZXhlY3V0ZS5uYW1lKTtcbiAgICBjb25zdCB0b29sRXJyb3JGdW5jdGlvbiA9IHR5cGVvZiBvcHRpb25zLmVycm9yRnVuY3Rpb24gPT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZGVmYXVsdFRvb2xFcnJvckZ1bmN0aW9uXG4gICAgICAgIDogb3B0aW9ucy5lcnJvckZ1bmN0aW9uO1xuICAgIGlmICghbmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rvb2wgbmFtZSBjYW5ub3QgYmUgZW1wdHkuIEVpdGhlciBuYW1lIHlvdXIgZnVuY3Rpb24gb3IgcHJvdmlkZSBhIG5hbWUgaW4gdGhlIG9wdGlvbnMuJyk7XG4gICAgfVxuICAgIGNvbnN0IHN0cmljdE1vZGUgPSBvcHRpb25zLnN0cmljdCA/PyB0cnVlO1xuICAgIGlmICghc3RyaWN0TW9kZSAmJiBpc1pvZE9iamVjdChvcHRpb25zLnBhcmFtZXRlcnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1N0cmljdCBtb2RlIGlzIHJlcXVpcmVkIGZvciBab2QgcGFyYW1ldGVycycpO1xuICAgIH1cbiAgICBjb25zdCB7IHBhcnNlciwgc2NoZW1hOiBwYXJhbWV0ZXJzIH0gPSBnZXRTY2hlbWFBbmRQYXJzZXJGcm9tSW5wdXRUeXBlKG9wdGlvbnMucGFyYW1ldGVycywgbmFtZSk7XG4gICAgYXN5bmMgZnVuY3Rpb24gX2ludm9rZShydW5Db250ZXh0LCBpbnB1dCwgZGV0YWlscykge1xuICAgICAgICBjb25zdCBbZXJyb3IsIHBhcnNlZF0gPSBhd2FpdCBzYWZlRXhlY3V0ZSgoKSA9PiBwYXJzZXIoaW5wdXQpKTtcbiAgICAgICAgaWYgKGVycm9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobG9nZ2VyLmRvbnRMb2dUb29sRGF0YSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgSW52YWxpZCBKU09OIGlucHV0IGZvciB0b29sICR7bmFtZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgSW52YWxpZCBKU09OIGlucHV0IGZvciB0b29sICR7bmFtZX06ICR7aW5wdXR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdJbnZhbGlkIEpTT04gaW5wdXQgZm9yIHRvb2wnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9nZ2VyLmRvbnRMb2dUb29sRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBJbnZva2luZyB0b29sICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgSW52b2tpbmcgdG9vbCAke25hbWV9IHdpdGggaW5wdXQgJHtpbnB1dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcHRpb25zLmV4ZWN1dGUocGFyc2VkLCBydW5Db250ZXh0LCBkZXRhaWxzKTtcbiAgICAgICAgY29uc3Qgc3RyaW5nUmVzdWx0ID0gdG9TbWFydFN0cmluZyhyZXN1bHQpO1xuICAgICAgICBpZiAobG9nZ2VyLmRvbnRMb2dUb29sRGF0YSkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBUb29sICR7bmFtZX0gY29tcGxldGVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoYFRvb2wgJHtuYW1lfSByZXR1cm5lZDogJHtzdHJpbmdSZXN1bHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgZnVuY3Rpb24gaW52b2tlKHJ1bkNvbnRleHQsIGlucHV0LCBkZXRhaWxzKSB7XG4gICAgICAgIHJldHVybiBfaW52b2tlKHJ1bkNvbnRleHQsIGlucHV0LCBkZXRhaWxzKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGlmICh0b29sRXJyb3JGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTcGFuID0gZ2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U3Bhbj8uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgcnVubmluZyB0b29sIChub24tZmF0YWwpJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9uYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2xFcnJvckZ1bmN0aW9uKHJ1bkNvbnRleHQsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbmVlZHNBcHByb3ZhbCA9IHR5cGVvZiBvcHRpb25zLm5lZWRzQXBwcm92YWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBvcHRpb25zLm5lZWRzQXBwcm92YWxcbiAgICAgICAgOiBhc3luYyAoKSA9PiB0eXBlb2Ygb3B0aW9ucy5uZWVkc0FwcHJvdmFsID09PSAnYm9vbGVhbidcbiAgICAgICAgICAgID8gb3B0aW9ucy5uZWVkc0FwcHJvdmFsXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgIGNvbnN0IGlzRW5hYmxlZCA9IHR5cGVvZiBvcHRpb25zLmlzRW5hYmxlZCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IGFzeW5jIChydW5Db250ZXh0LCBhZ2VudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJlZGljYXRlID0gb3B0aW9ucy5pc0VuYWJsZWQ7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmVkaWNhdGUoeyBydW5Db250ZXh0LCBhZ2VudCB9KTtcbiAgICAgICAgICAgIHJldHVybiBCb29sZWFuKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgOiBhc3luYyAoKSA9PiB0eXBlb2Ygb3B0aW9ucy5pc0VuYWJsZWQgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuaXNFbmFibGVkIDogdHJ1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICBuYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogb3B0aW9ucy5kZXNjcmlwdGlvbixcbiAgICAgICAgcGFyYW1ldGVycyxcbiAgICAgICAgc3RyaWN0OiBzdHJpY3RNb2RlLFxuICAgICAgICBpbnZva2UsXG4gICAgICAgIG5lZWRzQXBwcm92YWwsXG4gICAgICAgIGlzRW5hYmxlZCxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRSZXF1aXJlQXBwcm92YWwocmVxdWlyZUFwcHJvdmFsKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgaWYgKHJlcXVpcmVBcHByb3ZhbC5hbHdheXMpIHtcbiAgICAgICAgcmVzdWx0LmFsd2F5cyA9IHsgdG9vbF9uYW1lczogcmVxdWlyZUFwcHJvdmFsLmFsd2F5cy50b29sTmFtZXMgfTtcbiAgICB9XG4gICAgaWYgKHJlcXVpcmVBcHByb3ZhbC5uZXZlcikge1xuICAgICAgICByZXN1bHQubmV2ZXIgPSB7IHRvb2xfbmFtZXM6IHJlcXVpcmVBcHByb3ZhbC5uZXZlci50b29sTmFtZXMgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKGFsbG93ZWRUb29scykge1xuICAgIGlmICh0eXBlb2YgYWxsb3dlZFRvb2xzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShhbGxvd2VkVG9vbHMpKSB7XG4gICAgICAgIHJldHVybiB7IHRvb2xfbmFtZXM6IGFsbG93ZWRUb29scyB9O1xuICAgIH1cbiAgICByZXR1cm4geyB0b29sX25hbWVzOiBhbGxvd2VkVG9vbHM/LnRvb2xOYW1lcyA/PyBbXSB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9vbC5tanMubWFwIiwiaW1wb3J0IHsgdG9vbCB9IGZyb20gXCIuL3Rvb2wubWpzXCI7XG5pbXBvcnQgeyBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyBNQ1BTZXJ2ZXJTdGRpbyBhcyBVbmRlcmx5aW5nTUNQU2VydmVyU3RkaW8sIE1DUFNlcnZlclN0cmVhbWFibGVIdHRwIGFzIFVuZGVybHlpbmdNQ1BTZXJ2ZXJTdHJlYW1hYmxlSHR0cCwgTUNQU2VydmVyU1NFIGFzIFVuZGVybHlpbmdNQ1BTZXJ2ZXJTU0UsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFNwYW4sIHdpdGhNQ1BMaXN0VG9vbHNTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmltcG9ydCB7IGxvZ2dlciBhcyBnbG9iYWxMb2dnZXIsIGdldExvZ2dlciB9IGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NURElPX01DUF9DTElFTlRfTE9HR0VSX05BTUUgPSAnb3BlbmFpLWFnZW50czpzdGRpby1tY3AtY2xpZW50JztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NUUkVBTUFCTEVfSFRUUF9NQ1BfQ0xJRU5UX0xPR0dFUl9OQU1FID0gJ29wZW5haS1hZ2VudHM6c3RyZWFtYWJsZS1odHRwLW1jcC1jbGllbnQnO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU1NFX01DUF9DTElFTlRfTE9HR0VSX05BTUUgPSAnb3BlbmFpLWFnZW50czpzc2UtbWNwLWNsaWVudCc7XG5leHBvcnQgY2xhc3MgQmFzZU1DUFNlcnZlclN0ZGlvIHtcbiAgICBjYWNoZVRvb2xzTGlzdDtcbiAgICBfY2FjaGVkVG9vbHMgPSB1bmRlZmluZWQ7XG4gICAgdG9vbEZpbHRlcjtcbiAgICBsb2dnZXI7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlciA9XG4gICAgICAgICAgICBvcHRpb25zLmxvZ2dlciA/PyBnZXRMb2dnZXIoREVGQVVMVF9TVERJT19NQ1BfQ0xJRU5UX0xPR0dFUl9OQU1FKTtcbiAgICAgICAgdGhpcy5jYWNoZVRvb2xzTGlzdCA9IG9wdGlvbnMuY2FjaGVUb29sc0xpc3QgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMudG9vbEZpbHRlciA9IG9wdGlvbnMudG9vbEZpbHRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ncyBhIGRlYnVnIG1lc3NhZ2Ugd2hlbiBkZWJ1ZyBsb2dnaW5nIGlzIGVuYWJsZWQuXG4gICAgICogQHBhcmFtIGJ1aWxkTWVzc2FnZSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbWVzc2FnZSB0byBsb2cuXG4gICAgICovXG4gICAgZGVidWdMb2coYnVpbGRNZXNzYWdlKSB7XG4gICAgICAgIGlmIChkZWJ1Zy5lbmFibGVkKHRoaXMubG9nZ2VyLm5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgd2hlbiB0aGlzIGlzIHRydWUsIHRoZSBmdW5jdGlvbiB0byBidWlsZCB0aGUgc3RyaW5nIGlzIGNhbGxlZFxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYnVpbGRNZXNzYWdlKCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJhc2VNQ1BTZXJ2ZXJTdHJlYW1hYmxlSHR0cCB7XG4gICAgY2FjaGVUb29sc0xpc3Q7XG4gICAgX2NhY2hlZFRvb2xzID0gdW5kZWZpbmVkO1xuICAgIHRvb2xGaWx0ZXI7XG4gICAgbG9nZ2VyO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIgPVxuICAgICAgICAgICAgb3B0aW9ucy5sb2dnZXIgPz9cbiAgICAgICAgICAgICAgICBnZXRMb2dnZXIoREVGQVVMVF9TVFJFQU1BQkxFX0hUVFBfTUNQX0NMSUVOVF9MT0dHRVJfTkFNRSk7XG4gICAgICAgIHRoaXMuY2FjaGVUb29sc0xpc3QgPSBvcHRpb25zLmNhY2hlVG9vbHNMaXN0ID8/IGZhbHNlO1xuICAgICAgICB0aGlzLnRvb2xGaWx0ZXIgPSBvcHRpb25zLnRvb2xGaWx0ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvZ3MgYSBkZWJ1ZyBtZXNzYWdlIHdoZW4gZGVidWcgbG9nZ2luZyBpcyBlbmFibGVkLlxuICAgICAqIEBwYXJhbSBidWlsZE1lc3NhZ2UgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG1lc3NhZ2UgdG8gbG9nLlxuICAgICAqL1xuICAgIGRlYnVnTG9nKGJ1aWxkTWVzc2FnZSkge1xuICAgICAgICBpZiAoZGVidWcuZW5hYmxlZCh0aGlzLmxvZ2dlci5uYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAvLyBvbmx5IHdoZW4gdGhpcyBpcyB0cnVlLCB0aGUgZnVuY3Rpb24gdG8gYnVpbGQgdGhlIHN0cmluZyBpcyBjYWxsZWRcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGJ1aWxkTWVzc2FnZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXNlTUNQU2VydmVyU1NFIHtcbiAgICBjYWNoZVRvb2xzTGlzdDtcbiAgICBfY2FjaGVkVG9vbHMgPSB1bmRlZmluZWQ7XG4gICAgdG9vbEZpbHRlcjtcbiAgICBsb2dnZXI7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlciA9XG4gICAgICAgICAgICBvcHRpb25zLmxvZ2dlciA/PyBnZXRMb2dnZXIoREVGQVVMVF9TU0VfTUNQX0NMSUVOVF9MT0dHRVJfTkFNRSk7XG4gICAgICAgIHRoaXMuY2FjaGVUb29sc0xpc3QgPSBvcHRpb25zLmNhY2hlVG9vbHNMaXN0ID8/IGZhbHNlO1xuICAgICAgICB0aGlzLnRvb2xGaWx0ZXIgPSBvcHRpb25zLnRvb2xGaWx0ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvZ3MgYSBkZWJ1ZyBtZXNzYWdlIHdoZW4gZGVidWcgbG9nZ2luZyBpcyBlbmFibGVkLlxuICAgICAqIEBwYXJhbSBidWlsZE1lc3NhZ2UgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG1lc3NhZ2UgdG8gbG9nLlxuICAgICAqL1xuICAgIGRlYnVnTG9nKGJ1aWxkTWVzc2FnZSkge1xuICAgICAgICBpZiAoZGVidWcuZW5hYmxlZCh0aGlzLmxvZ2dlci5uYW1lc3BhY2UpKSB7XG4gICAgICAgICAgICAvLyBvbmx5IHdoZW4gdGhpcyBpcyB0cnVlLCB0aGUgZnVuY3Rpb24gdG8gYnVpbGQgdGhlIHN0cmluZyBpcyBjYWxsZWRcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGJ1aWxkTWVzc2FnZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogTWluaW11bSBNQ1AgdG9vbCBkYXRhIGRlZmluaXRpb24uXG4gKiBUaGlzIHR5cGUgZGVmaW5pdGlvbiBkb2VzIG5vdCBpbnRlbmQgdG8gY292ZXIgYWxsIHBvc3NpYmxlIHByb3BlcnRpZXMuXG4gKiBJdCBzdXBwb3J0cyB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSB1c2VkIGluIHRoaXMgU0RLLlxuICovXG5leHBvcnQgY29uc3QgTUNQVG9vbCA9IHoub2JqZWN0KHtcbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgaW5wdXRTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdvYmplY3QnKSxcbiAgICAgICAgcHJvcGVydGllczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG4gICAgICAgIHJlcXVpcmVkOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogei5ib29sZWFuKCksXG4gICAgfSksXG59KTtcbi8qKlxuICogUHVibGljIGludGVyZmFjZSBvZiBhbiBNQ1Agc2VydmVyIHRoYXQgcHJvdmlkZXMgdG9vbHMuXG4gKiBZb3UgY2FuIHVzZSB0aGlzIGNsYXNzIHRvIHBhc3MgTUNQIHNlcnZlciBzZXR0aW5ncyB0byB5b3VyIGFnZW50LlxuICovXG5leHBvcnQgY2xhc3MgTUNQU2VydmVyU3RkaW8gZXh0ZW5kcyBCYXNlTUNQU2VydmVyU3RkaW8ge1xuICAgIHVuZGVybHlpbmc7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nID0gbmV3IFVuZGVybHlpbmdNQ1BTZXJ2ZXJTdGRpbyhvcHRpb25zKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcubmFtZTtcbiAgICB9XG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jb25uZWN0KCk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmNsb3NlKCk7XG4gICAgfVxuICAgIGFzeW5jIGxpc3RUb29scygpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVUb29sc0xpc3QgJiYgdGhpcy5fY2FjaGVkVG9vbHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRUb29scztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b29scyA9IGF3YWl0IHRoaXMudW5kZXJseWluZy5saXN0VG9vbHMoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVUb29sc0xpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFRvb2xzID0gdG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvb2xzO1xuICAgIH1cbiAgICBjYWxsVG9vbCh0b29sTmFtZSwgYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmNhbGxUb29sKHRvb2xOYW1lLCBhcmdzKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRvb2xzQ2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuaW52YWxpZGF0ZVRvb2xzQ2FjaGUoKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAgZXh0ZW5kcyBCYXNlTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAge1xuICAgIHVuZGVybHlpbmc7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nID0gbmV3IFVuZGVybHlpbmdNQ1BTZXJ2ZXJTdHJlYW1hYmxlSHR0cChvcHRpb25zKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcubmFtZTtcbiAgICB9XG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jb25uZWN0KCk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmNsb3NlKCk7XG4gICAgfVxuICAgIGFzeW5jIGxpc3RUb29scygpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVUb29sc0xpc3QgJiYgdGhpcy5fY2FjaGVkVG9vbHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRUb29scztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b29scyA9IGF3YWl0IHRoaXMudW5kZXJseWluZy5saXN0VG9vbHMoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVUb29sc0xpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFRvb2xzID0gdG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvb2xzO1xuICAgIH1cbiAgICBjYWxsVG9vbCh0b29sTmFtZSwgYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmNhbGxUb29sKHRvb2xOYW1lLCBhcmdzKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRvb2xzQ2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuaW52YWxpZGF0ZVRvb2xzQ2FjaGUoKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTUNQU2VydmVyU1NFIGV4dGVuZHMgQmFzZU1DUFNlcnZlclNTRSB7XG4gICAgdW5kZXJseWluZztcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnVuZGVybHlpbmcgPSBuZXcgVW5kZXJseWluZ01DUFNlcnZlclNTRShvcHRpb25zKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcubmFtZTtcbiAgICB9XG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5jb25uZWN0KCk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmNsb3NlKCk7XG4gICAgfVxuICAgIGFzeW5jIGxpc3RUb29scygpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVUb29sc0xpc3QgJiYgdGhpcy5fY2FjaGVkVG9vbHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRUb29scztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b29scyA9IGF3YWl0IHRoaXMudW5kZXJseWluZy5saXN0VG9vbHMoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVUb29sc0xpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFRvb2xzID0gdG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvb2xzO1xuICAgIH1cbiAgICBjYWxsVG9vbCh0b29sTmFtZSwgYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmNhbGxUb29sKHRvb2xOYW1lLCBhcmdzKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRvb2xzQ2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuaW52YWxpZGF0ZVRvb2xzQ2FjaGUoKTtcbiAgICB9XG59XG4vKipcbiAqIEZldGNoZXMgYW5kIGZsYXR0ZW5zIGFsbCB0b29scyBmcm9tIG11bHRpcGxlIE1DUCBzZXJ2ZXJzLlxuICogTG9ncyBhbmQgc2tpcHMgYW55IHNlcnZlcnMgdGhhdCBmYWlsIHRvIHJlc3BvbmQuXG4gKi9cbmNvbnN0IF9jYWNoZWRUb29scyA9IHt9O1xuLyoqXG4gKiBSZW1vdmUgY2FjaGVkIHRvb2xzIGZvciB0aGUgZ2l2ZW4gc2VydmVyIHNvIHRoZSBuZXh0IGxvb2t1cCBmZXRjaGVzIGZyZXNoIGRhdGEuXG4gKlxuICogQHBhcmFtIHNlcnZlck5hbWUgLSBOYW1lIG9mIHRoZSBNQ1Agc2VydmVyIHdob3NlIGNhY2hlIHNob3VsZCBiZSBjbGVhcmVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW52YWxpZGF0ZVNlcnZlclRvb2xzQ2FjaGUoc2VydmVyTmFtZSkge1xuICAgIGRlbGV0ZSBfY2FjaGVkVG9vbHNbc2VydmVyTmFtZV07XG59XG4vKipcbiAqIEZldGNoZXMgYWxsIGZ1bmN0aW9uIHRvb2xzIGZyb20gYSBzaW5nbGUgTUNQIHNlcnZlci5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0RnVuY3Rpb25Ub29sc0Zyb21TZXJ2ZXIoeyBzZXJ2ZXIsIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3QsIHJ1bkNvbnRleHQsIGFnZW50LCB9KSB7XG4gICAgaWYgKHNlcnZlci5jYWNoZVRvb2xzTGlzdCAmJiBfY2FjaGVkVG9vbHNbc2VydmVyLm5hbWVdKSB7XG4gICAgICAgIHJldHVybiBfY2FjaGVkVG9vbHNbc2VydmVyLm5hbWVdLm1hcCgodCkgPT4gbWNwVG9GdW5jdGlvblRvb2wodCwgc2VydmVyLCBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0KSk7XG4gICAgfVxuICAgIHJldHVybiB3aXRoTUNQTGlzdFRvb2xzU3Bhbihhc3luYyAoc3BhbikgPT4ge1xuICAgICAgICBjb25zdCBmZXRjaGVkTWNwVG9vbHMgPSBhd2FpdCBzZXJ2ZXIubGlzdFRvb2xzKCk7XG4gICAgICAgIGxldCBtY3BUb29scyA9IGZldGNoZWRNY3BUb29scztcbiAgICAgICAgaWYgKHJ1bkNvbnRleHQgJiYgYWdlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7IHJ1bkNvbnRleHQsIGFnZW50LCBzZXJ2ZXJOYW1lOiBzZXJ2ZXIubmFtZSB9O1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRUb29scyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sIG9mIGZldGNoZWRNY3BUb29scykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlciA9IHNlcnZlci50b29sRmlsdGVyO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gYXdhaXQgZmlsdGVyKGNvbnRleHQsIHRvb2wpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbExvZ2dlci5kZWJ1ZyhgTUNQIFRvb2wgKHNlcnZlcjogJHtzZXJ2ZXIubmFtZX0sIHRvb2w6ICR7dG9vbC5uYW1lfSkgaXMgYmxvY2tlZCBieSB0aGUgY2FsbGFibGUgZmlsdGVyLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsb3dlZFRvb2xOYW1lcyA9IGZpbHRlci5hbGxvd2VkVG9vbE5hbWVzID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2tlZFRvb2xOYW1lcyA9IGZpbHRlci5ibG9ja2VkVG9vbE5hbWVzID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsbG93ZWRUb29sTmFtZXMubGVuZ3RoID4gMCB8fCBibG9ja2VkVG9vbE5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxvd2VkID0gYWxsb3dlZFRvb2xOYW1lcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYWxsb3dlZFRvb2xOYW1lcy5pbmNsdWRlcyh0b29sLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja2VkID0gYmxvY2tlZFRvb2xOYW1lcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYmxvY2tlZFRvb2xOYW1lcy5pbmNsdWRlcyh0b29sLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbGxvd2VkIHx8IGJsb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbExvZ2dlci5kZWJ1ZyhgTUNQIFRvb2wgKHNlcnZlcjogJHtzZXJ2ZXIubmFtZX0sIHRvb2w6ICR7dG9vbC5uYW1lfSkgaXMgYmxvY2tlZCBieSB0aGUgc3RhdGljIGZpbHRlci5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghYWxsb3dlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTG9nZ2VyLmRlYnVnKGBNQ1AgVG9vbCAoc2VydmVyOiAke3NlcnZlci5uYW1lfSwgdG9vbDogJHt0b29sLm5hbWV9KSBpcyBub3QgYWxsb3dlZCBieSB0aGUgc3RhdGljIGZpbHRlci5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRUb29scy5wdXNoKHRvb2wpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWNwVG9vbHMgPSBmaWx0ZXJlZFRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIHNwYW4uc3BhbkRhdGEucmVzdWx0ID0gbWNwVG9vbHMubWFwKCh0KSA9PiB0Lm5hbWUpO1xuICAgICAgICBjb25zdCB0b29scyA9IG1jcFRvb2xzLm1hcCgodCkgPT4gbWNwVG9GdW5jdGlvblRvb2wodCwgc2VydmVyLCBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0KSk7XG4gICAgICAgIGlmIChzZXJ2ZXIuY2FjaGVUb29sc0xpc3QpIHtcbiAgICAgICAgICAgIF9jYWNoZWRUb29sc1tzZXJ2ZXIubmFtZV0gPSBtY3BUb29scztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9vbHM7XG4gICAgfSwgeyBkYXRhOiB7IHNlcnZlcjogc2VydmVyLm5hbWUgfSB9KTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxNY3BUb29scyhtY3BTZXJ2ZXJzT3JPcHRzLCBydW5Db250ZXh0LCBhZ2VudCwgY29udmVydFNjaGVtYXNUb1N0cmljdCA9IGZhbHNlKSB7XG4gICAgY29uc3Qgb3B0cyA9IEFycmF5LmlzQXJyYXkobWNwU2VydmVyc09yT3B0cylcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBtY3BTZXJ2ZXJzOiBtY3BTZXJ2ZXJzT3JPcHRzLFxuICAgICAgICAgICAgcnVuQ29udGV4dCxcbiAgICAgICAgICAgIGFnZW50LFxuICAgICAgICAgICAgY29udmVydFNjaGVtYXNUb1N0cmljdCxcbiAgICAgICAgfVxuICAgICAgICA6IG1jcFNlcnZlcnNPck9wdHM7XG4gICAgY29uc3QgeyBtY3BTZXJ2ZXJzLCBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0OiBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0RnJvbU9wdHMgPSBmYWxzZSwgcnVuQ29udGV4dDogcnVuQ29udGV4dEZyb21PcHRzLCBhZ2VudDogYWdlbnRGcm9tT3B0cywgfSA9IG9wdHM7XG4gICAgY29uc3QgYWxsVG9vbHMgPSBbXTtcbiAgICBjb25zdCB0b29sTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCBzZXJ2ZXIgb2YgbWNwU2VydmVycykge1xuICAgICAgICBjb25zdCBzZXJ2ZXJUb29scyA9IGF3YWl0IGdldEZ1bmN0aW9uVG9vbHNGcm9tU2VydmVyKHtcbiAgICAgICAgICAgIHNlcnZlcixcbiAgICAgICAgICAgIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3Q6IGNvbnZlcnRTY2hlbWFzVG9TdHJpY3RGcm9tT3B0cyxcbiAgICAgICAgICAgIHJ1bkNvbnRleHQ6IHJ1bkNvbnRleHRGcm9tT3B0cyxcbiAgICAgICAgICAgIGFnZW50OiBhZ2VudEZyb21PcHRzLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2VydmVyVG9vbE5hbWVzID0gbmV3IFNldChzZXJ2ZXJUb29scy5tYXAoKHQpID0+IHQubmFtZSkpO1xuICAgICAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBbLi4uc2VydmVyVG9vbE5hbWVzXS5maWx0ZXIoKG4pID0+IHRvb2xOYW1lcy5oYXMobikpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYER1cGxpY2F0ZSB0b29sIG5hbWVzIGZvdW5kIGFjcm9zcyBNQ1Agc2VydmVyczogJHtpbnRlcnNlY3Rpb24uam9pbignLCAnKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygc2VydmVyVG9vbHMpIHtcbiAgICAgICAgICAgIHRvb2xOYW1lcy5hZGQodC5uYW1lKTtcbiAgICAgICAgICAgIGFsbFRvb2xzLnB1c2godCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFsbFRvb2xzO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBNQ1AgdG9vbCBkZWZpbml0aW9uIHRvIGEgZnVuY3Rpb24gdG9vbCBmb3IgdGhlIEFnZW50cyBTREsuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtY3BUb0Z1bmN0aW9uVG9vbChtY3BUb29sLCBzZXJ2ZXIsIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3QpIHtcbiAgICBhc3luYyBmdW5jdGlvbiBpbnZva2UoaW5wdXQsIF9jb250ZXh0KSB7XG4gICAgICAgIGxldCBhcmdzID0ge307XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnICYmIGlucHV0KSB7XG4gICAgICAgICAgICBhcmdzID0gSlNPTi5wYXJzZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJiBpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhcmdzID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudFNwYW4gPSBnZXRDdXJyZW50U3BhbigpO1xuICAgICAgICBpZiAoY3VycmVudFNwYW4pIHtcbiAgICAgICAgICAgIGN1cnJlbnRTcGFuLnNwYW5EYXRhWydtY3BfZGF0YSddID0geyBzZXJ2ZXI6IHNlcnZlci5uYW1lIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHNlcnZlci5jYWxsVG9vbChtY3BUb29sLm5hbWUsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gY29udGVudC5sZW5ndGggPT09IDEgPyBjb250ZW50WzBdIDogY29udGVudDtcbiAgICB9XG4gICAgY29uc3Qgc2NoZW1hID0ge1xuICAgICAgICAuLi5tY3BUb29sLmlucHV0U2NoZW1hLFxuICAgICAgICB0eXBlOiBtY3BUb29sLmlucHV0U2NoZW1hPy50eXBlID8/ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiBtY3BUb29sLmlucHV0U2NoZW1hPy5wcm9wZXJ0aWVzID8/IHt9LFxuICAgICAgICByZXF1aXJlZDogbWNwVG9vbC5pbnB1dFNjaGVtYT8ucmVxdWlyZWQgPz8gW10sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBtY3BUb29sLmlucHV0U2NoZW1hPy5hZGRpdGlvbmFsUHJvcGVydGllcyA/PyBmYWxzZSxcbiAgICB9O1xuICAgIGlmIChjb252ZXJ0U2NoZW1hc1RvU3RyaWN0IHx8IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RyaWN0U2NoZW1hID0gZW5zdXJlU3RyaWN0SnNvblNjaGVtYShzY2hlbWEpO1xuICAgICAgICAgICAgcmV0dXJuIHRvb2woe1xuICAgICAgICAgICAgICAgIG5hbWU6IG1jcFRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbWNwVG9vbC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBzdHJpY3RTY2hlbWEsXG4gICAgICAgICAgICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGU6IGludm9rZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnbG9iYWxMb2dnZXIud2FybihgRXJyb3IgY29udmVydGluZyBNQ1Agc2NoZW1hIHRvIHN0cmljdCBtb2RlOiAke2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9uU3RyaWN0U2NoZW1hID0ge1xuICAgICAgICAuLi5zY2hlbWEsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIHRvb2woe1xuICAgICAgICBuYW1lOiBtY3BUb29sLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBtY3BUb29sLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICBwYXJhbWV0ZXJzOiBub25TdHJpY3RTY2hlbWEsXG4gICAgICAgIHN0cmljdDogZmFsc2UsXG4gICAgICAgIGV4ZWN1dGU6IGludm9rZSxcbiAgICB9KTtcbn1cbi8qKlxuICogRW5zdXJlcyB0aGUgZ2l2ZW4gSlNPTiBzY2hlbWEgaXMgc3RyaWN0IChubyBhZGRpdGlvbmFsIHByb3BlcnRpZXMsIHJlcXVpcmVkIGZpZWxkcyBzZXQpLlxuICovXG5mdW5jdGlvbiBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKHNjaGVtYSkge1xuICAgIGNvbnN0IG91dCA9IHtcbiAgICAgICAgLi4uc2NoZW1hLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgfTtcbiAgICBpZiAoIW91dC5yZXF1aXJlZClcbiAgICAgICAgb3V0LnJlcXVpcmVkID0gW107XG4gICAgcmV0dXJuIG91dDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1jcC5tanMubWFwIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZG9tXCIgLz5cbi8vIFVzZSBmdW5jdGlvbiBpbnN0ZWFkIG9mIGV4cG9ydGluZyB0aGUgdmFsdWUgdG8gcHJldmVudFxuLy8gY2lyY3VsYXIgZGVwZW5kZW5jeSByZXNvbHV0aW9uIGlzc3VlcyBjYXVzZWQgYnkgb3RoZXIgZXhwb3J0cyBpbiAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVudigpIHtcbiAgICByZXR1cm4ge307XG59XG5leHBvcnQgY2xhc3MgQnJvd3NlckV2ZW50RW1pdHRlciB7XG4gICAgI3RhcmdldCA9IG5ldyBFdmVudFRhcmdldCgpO1xuICAgICNsaXN0ZW5lcldyYXBwZXJzID0gbmV3IE1hcCgpO1xuICAgIG9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IHR5cGU7XG4gICAgICAgIGxldCBsaXN0ZW5lcnNGb3JUeXBlID0gdGhpcy4jbGlzdGVuZXJXcmFwcGVycy5nZXQoZXZlbnRUeXBlKTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnNGb3JUeXBlKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNGb3JUeXBlID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy4jbGlzdGVuZXJXcmFwcGVycy5zZXQoZXZlbnRUeXBlLCBsaXN0ZW5lcnNGb3JUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd3JhcHBlcnMgPSBsaXN0ZW5lcnNGb3JUeXBlLmdldChsaXN0ZW5lcik7XG4gICAgICAgIGlmICghd3JhcHBlcnMpIHtcbiAgICAgICAgICAgIHdyYXBwZXJzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgbGlzdGVuZXJzRm9yVHlwZS5zZXQobGlzdGVuZXIsIHdyYXBwZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3cmFwcGVyID0gKChldmVudCkgPT4gbGlzdGVuZXIoLi4uKGV2ZW50LmRldGFpbCA/PyBbXSkpKTtcbiAgICAgICAgd3JhcHBlcnMuYWRkKHdyYXBwZXIpO1xuICAgICAgICB0aGlzLiN0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIHdyYXBwZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb2ZmKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50VHlwZSA9IHR5cGU7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyc0ZvclR5cGUgPSB0aGlzLiNsaXN0ZW5lcldyYXBwZXJzLmdldChldmVudFR5cGUpO1xuICAgICAgICBjb25zdCB3cmFwcGVycyA9IGxpc3RlbmVyc0ZvclR5cGU/LmdldChsaXN0ZW5lcik7XG4gICAgICAgIGlmICh3cmFwcGVycz8uc2l6ZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB3cmFwcGVyIG9mIHdyYXBwZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCB3cmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyc0ZvclR5cGU/LmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzRm9yVHlwZT8uc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2xpc3RlbmVyV3JhcHBlcnMuZGVsZXRlKGV2ZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGVtaXQodHlwZSwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbDogYXJncyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2ZmKHR5cGUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub24odHlwZSwgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbmV4cG9ydCB7IEJyb3dzZXJFdmVudEVtaXR0ZXIgYXMgUnVudGltZUV2ZW50RW1pdHRlciB9O1xuZXhwb3J0IGNvbnN0IHJhbmRvbVVVSUQgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIH1cbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgICAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBSZWFkYWJsZSA9IGNsYXNzIFJlYWRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHBpcGVUbyhfZGVzdGluYXRpb24sIF9vcHRpb25zKSB7IH1cbiAgICBwaXBlVGhyb3VnaChfdHJhbnNmb3JtLCBfb3B0aW9ucykgeyB9XG59O1xuZXhwb3J0IGNvbnN0IFJlYWRhYmxlU3RyZWFtID0gZ2xvYmFsVGhpcy5SZWFkYWJsZVN0cmVhbTtcbmV4cG9ydCBjb25zdCBSZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgPSBnbG9iYWxUaGlzLlJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI7XG5leHBvcnQgY29uc3QgVHJhbnNmb3JtU3RyZWFtID0gZ2xvYmFsVGhpcy5UcmFuc2Zvcm1TdHJlYW07XG5leHBvcnQgY2xhc3MgQXN5bmNMb2NhbFN0b3JhZ2Uge1xuICAgIGNvbnRleHQgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgcnVuKGNvbnRleHQsIGZuKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICBnZXRTdG9yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcbiAgICB9XG4gICAgZW50ZXJXaXRoKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUcmFjaW5nTG9vcFJ1bm5pbmdCeURlZmF1bHQoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IHsgTUNQU2VydmVyU3RkaW8sIE1DUFNlcnZlclN0cmVhbWFibGVIdHRwLCBNQ1BTZXJ2ZXJTU0UsIH0gZnJvbSBcIi4vbWNwLXNlcnZlci9icm93c2VyLm1qc1wiO1xuY2xhc3MgQnJvd3NlclRpbWVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIG1zKSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcyk7XG4gICAgICAgIHRpbWVvdXQucmVmID1cbiAgICAgICAgICAgIHR5cGVvZiB0aW1lb3V0LnJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHRpbWVvdXQucmVmIDogKCkgPT4gdGltZW91dDtcbiAgICAgICAgdGltZW91dC51bnJlZiA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC51bnJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHRpbWVvdXQudW5yZWYgOiAoKSA9PiB0aW1lb3V0O1xuICAgICAgICB0aW1lb3V0Lmhhc1JlZiA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC5oYXNSZWYgPT09ICdmdW5jdGlvbicgPyB0aW1lb3V0Lmhhc1JlZiA6ICgpID0+IHRydWU7XG4gICAgICAgIHRpbWVvdXQucmVmcmVzaCA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC5yZWZyZXNoID09PSAnZnVuY3Rpb24nID8gdGltZW91dC5yZWZyZXNoIDogKCkgPT4gdGltZW91dDtcbiAgICAgICAgcmV0dXJuIHRpbWVvdXQ7XG4gICAgfVxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbn1cbmNvbnN0IHRpbWVyID0gbmV3IEJyb3dzZXJUaW1lcigpO1xuZXhwb3J0IHsgdGltZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoaW1zLWJyb3dzZXIubWpzLm1hcCIsImltcG9ydCB7IFJ1bnRpbWVFdmVudEVtaXR0ZXIsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuZXhwb3J0IGNsYXNzIEV2ZW50RW1pdHRlckRlbGVnYXRlIHtcbiAgICBvbih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbih0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlcjtcbiAgICB9XG4gICAgb2ZmKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9mZih0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlcjtcbiAgICB9XG4gICAgZW1pdCh0eXBlLCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHR5cGUsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uY2UodHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudEVtaXR0ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBFdmVudCBlbWl0dGVyIHRoYXQgZXZlcnkgQWdlbnQgaW5zdGFuY2UgaW5oZXJpdHMgZnJvbSBhbmQgdGhhdCBlbWl0cyBldmVudHMgZm9yIHRoZSBsaWZlY3ljbGVcbiAqIG9mIHRoZSBhZ2VudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50SG9va3MgZXh0ZW5kcyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB7XG4gICAgZXZlbnRFbWl0dGVyID0gbmV3IFJ1bnRpbWVFdmVudEVtaXR0ZXIoKTtcbn1cbi8qKlxuICogRXZlbnQgZW1pdHRlciB0aGF0IGV2ZXJ5IFJ1bm5lciBpbnN0YW5jZSBpbmhlcml0cyBmcm9tIGFuZCB0aGF0IGVtaXRzIGV2ZW50cyBmb3IgdGhlIGxpZmVjeWNsZVxuICogb2YgdGhlIG92ZXJhbGwgcnVuLlxuICovXG5leHBvcnQgY2xhc3MgUnVuSG9va3MgZXh0ZW5kcyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB7XG4gICAgZXZlbnRFbWl0dGVyID0gbmV3IFJ1bnRpbWVFdmVudEVtaXR0ZXIoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZmVjeWNsZS5tanMubWFwIiwiaW1wb3J0IHsgbG9hZEVudiB9IGZyb20gXCIuL2NvbmZpZy5tanNcIjtcbmV4cG9ydCBjb25zdCBPUEVOQUlfREVGQVVMVF9NT0RFTF9FTlZfVkFSSUFCTEVfTkFNRSA9ICdPUEVOQUlfREVGQVVMVF9NT0RFTCc7XG4vKipcbiAqIFJldHVybnMgVHJ1ZSBpZiB0aGUgbW9kZWwgbmFtZSBpcyBhIEdQVC01IG1vZGVsIGFuZCByZWFzb25pbmcgc2V0dGluZ3MgYXJlIHJlcXVpcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQobW9kZWxOYW1lKSB7XG4gICAgaWYgKG1vZGVsTmFtZS5zdGFydHNXaXRoKCdncHQtNS1jaGF0JykpIHtcbiAgICAgICAgLy8gZ3B0LTUtY2hhdC1sYXRlc3QgZG9lcyBub3QgcmVxdWlyZSByZWFzb25pbmcgc2V0dGluZ3NcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBtYXRjaGVzIGFueSBvZiBncHQtNSBtb2RlbHNcbiAgICByZXR1cm4gbW9kZWxOYW1lLnN0YXJ0c1dpdGgoJ2dwdC01Jyk7XG59XG4vKipcbiAqIFJldHVybnMgVHJ1ZSBpZiB0aGUgZGVmYXVsdCBtb2RlbCBpcyBhIEdQVC01IG1vZGVsLlxuICogVGhpcyBpcyB1c2VkIHRvIGRldGVybWluZSBpZiB0aGUgZGVmYXVsdCBtb2RlbCBzZXR0aW5ncyBhcmUgY29tcGF0aWJsZSB3aXRoIEdQVC01IG1vZGVscy5cbiAqIElmIHRoZSBkZWZhdWx0IG1vZGVsIGlzIG5vdCBhIEdQVC01IG1vZGVsLCB0aGUgbW9kZWwgc2V0dGluZ3MgYXJlIGNvbXBhdGlibGUgd2l0aCBvdGhlciBtb2RlbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0dwdDVEZWZhdWx0KCkge1xuICAgIHJldHVybiBncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZChnZXREZWZhdWx0TW9kZWwoKSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgbW9kZWwgbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRNb2RlbCgpIHtcbiAgICBjb25zdCBlbnYgPSBsb2FkRW52KCk7XG4gICAgcmV0dXJuIChlbnZbT1BFTkFJX0RFRkFVTFRfTU9ERUxfRU5WX1ZBUklBQkxFX05BTUVdPy50b0xvd2VyQ2FzZSgpID8/ICdncHQtNC4xJyk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgbW9kZWwgc2V0dGluZ3MuXG4gKiBJZiB0aGUgZGVmYXVsdCBtb2RlbCBpcyBhIEdQVC01IG1vZGVsLCByZXR1cm5zIHRoZSBHUFQtNSBkZWZhdWx0IG1vZGVsIHNldHRpbmdzLlxuICogT3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBsZWdhY3kgZGVmYXVsdCBtb2RlbCBzZXR0aW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRNb2RlbFNldHRpbmdzKG1vZGVsKSB7XG4gICAgY29uc3QgX21vZGVsID0gbW9kZWwgPz8gZ2V0RGVmYXVsdE1vZGVsKCk7XG4gICAgaWYgKGdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkKF9tb2RlbCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIFdlIGNob3NlIFwibG93XCIgaW5zdGVhZCBvZiBcIm1pbmltYWxcIiBiZWNhdXNlIHNvbWUgb2YgdGhlIGJ1aWx0LWluIHRvb2xzXG4gICAgICAgICAgICAvLyAoZS5nLiwgZmlsZSBzZWFyY2gsIGltYWdlIGdlbmVyYXRpb24sIGV0Yy4pIGRvIG5vdCBzdXBwb3J0IFwibWluaW1hbFwiXG4gICAgICAgICAgICAvLyBJZiB5b3Ugd2FudCB0byB1c2UgXCJtaW5pbWFsXCIgcmVhc29uaW5nIGVmZm9ydCwgeW91IGNhbiBwYXNzIHlvdXIgb3duIG1vZGVsIHNldHRpbmdzXG4gICAgICAgICAgICByZWFzb25pbmc6IHsgZWZmb3J0OiAnbG93JyB9LFxuICAgICAgICAgICAgdGV4dDogeyB2ZXJib3NpdHk6ICdsb3cnIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRNb2RlbC5tanMubWFwIiwiaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyB0b0Z1bmN0aW9uVG9vbE5hbWUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGFkZEVycm9yVG9DdXJyZW50U3BhbiB9IGZyb20gXCIuL3RyYWNpbmcvY29udGV4dC5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIGdpdmVuIGFzIHRvb2wgb3V0cHV0IHRvIHRoZSBtb2RlbCB0aGF0IHJlcXVlc3RlZCB0aGUgaGFuZG9mZi5cbiAqXG4gKiBAcGFyYW0gYWdlbnQgVGhlIGFnZW50IHRvIHRyYW5zZmVyIHRvXG4gKiBAcmV0dXJucyBUaGUgbWVzc2FnZSB0aGF0IHdpbGwgYmUgZ2l2ZW4gYXMgdG9vbCBvdXRwdXQgdG8gdGhlIG1vZGVsIHRoYXQgcmVxdWVzdGVkIHRoZSBoYW5kb2ZmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zlck1lc3NhZ2UoYWdlbnQpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyBhc3Npc3RhbnQ6IGFnZW50Lm5hbWUgfSk7XG59XG4vKipcbiAqIFRoZSBkZWZhdWx0IG5hbWUgb2YgdGhlIHRvb2wgdGhhdCByZXByZXNlbnRzIHRoZSBoYW5kb2ZmLlxuICpcbiAqIEBwYXJhbSBhZ2VudCBUaGUgYWdlbnQgdG8gdHJhbnNmZXIgdG9cbiAqIEByZXR1cm5zIFRoZSBuYW1lIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZlxuICovXG5mdW5jdGlvbiBkZWZhdWx0SGFuZG9mZlRvb2xOYW1lKGFnZW50KSB7XG4gICAgcmV0dXJuIGB0cmFuc2Zlcl90b18ke3RvRnVuY3Rpb25Ub29sTmFtZShhZ2VudC5uYW1lKX1gO1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZi5cbiAqXG4gKiBAcGFyYW0gYWdlbnQgVGhlIGFnZW50IHRvIHRyYW5zZmVyIHRvXG4gKiBAcmV0dXJucyBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHRvb2wgdGhhdCByZXByZXNlbnRzIHRoZSBoYW5kb2ZmXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRIYW5kb2ZmVG9vbERlc2NyaXB0aW9uKGFnZW50KSB7XG4gICAgcmV0dXJuIGBIYW5kb2ZmIHRvIHRoZSAke2FnZW50Lm5hbWV9IGFnZW50IHRvIGhhbmRsZSB0aGUgcmVxdWVzdC4gJHthZ2VudC5oYW5kb2ZmRGVzY3JpcHRpb24gPz8gJyd9YDtcbn1cbmV4cG9ydCBjbGFzcyBIYW5kb2ZmIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHJlcHJlc2VudHMgdGhlIGhhbmRvZmYuXG4gICAgICovXG4gICAgdG9vbE5hbWU7XG4gICAgLyoqXG4gICAgICogVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZi5cbiAgICAgKi9cbiAgICB0b29sRGVzY3JpcHRpb247XG4gICAgLyoqXG4gICAgICogVGhlIEpTT04gc2NoZW1hIGZvciB0aGUgaGFuZG9mZiBpbnB1dC4gQ2FuIGJlIGVtcHR5IGlmIHRoZSBoYW5kb2ZmIGRvZXMgbm90IHRha2UgYW4gaW5wdXRcbiAgICAgKi9cbiAgICBpbnB1dEpzb25TY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgcmVxdWlyZWQ6IFtdLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBpbnB1dCBKU09OIHNjaGVtYSBpcyBpbiBzdHJpY3QgbW9kZS4gV2UgKipzdHJvbmdseSoqIHJlY29tbWVuZCBzZXR0aW5nIHRoaXMgdG9cbiAgICAgKiB0cnVlLCBhcyBpdCBpbmNyZWFzZXMgdGhlIGxpa2VsaWhvb2Qgb2YgY29ycmVjdCBKU09OIGlucHV0LlxuICAgICAqL1xuICAgIHN0cmljdEpzb25TY2hlbWEgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIGhhbmRvZmYuIFRoZSBwYXJhbWV0ZXJzIHBhc3NlZCBhcmU6XG4gICAgICogMS4gVGhlIGhhbmRvZmYgcnVuIGNvbnRleHRcbiAgICAgKiAyLiBUaGUgYXJndW1lbnRzIGZyb20gdGhlIExMTSwgYXMgYSBKU09OIHN0cmluZy4gRW1wdHkgc3RyaW5nIGlmIGlucHV0SnNvblNjaGVtYSBpcyBlbXB0eS5cbiAgICAgKlxuICAgICAqIE11c3QgcmV0dXJuIGFuIGFnZW50XG4gICAgICovXG4gICAgb25JbnZva2VIYW5kb2ZmO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBhZ2VudCB0aGF0IGlzIGJlaW5nIGhhbmRlZCBvZmYgdG8uXG4gICAgICovXG4gICAgYWdlbnROYW1lO1xuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBmaWx0ZXJzIHRoZSBpbnB1dHMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoZSBuZXh0IGFnZW50LiBCeSBkZWZhdWx0LCB0aGUgbmV3IGFnZW50XG4gICAgICogc2VlcyB0aGUgZW50aXJlIGNvbnZlcnNhdGlvbiBoaXN0b3J5LiBJbiBzb21lIGNhc2VzLCB5b3UgbWF5IHdhbnQgdG8gZmlsdGVyIGlucHV0cyBlLmcuIHRvXG4gICAgICogcmVtb3ZlIG9sZGVyIGlucHV0cywgb3IgcmVtb3ZlIHRvb2xzIGZyb20gZXhpc3RpbmcgaW5wdXRzLlxuICAgICAqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSB0aGUgZW50aXJlIGNvbnZlcnNhdGlvbiBoaXNzdG9yeSBzbyBmYXIsIGluY2x1ZGluZyB0aGUgaW5wdXQgaXRlbVxuICAgICAqIHRoYXQgdHJpZ2dlcmVkIHRoZSBoYW5kb2ZmIGFuZCBhIHRvb2wgY2FsbCBvdXRwdXQgaXRlbSByZXByZXNlbnRpbmcgdGhlIGhhbmRvZmYgdG9vbCdzIG91dHB1dC5cbiAgICAgKlxuICAgICAqIFlvdSBhcmUgZnJlZSB0byBtb2RpZnkgdGhlIGlucHV0IGhpc3Rvcnkgb3IgbmV3IGl0ZW1zIGFzIHlvdSBzZWUgZml0LiBUaGUgbmV4dCBhZ2VudCB0aGF0IHJ1bnNcbiAgICAgKiB3aWxsIHJlY2VpdmUgYGhhbmRvZmZJbnB1dERhdGEuYWxsSXRlbXNcbiAgICAgKi9cbiAgICBpbnB1dEZpbHRlcjtcbiAgICAvKipcbiAgICAgKiBUaGUgYWdlbnQgdGhhdCBpcyBiZWluZyBoYW5kZWQgb2ZmIHRvLlxuICAgICAqL1xuICAgIGFnZW50O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0b29sIGRlZmluaXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBpbnZva2UgdGhlIGhhbmRvZmYuXG4gICAgICovXG4gICAgZ2V0SGFuZG9mZkFzRnVuY3Rpb25Ub29sKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMudG9vbE5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy50b29sRGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB0aGlzLmlucHV0SnNvblNjaGVtYSxcbiAgICAgICAgICAgIHN0cmljdDogdGhpcy5zdHJpY3RKc29uU2NoZW1hLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpc0VuYWJsZWQgPSBhc3luYyAoKSA9PiB0cnVlO1xuICAgIGNvbnN0cnVjdG9yKGFnZW50LCBvbkludm9rZUhhbmRvZmYpIHtcbiAgICAgICAgdGhpcy5hZ2VudE5hbWUgPSBhZ2VudC5uYW1lO1xuICAgICAgICB0aGlzLm9uSW52b2tlSGFuZG9mZiA9IG9uSW52b2tlSGFuZG9mZjtcbiAgICAgICAgdGhpcy50b29sTmFtZSA9IGRlZmF1bHRIYW5kb2ZmVG9vbE5hbWUoYWdlbnQpO1xuICAgICAgICB0aGlzLnRvb2xEZXNjcmlwdGlvbiA9IGRlZmF1bHRIYW5kb2ZmVG9vbERlc2NyaXB0aW9uKGFnZW50KTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIGhhbmRvZmYgZnJvbSBhbiBhZ2VudC4gSGFuZG9mZnMgYXJlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCB3aGVuIHlvdSBwYXNzIGFuIGFnZW50XG4gKiBpbnRvIHRoZSBgaGFuZG9mZnNgIG9wdGlvbiBvZiB0aGUgYEFnZW50YCBjb25zdHJ1Y3Rvci4gQWx0ZXJuYXRpdmVseSwgeW91IGNhbiB1c2UgdGhpcyBmdW5jdGlvblxuICogdG8gY3JlYXRlIGEgaGFuZG9mZiBtYW51YWxseSwgZ2l2aW5nIHlvdSBtb3JlIGNvbnRyb2wgb3ZlciBjb25maWd1cmF0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUQ29udGV4dCBUaGUgY29udGV4dCBvZiB0aGUgaGFuZG9mZlxuICogQHRlbXBsYXRlIFRPdXRwdXQgVGhlIG91dHB1dCB0eXBlIG9mIHRoZSBoYW5kb2ZmXG4gKiBAdGVtcGxhdGUgVElucHV0VHlwZSBUaGUgaW5wdXQgdHlwZSBvZiB0aGUgaGFuZG9mZlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZG9mZihhZ2VudCwgY29uZmlnID0ge30pIHtcbiAgICBsZXQgcGFyc2VyID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGhhc09uSGFuZG9mZiA9ICEhY29uZmlnLm9uSGFuZG9mZjtcbiAgICBjb25zdCBoYXNJbnB1dFR5cGUgPSAhIWNvbmZpZy5pbnB1dFR5cGU7XG4gICAgY29uc3QgaGFzQm90aE9yTmVpdGhlckhhbmRvZmZBbmRJbnB1dFR5cGUgPSBoYXNPbkhhbmRvZmYgPT09IGhhc0lucHV0VHlwZTtcbiAgICBpZiAoIWhhc0JvdGhPck5laXRoZXJIYW5kb2ZmQW5kSW5wdXRUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1lvdSBtdXN0IHByb3ZpZGUgZWl0aGVyIGJvdGggYG9uSGFuZG9mZmAgYW5kIGBpbnB1dFR5cGVgIG9yIG5laXRoZXIuJyk7XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIG9uSW52b2tlSGFuZG9mZihjb250ZXh0LCBpbnB1dEpzb25TdHJpbmcpIHtcbiAgICAgICAgaWYgKHBhcnNlcikge1xuICAgICAgICAgICAgaWYgKCFpbnB1dEpzb25TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgSGFuZG9mZiBmdW5jdGlvbiBleHBlY3RlZCBub24gZW1wdHkgaW5wdXQgYnV0IGdvdDogJHtpbnB1dEpzb25TdHJpbmd9YCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYGlucHV0IGlzIGVtcHR5YCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdIYW5kb2ZmIGZ1bmN0aW9uIGV4cGVjdGVkIG5vbiBlbXB0eSBpbnB1dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgdGhhdCBpdCdzIHZhbGlkIGlucHV0IGJ1dCB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBwYXJzZXIoaW5wdXRKc29uU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm9uSGFuZG9mZikge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb25maWcub25IYW5kb2ZmKGNvbnRleHQsIHBhcnNlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEludmFsaWQgSlNPTiBwcm92aWRlZGAsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghbG9nZ2VyLmRvbnRMb2dUb29sRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYEludmFsaWQgSlNPTiB3aGVuIHBhcnNpbmc6ICR7aW5wdXRKc29uU3RyaW5nfS4gRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ0ludmFsaWQgSlNPTiBwcm92aWRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgY29uZmlnLm9uSGFuZG9mZj8uKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgY29uc3QgaGFuZG9mZiA9IG5ldyBIYW5kb2ZmKGFnZW50LCBvbkludm9rZUhhbmRvZmYpO1xuICAgIGlmICh0eXBlb2YgY29uZmlnLmlzRW5hYmxlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zdCBwcmVkaWNhdGUgPSBjb25maWcuaXNFbmFibGVkO1xuICAgICAgICBoYW5kb2ZmLmlzRW5hYmxlZCA9IGFzeW5jICh7IHJ1bkNvbnRleHQsIGFnZW50IH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByZWRpY2F0ZSh7IHJ1bkNvbnRleHQsIGFnZW50IH0pO1xuICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4ocmVzdWx0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvbmZpZy5pc0VuYWJsZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICBoYW5kb2ZmLmlzRW5hYmxlZCA9IGFzeW5jICgpID0+IGNvbmZpZy5pc0VuYWJsZWQ7XG4gICAgfVxuICAgIGlmIChjb25maWcuaW5wdXRUeXBlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUoY29uZmlnLmlucHV0VHlwZSwgaGFuZG9mZi50b29sTmFtZSk7XG4gICAgICAgIGhhbmRvZmYuaW5wdXRKc29uU2NoZW1hID0gcmVzdWx0LnNjaGVtYTtcbiAgICAgICAgaGFuZG9mZi5zdHJpY3RKc29uU2NoZW1hID0gdHJ1ZTtcbiAgICAgICAgcGFyc2VyID0gcmVzdWx0LnBhcnNlcjtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy50b29sTmFtZU92ZXJyaWRlKSB7XG4gICAgICAgIGhhbmRvZmYudG9vbE5hbWUgPSBjb25maWcudG9vbE5hbWVPdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy50b29sRGVzY3JpcHRpb25PdmVycmlkZSkge1xuICAgICAgICBoYW5kb2ZmLnRvb2xEZXNjcmlwdGlvbiA9IGNvbmZpZy50b29sRGVzY3JpcHRpb25PdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5pbnB1dEZpbHRlcikge1xuICAgICAgICBoYW5kb2ZmLmlucHV0RmlsdGVyID0gY29uZmlnLmlucHV0RmlsdGVyO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZG9mZjtcbn1cbi8qKlxuICogUmV0dXJucyBhIGhhbmRvZmYgZm9yIHRoZSBnaXZlbiBhZ2VudC4gSWYgdGhlIGFnZW50IGlzIGFscmVhZHkgd3JhcHBlZCBpbnRvIGEgaGFuZG9mZixcbiAqIGl0IHdpbGwgYmUgcmV0dXJuZWQgYXMgaXMuIE90aGVyd2lzZSwgYSBuZXcgaGFuZG9mZiBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWQuXG4gKlxuICogQHRlbXBsYXRlIFRDb250ZXh0IFRoZSBjb250ZXh0IG9mIHRoZSBoYW5kb2ZmXG4gKiBAdGVtcGxhdGUgVE91dHB1dCBUaGUgb3V0cHV0IHR5cGUgb2YgdGhlIGhhbmRvZmZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhhbmRvZmYoYWdlbnQpIHtcbiAgICBpZiAoYWdlbnQgaW5zdGFuY2VvZiBIYW5kb2ZmKSB7XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRvZmYoYWdlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFuZG9mZi5tanMubWFwIiwiLyoqXG4gKiBHZXQgdGhlIGxhc3QgdGV4dCBmcm9tIHRoZSBvdXRwdXQgbWVzc2FnZS5cbiAqIEBwYXJhbSBvdXRwdXRNZXNzYWdlXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZShvdXRwdXRNZXNzYWdlKSB7XG4gICAgaWYgKG91dHB1dE1lc3NhZ2UudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChvdXRwdXRNZXNzYWdlLnJvbGUgIT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGxhc3RJdGVtID0gb3V0cHV0TWVzc2FnZS5jb250ZW50W291dHB1dE1lc3NhZ2UuY29udGVudC5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdEl0ZW0udHlwZSAhPT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbGFzdEl0ZW0udGV4dDtcbn1cbi8qKlxuICogR2V0IHRoZSBsYXN0IHRleHQgZnJvbSB0aGUgb3V0cHV0IG1lc3NhZ2UuXG4gKiBAcGFyYW0gb3V0cHV0XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T3V0cHV0VGV4dChvdXRwdXQpIHtcbiAgICBpZiAob3V0cHV0Lm91dHB1dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gKGdldExhc3RUZXh0RnJvbU91dHB1dE1lc3NhZ2Uob3V0cHV0Lm91dHB1dFtvdXRwdXQub3V0cHV0Lmxlbmd0aCAtIDFdKSB8fCAnJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlcy5tanMubWFwIiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBBZ2VudEhvb2tzIH0gZnJvbSBcIi4vbGlmZWN5Y2xlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0QWxsTWNwVG9vbHMgfSBmcm9tIFwiLi9tY3AubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0TW9kZWxTZXR0aW5ncywgZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQsIGlzR3B0NURlZmF1bHQsIH0gZnJvbSBcIi4vZGVmYXVsdE1vZGVsLm1qc1wiO1xuaW1wb3J0IHsgdG9vbCwgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuaW1wb3J0IHsgZ2V0SGFuZG9mZiB9IGZyb20gXCIuL2hhbmRvZmYubWpzXCI7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tIFwiLi9ydW4ubWpzXCI7XG5pbXBvcnQgeyB0b0Z1bmN0aW9uVG9vbE5hbWUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdldE91dHB1dFRleHQgfSBmcm9tIFwiLi91dGlscy9tZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IGlzQWdlbnRUb29sSW5wdXQgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbi8vIFBlci1wcm9jZXNzLCBlcGhlbWVyYWwgbWFwIGxpbmtpbmcgYSBmdW5jdGlvbiB0b29sIGNhbGwgdG8gaXRzIG5lc3RlZFxuLy8gQWdlbnQgcnVuIHJlc3VsdCB3aXRoaW4gdGhlIHNhbWUgcnVuOyBlbnRyeSBpcyByZW1vdmVkIGFmdGVyIGNvbnN1bXB0aW9uLlxuY29uc3QgYWdlbnRUb29sUnVuUmVzdWx0cyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gc2F2ZUFnZW50VG9vbFJ1blJlc3VsdCh0b29sQ2FsbCwgcnVuUmVzdWx0KSB7XG4gICAgaWYgKHRvb2xDYWxsKSB7XG4gICAgICAgIGFnZW50VG9vbFJ1blJlc3VsdHMuc2V0KHRvb2xDYWxsLCBydW5SZXN1bHQpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25zdW1lQWdlbnRUb29sUnVuUmVzdWx0KHRvb2xDYWxsKSB7XG4gICAgY29uc3QgcnVuUmVzdWx0ID0gYWdlbnRUb29sUnVuUmVzdWx0cy5nZXQodG9vbENhbGwpO1xuICAgIGlmIChydW5SZXN1bHQpIHtcbiAgICAgICAgYWdlbnRUb29sUnVuUmVzdWx0cy5kZWxldGUodG9vbENhbGwpO1xuICAgIH1cbiAgICByZXR1cm4gcnVuUmVzdWx0O1xufVxuLy8gVGhlIHBhcmFtZXRlciB0eXBlIGZvIG5lZWRBcHByb3ZhbCBmdW5jdGlvbiBmb3IgdGhlIHRvb2wgY3JlYXRlZCBieSBBZ2VudC5hc1Rvb2woKSBtZXRob2RcbmNvbnN0IEFnZW50QXNUb29sTmVlZEFwcHJvdmFsU2NoYW1lID0gei5vYmplY3QoeyBpbnB1dDogei5zdHJpbmcoKSB9KTtcbi8qKlxuICogVGhlIGNsYXNzIHJlcHJlc2VudGluZyBhbiBBSSBhZ2VudCBjb25maWd1cmVkIHdpdGggaW5zdHJ1Y3Rpb25zLCB0b29scywgZ3VhcmRyYWlscywgaGFuZG9mZnMgYW5kIG1vcmUuXG4gKlxuICogV2Ugc3Ryb25nbHkgcmVjb21tZW5kIHBhc3NpbmcgYGluc3RydWN0aW9uc2AsIHdoaWNoIGlzIHRoZSBcInN5c3RlbSBwcm9tcHRcIiBmb3IgdGhlIGFnZW50LiBJblxuICogYWRkaXRpb24sIHlvdSBjYW4gcGFzcyBgaGFuZG9mZkRlc2NyaXB0aW9uYCwgd2hpY2ggaXMgYSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGVcbiAqIGFnZW50LCB1c2VkIHdoZW4gdGhlIGFnZW50IGlzIHVzZWQgaW5zaWRlIHRvb2xzL2hhbmRvZmZzLlxuICpcbiAqIEFnZW50cyBhcmUgZ2VuZXJpYyBvbiB0aGUgY29udGV4dCB0eXBlLiBUaGUgY29udGV4dCBpcyBhIChtdXRhYmxlKSBvYmplY3QgeW91IGNyZWF0ZS4gSXQgaXNcbiAqIHBhc3NlZCB0byB0b29sIGZ1bmN0aW9ucywgaGFuZG9mZnMsIGd1YXJkcmFpbHMsIGV0Yy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50IGV4dGVuZHMgQWdlbnRIb29rcyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIEFnZW50IHdpdGggaGFuZG9mZnMgYW5kIGF1dG9tYXRpY2FsbHkgaW5mZXIgdGhlIHVuaW9uIHR5cGUgZm9yIFRPdXRwdXQgZnJvbSB0aGUgaGFuZG9mZiBhZ2VudHMnIG91dHB1dCB0eXBlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IEFnZW50KHtcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgIGhhbmRvZmZzOiBjb25maWcuaGFuZG9mZnMsXG4gICAgICAgICAgICBvdXRwdXRUeXBlOiBjb25maWcub3V0cHV0VHlwZSxcbiAgICAgICAgICAgIGhhbmRvZmZPdXRwdXRUeXBlV2FybmluZ0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIERFRkFVTFRfTU9ERUxfUExBQ0VIT0xERVIgPSAnJztcbiAgICBuYW1lO1xuICAgIGluc3RydWN0aW9ucztcbiAgICBwcm9tcHQ7XG4gICAgaGFuZG9mZkRlc2NyaXB0aW9uO1xuICAgIGhhbmRvZmZzO1xuICAgIG1vZGVsO1xuICAgIG1vZGVsU2V0dGluZ3M7XG4gICAgdG9vbHM7XG4gICAgbWNwU2VydmVycztcbiAgICBpbnB1dEd1YXJkcmFpbHM7XG4gICAgb3V0cHV0R3VhcmRyYWlscztcbiAgICBvdXRwdXRUeXBlID0gJ3RleHQnO1xuICAgIHRvb2xVc2VCZWhhdmlvcjtcbiAgICByZXNldFRvb2xDaG9pY2U7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm5hbWUgIT09ICdzdHJpbmcnIHx8IGNvbmZpZy5uYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ0FnZW50IG11c3QgaGF2ZSBhIG5hbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gY29uZmlnLm5hbWU7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gY29uZmlnLmluc3RydWN0aW9ucyA/PyBBZ2VudC5ERUZBVUxUX01PREVMX1BMQUNFSE9MREVSO1xuICAgICAgICB0aGlzLnByb21wdCA9IGNvbmZpZy5wcm9tcHQ7XG4gICAgICAgIHRoaXMuaGFuZG9mZkRlc2NyaXB0aW9uID0gY29uZmlnLmhhbmRvZmZEZXNjcmlwdGlvbiA/PyAnJztcbiAgICAgICAgdGhpcy5oYW5kb2ZmcyA9IGNvbmZpZy5oYW5kb2ZmcyA/PyBbXTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IGNvbmZpZy5tb2RlbCA/PyAnJztcbiAgICAgICAgdGhpcy5tb2RlbFNldHRpbmdzID0gY29uZmlnLm1vZGVsU2V0dGluZ3MgPz8gZ2V0RGVmYXVsdE1vZGVsU2V0dGluZ3MoKTtcbiAgICAgICAgdGhpcy50b29scyA9IGNvbmZpZy50b29scyA/PyBbXTtcbiAgICAgICAgdGhpcy5tY3BTZXJ2ZXJzID0gY29uZmlnLm1jcFNlcnZlcnMgPz8gW107XG4gICAgICAgIHRoaXMuaW5wdXRHdWFyZHJhaWxzID0gY29uZmlnLmlucHV0R3VhcmRyYWlscyA/PyBbXTtcbiAgICAgICAgdGhpcy5vdXRwdXRHdWFyZHJhaWxzID0gY29uZmlnLm91dHB1dEd1YXJkcmFpbHMgPz8gW107XG4gICAgICAgIGlmIChjb25maWcub3V0cHV0VHlwZSkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRUeXBlID0gY29uZmlnLm91dHB1dFR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b29sVXNlQmVoYXZpb3IgPSBjb25maWcudG9vbFVzZUJlaGF2aW9yID8/ICdydW5fbGxtX2FnYWluJztcbiAgICAgICAgdGhpcy5yZXNldFRvb2xDaG9pY2UgPSBjb25maWcucmVzZXRUb29sQ2hvaWNlID8/IHRydWU7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gVGhlIHVzZXIgc2V0cyBhIG5vbi1kZWZhdWx0IG1vZGVsXG4gICAgICAgIGNvbmZpZy5tb2RlbCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBtb2RlbCBpcyBncHQtNVxuICAgICAgICAgICAgaXNHcHQ1RGVmYXVsdCgpICYmXG4gICAgICAgICAgICAvLyBIb3dldmVyLCB0aGUgc3BlY2lmaWVkIG1vZGVsIGlzIG5vdCBhIGdwdC01IG1vZGVsXG4gICAgICAgICAgICAodHlwZW9mIGNvbmZpZy5tb2RlbCAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgICAgICAhZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQoY29uZmlnLm1vZGVsKSkgJiZcbiAgICAgICAgICAgIC8vIFRoZSBtb2RlbCBzZXR0aW5ncyBhcmUgbm90IGN1c3RvbWl6ZWQgZm9yIHRoZSBzcGVjaWZpZWQgbW9kZWxcbiAgICAgICAgICAgIGNvbmZpZy5tb2RlbFNldHRpbmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEluIHRoaXMgc2NlbmFyaW8sIHdlIHNob3VsZCB1c2UgYSBnZW5lcmljIG1vZGVsIHNldHRpbmdzXG4gICAgICAgICAgICAvLyBiZWNhdXNlIG5vbi1ncHQtNSBtb2RlbHMgYXJlIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIGRlZmF1bHQgZ3B0LTUgbW9kZWwgc2V0dGluZ3MuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgYmVzdC1lZmZvcnQgYXR0ZW1wdCB0byBtYWtlIHRoZSBhZ2VudCB3b3JrIHdpdGggbm9uLWdwdC01IG1vZGVscy5cbiAgICAgICAgICAgIHRoaXMubW9kZWxTZXR0aW5ncyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIC0tLSBSdW50aW1lIHdhcm5pbmcgZm9yIGhhbmRvZmYgb3V0cHV0IHR5cGUgY29tcGF0aWJpbGl0eSAtLS1cbiAgICAgICAgaWYgKGNvbmZpZy5oYW5kb2ZmT3V0cHV0VHlwZVdhcm5pbmdFbmFibGVkID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGNvbmZpZy5oYW5kb2ZmT3V0cHV0VHlwZVdhcm5pbmdFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYW5kb2ZmcyAmJiB0aGlzLm91dHB1dFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRUeXBlcyA9IG5ldyBTZXQoW0pTT04uc3RyaW5naWZ5KHRoaXMub3V0cHV0VHlwZSldKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGggb2YgdGhpcy5oYW5kb2Zmcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJ291dHB1dFR5cGUnIGluIGggJiYgaC5vdXRwdXRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUeXBlcy5hZGQoSlNPTi5zdHJpbmdpZnkoaC5vdXRwdXRUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoJ2FnZW50JyBpbiBoICYmIGguYWdlbnQub3V0cHV0VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VHlwZXMuYWRkKEpTT04uc3RyaW5naWZ5KGguYWdlbnQub3V0cHV0VHlwZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXRUeXBlcy5zaXplID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihgW0FnZW50XSBXYXJuaW5nOiBIYW5kb2ZmIGFnZW50cyBoYXZlIGRpZmZlcmVudCBvdXRwdXQgdHlwZXM6ICR7QXJyYXkuZnJvbShvdXRwdXRUeXBlcykuam9pbignLCAnKX0uIFlvdSBjYW4gbWFrZSBpdCB0eXBlLXNhZmUgYnkgdXNpbmcgQWdlbnQuY3JlYXRlKHsgLi4uIH0pIG1ldGhvZCBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdXRwdXQgc2NoZW1hIG5hbWUuXG4gICAgICovXG4gICAgZ2V0IG91dHB1dFNjaGVtYU5hbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuICd0ZXh0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1pvZE9iamVjdCh0aGlzLm91dHB1dFR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1pvZE91dHB1dCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRoaXMub3V0cHV0VHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm91dHB1dFR5cGUubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0IHR5cGU6ICR7dGhpcy5vdXRwdXRUeXBlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIGNvcHkgb2YgdGhlIGFnZW50LCB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHMgY2hhbmdlZC4gRm9yIGV4YW1wbGUsIHlvdSBjb3VsZCBkbzpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IG5ld0FnZW50ID0gYWdlbnQuY2xvbmUoeyBpbnN0cnVjdGlvbnM6ICdOZXcgaW5zdHJ1Y3Rpb25zJyB9KVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIEEgcGFydGlhbCBjb25maWd1cmF0aW9uIHRvIGNoYW5nZS5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBhZ2VudCB3aXRoIHRoZSBnaXZlbiBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGNsb25lKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IEFnZW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMsXG4gICAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gdGhpcyBhZ2VudCBpbnRvIGEgdG9vbCwgY2FsbGFibGUgYnkgb3RoZXIgYWdlbnRzLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBkaWZmZXJlbnQgZnJvbSBoYW5kb2ZmcyBpbiB0d28gd2F5czpcbiAgICAgKiAxLiBJbiBoYW5kb2ZmcywgdGhlIG5ldyBhZ2VudCByZWNlaXZlcyB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnkuIEluIHRoaXMgdG9vbCwgdGhlIG5ldyBhZ2VudFxuICAgICAqICAgIHJlY2VpdmVzIGdlbmVyYXRlZCBpbnB1dC5cbiAgICAgKiAyLiBJbiBoYW5kb2ZmcywgdGhlIG5ldyBhZ2VudCB0YWtlcyBvdmVyIHRoZSBjb252ZXJzYXRpb24uIEluIHRoaXMgdG9vbCwgdGhlIG5ldyBhZ2VudCBpc1xuICAgICAqICAgIGNhbGxlZCBhcyBhIHRvb2wsIGFuZCB0aGUgY29udmVyc2F0aW9uIGlzIGNvbnRpbnVlZCBieSB0aGUgb3JpZ2luYWwgYWdlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSB0b29sLlxuICAgICAqIEByZXR1cm5zIEEgdG9vbCB0aGF0IHJ1bnMgdGhlIGFnZW50IGFuZCByZXR1cm5zIHRoZSBvdXRwdXQgdGV4dC5cbiAgICAgKi9cbiAgICBhc1Rvb2wob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHRvb2xOYW1lLCB0b29sRGVzY3JpcHRpb24sIGN1c3RvbU91dHB1dEV4dHJhY3RvciwgbmVlZHNBcHByb3ZhbCwgcnVuQ29uZmlnLCBydW5PcHRpb25zLCBpc0VuYWJsZWQsIH0gPSBvcHRpb25zO1xuICAgICAgICByZXR1cm4gdG9vbCh7XG4gICAgICAgICAgICBuYW1lOiB0b29sTmFtZSA/PyB0b0Z1bmN0aW9uVG9vbE5hbWUodGhpcy5uYW1lKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0b29sRGVzY3JpcHRpb24gPz8gJycsXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiBBZ2VudEFzVG9vbE5lZWRBcHByb3ZhbFNjaGFtZSxcbiAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgIG5lZWRzQXBwcm92YWwsXG4gICAgICAgICAgICBpc0VuYWJsZWQsXG4gICAgICAgICAgICBleGVjdXRlOiBhc3luYyAoZGF0YSwgY29udGV4dCwgZGV0YWlscykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNBZ2VudFRvb2xJbnB1dChkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdBZ2VudCB0b29sIGNhbGxlZCB3aXRoIGludmFsaWQgaW5wdXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IFJ1bm5lcihydW5Db25maWcgPz8ge30pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJ1bm5lci5ydW4odGhpcywgZGF0YS5pbnB1dCwge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAuLi4ocnVuT3B0aW9ucyA/PyB7fSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlc1N0b3BBdFRvb2xOYW1lcyA9IHR5cGVvZiB0aGlzLnRvb2xVc2VCZWhhdmlvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sVXNlQmVoYXZpb3IgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgJ3N0b3BBdFRvb2xOYW1lcycgaW4gdGhpcy50b29sVXNlQmVoYXZpb3I7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXN0b21PdXRwdXRFeHRyYWN0b3IgIT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAgICAgdXNlc1N0b3BBdFRvb2xOYW1lcykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFlvdSdyZSBwYXNzaW5nIHRoZSBhZ2VudCAobmFtZTogJHt0aGlzLm5hbWV9KSB3aXRoIHRvb2xVc2VCZWhhdmlvci5zdG9wQXRUb29sTmFtZXMgY29uZmlndXJlZCBhcyBhIHRvb2wgdG8gYSBkaWZmZXJlbnQgYWdlbnQ7IHRoaXMgbWF5IG5vdCB3b3JrIGFzIHlvdSBleHBlY3QuIFlvdSBtYXkgd2FudCB0byBoYXZlIGEgd3JhcHBlciBmdW5jdGlvbiB0b29sIHRvIGNvbnNpc3RlbnRseSByZXR1cm4gdGhlIGZpbmFsIG91dHB1dC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0VGV4dCA9IHR5cGVvZiBjdXN0b21PdXRwdXRFeHRyYWN0b3IgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCBjdXN0b21PdXRwdXRFeHRyYWN0b3IocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICA6IGdldE91dHB1dFRleHQocmVzdWx0LnJhd1Jlc3BvbnNlc1tyZXN1bHQucmF3UmVzcG9uc2VzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWlscz8udG9vbENhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUFnZW50VG9vbFJ1blJlc3VsdChkZXRhaWxzLnRvb2xDYWxsLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0VGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzeXN0ZW0gcHJvbXB0IGZvciB0aGUgYWdlbnQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgYWdlbnQgaGFzIGEgZnVuY3Rpb24gYXMgaXRzIGluc3RydWN0aW9ucywgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgICAqIHJ1bkNvbnRleHQgYW5kIHRoZSBhZ2VudCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRTeXN0ZW1Qcm9tcHQocnVuQ29udGV4dCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuaW5zdHJ1Y3Rpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbnN0cnVjdGlvbnMocnVuQ29udGV4dCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdHJ1Y3Rpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9tcHQgdGVtcGxhdGUgZm9yIHRoZSBhZ2VudCwgaWYgZGVmaW5lZC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBhZ2VudCBoYXMgYSBmdW5jdGlvbiBhcyBpdHMgcHJvbXB0LCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAgICogcnVuQ29udGV4dCBhbmQgdGhlIGFnZW50IGluc3RhbmNlLlxuICAgICAqL1xuICAgIGFzeW5jIGdldFByb21wdChydW5Db250ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9tcHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb21wdChydW5Db250ZXh0LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm9tcHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGF2YWlsYWJsZSB0b29scyBmcm9tIHRoZSBNQ1Agc2VydmVycy5cbiAgICAgKiBAcmV0dXJucyB0aGUgTUNQIHBvd2VyZWQgdG9vbHNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRNY3BUb29scyhydW5Db250ZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLm1jcFNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEFsbE1jcFRvb2xzKHtcbiAgICAgICAgICAgICAgICBtY3BTZXJ2ZXJzOiB0aGlzLm1jcFNlcnZlcnMsXG4gICAgICAgICAgICAgICAgcnVuQ29udGV4dCxcbiAgICAgICAgICAgICAgICBhZ2VudDogdGhpcyxcbiAgICAgICAgICAgICAgICBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0OiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQUxsIGFnZW50IHRvb2xzLCBpbmNsdWRpbmcgdGhlIE1DUGwgYW5kIGZ1bmN0aW9uIHRvb2xzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYWxsIGNvbmZpZ3VyZWQgdG9vbHNcbiAgICAgKi9cbiAgICBhc3luYyBnZXRBbGxUb29scyhydW5Db250ZXh0KSB7XG4gICAgICAgIGNvbnN0IG1jcFRvb2xzID0gYXdhaXQgdGhpcy5nZXRNY3BUb29scyhydW5Db250ZXh0KTtcbiAgICAgICAgY29uc3QgZW5hYmxlZFRvb2xzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIHRoaXMudG9vbHMpIHtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heWJlSXNFbmFibGVkID0gY2FuZGlkYXRlLmlzRW5hYmxlZDtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmFibGVkID0gdHlwZW9mIG1heWJlSXNFbmFibGVkID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gYXdhaXQgbWF5YmVJc0VuYWJsZWQocnVuQ29udGV4dCwgdGhpcylcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2YgbWF5YmVJc0VuYWJsZWQgPT09ICdib29sZWFuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBtYXliZUlzRW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmFibGVkVG9vbHMucHVzaChjYW5kaWRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4ubWNwVG9vbHMsIC4uLmVuYWJsZWRUb29sc107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhhbmRvZmZzIHRoYXQgc2hvdWxkIGJlIGV4cG9zZWQgdG8gdGhlIG1vZGVsIGZvciB0aGUgY3VycmVudCBydW4uXG4gICAgICpcbiAgICAgKiBIYW5kb2ZmcyB0aGF0IHByb3ZpZGUgYW4gYGlzRW5hYmxlZGAgZnVuY3Rpb24gcmV0dXJuaW5nIGBmYWxzZWAgYXJlIG9taXR0ZWQuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0RW5hYmxlZEhhbmRvZmZzKHJ1bkNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgaGFuZG9mZnMgPSB0aGlzLmhhbmRvZmZzPy5tYXAoKGgpID0+IGdldEhhbmRvZmYoaCkpID8/IFtdO1xuICAgICAgICBjb25zdCBlbmFibGVkID0gW107XG4gICAgICAgIGZvciAoY29uc3QgaGFuZG9mZiBvZiBoYW5kb2Zmcykge1xuICAgICAgICAgICAgaWYgKGF3YWl0IGhhbmRvZmYuaXNFbmFibGVkKHsgcnVuQ29udGV4dCwgYWdlbnQ6IHRoaXMgfSkpIHtcbiAgICAgICAgICAgICAgICBlbmFibGVkLnB1c2goaGFuZG9mZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgZmluYWwgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXRwdXQgLSBUaGUgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKiBAcmV0dXJucyBUaGUgcGFyc2VkIG91dC5cbiAgICAgKi9cbiAgICBwcm9jZXNzRmluYWxPdXRwdXQob3V0cHV0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3V0cHV0VHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uob3V0cHV0KTtcbiAgICAgICAgICAgIGlmIChpc1pvZE9iamVjdCh0aGlzLm91dHB1dFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0VHlwZS5wYXJzZShwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0IHR5cGU6ICR7dGhpcy5vdXRwdXRUeXBlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgYWdlbnQsIHdoaWNoIGlzIHNlcmlhbGl6YWJsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgSlNPTiBvYmplY3QgY29udGFpbmluZyB0aGUgYWdlbnQncyBuYW1lLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZ2VudC5tanMubWFwIiwiLyoqXG4gKiBEZWZpbmVzIGFuIGlucHV0IGd1YXJkcmFpbCBkZWZpbml0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lSW5wdXRHdWFyZHJhaWwoeyBuYW1lLCBleGVjdXRlLCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2lucHV0JyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZ3VhcmRyYWlsRnVuY3Rpb246IGV4ZWN1dGUsXG4gICAgICAgIGFzeW5jIHJ1bihhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGd1YXJkcmFpbDogeyB0eXBlOiAnaW5wdXQnLCBuYW1lIH0sXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBhd2FpdCBleGVjdXRlKGFyZ3MpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIG91dHB1dCBndWFyZHJhaWwgZGVmaW5pdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZU91dHB1dEd1YXJkcmFpbCh7IG5hbWUsIGV4ZWN1dGUsIH0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnb3V0cHV0JyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZ3VhcmRyYWlsRnVuY3Rpb246IGV4ZWN1dGUsXG4gICAgICAgIGFzeW5jIHJ1bihhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGd1YXJkcmFpbDogeyB0eXBlOiAnb3V0cHV0JywgbmFtZSB9LFxuICAgICAgICAgICAgICAgIGFnZW50OiBhcmdzLmFnZW50LFxuICAgICAgICAgICAgICAgIGFnZW50T3V0cHV0OiBhcmdzLmFnZW50T3V0cHV0LFxuICAgICAgICAgICAgICAgIG91dHB1dDogYXdhaXQgZXhlY3V0ZShhcmdzKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWd1YXJkcmFpbC5tanMubWFwIiwibGV0IERFRkFVTFRfUFJPVklERVI7XG4vKipcbiAqIFNldCB0aGUgbW9kZWwgcHJvdmlkZXIgdXNlZCB3aGVuIG5vIGV4cGxpY2l0IHByb3ZpZGVyIGlzIHN1cHBsaWVkLlxuICpcbiAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byB1c2UgYnkgZGVmYXVsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRNb2RlbFByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgREVGQVVMVF9QUk9WSURFUiA9IHByb3ZpZGVyO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZWZhdWx0IG1vZGVsIHByb3ZpZGVyLlxuICpcbiAqIEByZXR1cm5zIFRoZSBkZWZhdWx0IG1vZGVsIHByb3ZpZGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIoKSB7XG4gICAgaWYgKHR5cGVvZiBERUZBVUxUX1BST1ZJREVSID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGRlZmF1bHQgbW9kZWwgcHJvdmlkZXIgc2V0LiBNYWtlIHN1cmUgdG8gc2V0IGEgcHJvdmlkZXIgdXNpbmcgc2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIgYmVmb3JlIGNhbGxpbmcgZ2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIgb3IgcGFzcyBhbiBleHBsaWNpdCBwcm92aWRlci4nKTtcbiAgICB9XG4gICAgcmV0dXJuIERFRkFVTFRfUFJPVklERVI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm92aWRlcnMubWpzLm1hcCIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU2hhcmVkIGJhc2UgdHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogRXZlcnkgaXRlbSBpbiB0aGUgcHJvdG9jb2wgcHJvdmlkZXMgYSBgcHJvdmlkZXJEYXRhYCBmaWVsZCB0byBhY2NvbW1vZGF0ZSBjdXN0b20gZnVuY3Rpb25hbGl0eVxuICogb3IgbmV3IGZpZWxkc1xuICovXG5leHBvcnQgY29uc3QgU2hhcmVkQmFzZSA9IHoub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBBZGRpdGlvbmFsIG9wdGlvbmFsIHByb3ZpZGVyIHNwZWNpZmljIGRhdGEuIFVzZWQgZm9yIGN1c3RvbSBmdW5jdGlvbmFsaXR5IG9yIG1vZGVsIHByb3ZpZGVyXG4gICAgICogc3BlY2lmaWMgZmllbGRzLlxuICAgICAqL1xuICAgIHByb3ZpZGVyRGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKSxcbn0pO1xuLyoqXG4gKiBFdmVyeSBpdGVtIGhhcyBhIHNoYXJlZCBvZiBzaGFyZWQgaXRlbSBkYXRhIGluY2x1ZGluZyBhbiBvcHRpb25hbCBJRC5cbiAqL1xuZXhwb3J0IGNvbnN0IEl0ZW1CYXNlID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEFuIElEIHRvIGlkZW50aWZ5IHRoZSBpdGVtLiBUaGlzIGlzIG9wdGlvbmFsIGJ5IGRlZmF1bHQuIElmIGEgbW9kZWwgcHJvdmlkZXIgYWJzb2x1dGVseVxuICAgICAqIHJlcXVpcmVzIHRoaXMgZmllbGQsIGl0IHdpbGwgYmUgdmFsaWRhdGVkIG9uIHRoZSBtb2RlbCBsZXZlbC5cbiAgICAgKi9cbiAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDb250ZW50IHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY29uc3QgUmVmdXNhbCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlZnVzYWwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgcmVmdXNhbCBleHBsYW5hdGlvbiBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICByZWZ1c2FsOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgT3V0cHV0VGV4dCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF90ZXh0JyksXG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgb3V0cHV0IGZyb20gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBJbnB1dFRleHQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF90ZXh0JyksXG4gICAgLyoqXG4gICAgICogQSB0ZXh0IGlucHV0IGZvciBleGFtcGxlIGEgbWVzc2FnZSBmcm9tIGEgdXNlclxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBSZWFzb25pbmdUZXh0ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nX3RleHQnKSxcbiAgICAvKipcbiAgICAgKiBBIHRleHQgaW5wdXQgZm9yIGV4YW1wbGUgYSBtZXNzYWdlIGZyb20gYSB1c2VyXG4gICAgICovXG4gICAgdGV4dDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IElucHV0SW1hZ2UgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9pbWFnZScpLFxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSBpbnB1dCB0byB0aGUgbW9kZWwuIENvdWxkIGJlIGEgVVJMLCBiYXNlNjQgb3IgYW4gb2JqZWN0IHdpdGggYSBmaWxlIElELlxuICAgICAqL1xuICAgIGltYWdlOiB6XG4gICAgICAgIC5zdHJpbmcoKVxuICAgICAgICAub3Ioei5vYmplY3Qoe1xuICAgICAgICBpZDogei5zdHJpbmcoKSxcbiAgICB9KSlcbiAgICAgICAgLmRlc2NyaWJlKCdDb3VsZCBiZSBhIFVSTCwgYmFzZTY0IG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC4nKSxcbn0pO1xuZXhwb3J0IGNvbnN0IElucHV0RmlsZSA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2ZpbGUnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgZmlsZSBpbnB1dCB0byB0aGUgbW9kZWwuIENvdWxkIGJlIGEgVVJMLCBiYXNlNjQgb3IgYW4gb2JqZWN0IHdpdGggYSBmaWxlIElELlxuICAgICAqL1xuICAgIGZpbGU6IHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5kZXNjcmliZSgnRWl0aGVyIGJhc2U2NCBlbmNvZGVkIGZpbGUgZGF0YSBvciBhIHB1YmxpY2x5IGFjY2Vzc2libGUgZmlsZSBVUkwnKVxuICAgICAgICAub3Ioei5vYmplY3Qoe1xuICAgICAgICBpZDogei5zdHJpbmcoKS5kZXNjcmliZSgnT3BlbkFJIGZpbGUgSUQnKSxcbiAgICB9KSlcbiAgICAgICAgLm9yKHoub2JqZWN0KHtcbiAgICAgICAgdXJsOiB6LnN0cmluZygpLmRlc2NyaWJlKCdQdWJsaWNseSBhY2Nlc3NpYmxlIFBERiBmaWxlIFVSTCcpLFxuICAgIH0pKVxuICAgICAgICAuZGVzY3JpYmUoJ0NvbnRlbnRzIG9mIHRoZSBmaWxlIG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC4nKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEF1ZGlvQ29udGVudCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2F1ZGlvJyksXG4gICAgLyoqXG4gICAgICogVGhlIGF1ZGlvIGlucHV0IHRvIHRoZSBtb2RlbC4gQ291bGQgYmUgYmFzZTY0IGVuY29kZWQgYXVkaW8gZGF0YSBvciBhbiBvYmplY3Qgd2l0aCBhIGZpbGUgSUQuXG4gICAgICovXG4gICAgYXVkaW86IHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5vcih6Lm9iamVjdCh7XG4gICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgIH0pKVxuICAgICAgICAuZGVzY3JpYmUoJ0Jhc2U2NCBlbmNvZGVkIGF1ZGlvIGRhdGEgb3IgZmlsZSBpZCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBmb3JtYXQgb2YgdGhlIGF1ZGlvLlxuICAgICAqL1xuICAgIGZvcm1hdDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zY3JpcHQgb2YgdGhlIGF1ZGlvLlxuICAgICAqL1xuICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgSW1hZ2VDb250ZW50ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW1hZ2UnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgaW5wdXQgdG8gdGhlIG1vZGVsLiBDb3VsZCBiZSBiYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhIG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC5cbiAgICAgKi9cbiAgICBpbWFnZTogei5zdHJpbmcoKS5kZXNjcmliZSgnQmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YScpLFxufSk7XG5leHBvcnQgY29uc3QgVG9vbE91dHB1dFRleHQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgb3V0cHV0IGZyb20gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBUb29sT3V0cHV0SW1hZ2UgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbWFnZScpLFxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSBkYXRhLiBDb3VsZCBiZSBiYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhIG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC5cbiAgICAgKi9cbiAgICBkYXRhOiB6LnN0cmluZygpLmRlc2NyaWJlKCdCYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhJyksXG4gICAgLyoqXG4gICAgICogVGhlIG1lZGlhIHR5cGUgb2YgdGhlIGltYWdlLlxuICAgICAqL1xuICAgIG1lZGlhVHlwZTogei5zdHJpbmcoKS5kZXNjcmliZSgnSUFOQSBtZWRpYSB0eXBlIG9mIHRoZSBpbWFnZScpLFxufSk7XG5leHBvcnQgY29uc3QgQ29tcHV0ZXJUb29sT3V0cHV0ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29tcHV0ZXJfc2NyZWVuc2hvdCcpLFxuICAgIC8qKlxuICAgICAqIEEgYmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YSBvciBhIFVSTCByZXByZXNlbnRpbmcgdGhlIHNjcmVlbnNob3QuXG4gICAgICovXG4gICAgZGF0YTogei5zdHJpbmcoKS5kZXNjcmliZSgnQmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YSBvciBVUkwnKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbXB1dGVyQWN0aW9ucyA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIHoub2JqZWN0KHsgdHlwZTogei5saXRlcmFsKCdzY3JlZW5zaG90JykgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2NsaWNrJyksXG4gICAgICAgIHg6IHoubnVtYmVyKCksXG4gICAgICAgIHk6IHoubnVtYmVyKCksXG4gICAgICAgIGJ1dHRvbjogei5lbnVtKFsnbGVmdCcsICdyaWdodCcsICd3aGVlbCcsICdiYWNrJywgJ2ZvcndhcmQnXSksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2RvdWJsZV9jbGljaycpLFxuICAgICAgICB4OiB6Lm51bWJlcigpLFxuICAgICAgICB5OiB6Lm51bWJlcigpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdzY3JvbGwnKSxcbiAgICAgICAgeDogei5udW1iZXIoKSxcbiAgICAgICAgeTogei5udW1iZXIoKSxcbiAgICAgICAgc2Nyb2xsX3g6IHoubnVtYmVyKCksXG4gICAgICAgIHNjcm9sbF95OiB6Lm51bWJlcigpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCd0eXBlJyksXG4gICAgICAgIHRleHQ6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ3dhaXQnKSB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbW92ZScpLFxuICAgICAgICB4OiB6Lm51bWJlcigpLFxuICAgICAgICB5OiB6Lm51bWJlcigpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdrZXlwcmVzcycpLFxuICAgICAgICBrZXlzOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdkcmFnJyksXG4gICAgICAgIHBhdGg6IHouYXJyYXkoei5vYmplY3QoeyB4OiB6Lm51bWJlcigpLCB5OiB6Lm51bWJlcigpIH0pKSxcbiAgICB9KSxcbl0pO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTWVzc2FnZSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IEFzc2lzdGFudENvbnRlbnQgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBPdXRwdXRUZXh0LFxuICAgIFJlZnVzYWwsXG4gICAgQXVkaW9Db250ZW50LFxuICAgIEltYWdlQ29udGVudCxcbl0pO1xuY29uc3QgTWVzc2FnZUJhc2UgPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEFueSBpdGVtIHdpdGhvdXQgYSB0eXBlIGlzIHRyZWF0ZWQgYXMgYSBtZXNzYWdlXG4gICAgICovXG4gICAgdHlwZTogei5saXRlcmFsKCdtZXNzYWdlJykub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc2lzdGFudE1lc3NhZ2VJdGVtID0gTWVzc2FnZUJhc2UuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRpbmcgYSBtZXNzYWdlIGZyb20gdGhlIGFzc2lzdGFudCAoaS5lLiB0aGUgbW9kZWwpXG4gICAgICovXG4gICAgcm9sZTogei5saXRlcmFsKCdhc3Npc3RhbnQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJywgJ2luY29tcGxldGUnXSksXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogei5hcnJheShBc3Npc3RhbnRDb250ZW50KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFVzZXJDb250ZW50ID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgSW5wdXRUZXh0LFxuICAgIElucHV0SW1hZ2UsXG4gICAgSW5wdXRGaWxlLFxuICAgIEF1ZGlvQ29udGVudCxcbl0pO1xuZXhwb3J0IGNvbnN0IFVzZXJNZXNzYWdlSXRlbSA9IE1lc3NhZ2VCYXNlLmV4dGVuZCh7XG4gICAgLy8gdHlwZTogei5saXRlcmFsKCdtZXNzYWdlJyksXG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50aW5nIGEgbWVzc2FnZSBmcm9tIHRoZSB1c2VyXG4gICAgICovXG4gICAgcm9sZTogei5saXRlcmFsKCd1c2VyJyksXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogei5hcnJheShVc2VyQ29udGVudCkub3Ioei5zdHJpbmcoKSksXG59KTtcbmNvbnN0IFN5c3RlbU1lc3NhZ2VJdGVtID0gTWVzc2FnZUJhc2UuZXh0ZW5kKHtcbiAgICAvLyB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKSxcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRpbmcgYSBzeXN0ZW0gbWVzc2FnZSB0byB0aGUgdXNlclxuICAgICAqL1xuICAgIHJvbGU6IHoubGl0ZXJhbCgnc3lzdGVtJyksXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IE1lc3NhZ2VJdGVtID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3JvbGUnLCBbXG4gICAgU3lzdGVtTWVzc2FnZUl0ZW0sXG4gICAgQXNzaXN0YW50TWVzc2FnZUl0ZW0sXG4gICAgVXNlck1lc3NhZ2VJdGVtLFxuXSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb29sIGNhbGwgdHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjb25zdCBIb3N0ZWRUb29sQ2FsbEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaG9zdGVkX3Rvb2xfY2FsbCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBob3N0ZWQgdG9vbC4gRm9yIGV4YW1wbGUgYHdlYl9zZWFyY2hfY2FsbGAgb3IgYGZpbGVfc2VhcmNoX2NhbGxgXG4gICAgICovXG4gICAgbmFtZTogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIG5hbWUgb2YgdGhlIGhvc3RlZCB0b29sJyksXG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyBvZiB0aGUgaG9zdGVkIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBhcmd1bWVudHM6IHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5kZXNjcmliZSgnVGhlIGFyZ3VtZW50cyBvZiB0aGUgaG9zdGVkIHRvb2wgY2FsbCcpXG4gICAgICAgIC5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0dXMgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBzdGF0dXM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgcHJpbWFyeSBvdXRwdXQgb2YgdGhlIHRvb2wgY2FsbC4gQWRkaXRpb25hbCBvdXRwdXQgbWlnaHQgYmUgaW4gdGhlIGBwcm92aWRlckRhdGFgIGZpZWxkLlxuICAgICAqL1xuICAgIG91dHB1dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgRnVuY3Rpb25DYWxsSXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdmdW5jdGlvbl9jYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIHRvb2wgY2FsbCByZXN1bHQuXG4gICAgICovXG4gICAgY2FsbElkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24nKSxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBmdW5jdGlvbiBjYWxsLlxuICAgICAqL1xuICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJywgJ2luY29tcGxldGUnXSkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbiBjYWxsLlxuICAgICAqL1xuICAgIGFyZ3VtZW50czogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZnVuY3Rpb25fY2FsbF9yZXN1bHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHdhcyBjYWxsZWRcbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgbmFtZSBvZiB0aGUgdG9vbCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsLiBSZXF1aXJlZCB0byBtYXRjaCB1cCB0aGUgcmVzcGVjdGl2ZSB0b29sIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSB0b29sIGNhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICAvKipcbiAgICAgKiBUaGUgb3V0cHV0IG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgb3V0cHV0OiB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtUb29sT3V0cHV0VGV4dCwgVG9vbE91dHB1dEltYWdlXSksXG59KTtcbmV4cG9ydCBjb25zdCBDb21wdXRlclVzZUNhbGxJdGVtID0gSXRlbUJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbXB1dGVyX2NhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIGNvbXB1dGVyIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSBjb21wdXRlciBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICAgKi9cbiAgICBzdGF0dXM6IHouZW51bShbJ2luX3Byb2dyZXNzJywgJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJ10pLFxuICAgIC8qKlxuICAgICAqIFRoZSBhY3Rpb24gdG8gYmUgcGVyZm9ybWVkIGJ5IHRoZSBjb21wdXRlci5cbiAgICAgKi9cbiAgICBhY3Rpb246IGNvbXB1dGVyQWN0aW9ucyxcbn0pO1xuZXhwb3J0IGNvbnN0IENvbXB1dGVyQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29tcHV0ZXJfY2FsbF9yZXN1bHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIGNvbXB1dGVyIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSBjb21wdXRlciBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dCBvZiB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICAgKi9cbiAgICBvdXRwdXQ6IENvbXB1dGVyVG9vbE91dHB1dCxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvb2xDYWxsSXRlbSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIENvbXB1dGVyVXNlQ2FsbEl0ZW0sXG4gICAgRnVuY3Rpb25DYWxsSXRlbSxcbiAgICBIb3N0ZWRUb29sQ2FsbEl0ZW0sXG5dKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFNwZWNpYWwgaXRlbSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFJlYXNvbmluZ0l0ZW0gPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZycpLFxuICAgIC8qKlxuICAgICAqIFRoZSB1c2VyIGZhY2luZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmVhc29uaW5nLiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIG1pZ2h0IGJlIGluIHRoZSBgcHJvdmlkZXJEYXRhYCBmaWVsZC5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LmFycmF5KElucHV0VGV4dCksXG4gICAgLyoqXG4gICAgICogVGhlIHJhdyByZWFzb25pbmcgdGV4dCBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICByYXdDb250ZW50OiB6LmFycmF5KFJlYXNvbmluZ1RleHQpLm9wdGlvbmFsKCksXG59KTtcbi8qKlxuICogVGhpcyBpcyBhIGNhdGNoIGFsbCBmb3IgaXRlbXMgdGhhdCBhcmUgbm90IHBhcnQgb2YgdGhlIHByb3RvY29sLlxuICpcbiAqIEZvciBleGFtcGxlLCBhIG1vZGVsIG1pZ2h0IHJldHVybiBhbiBpdGVtIHRoYXQgaXMgbm90IHBhcnQgb2YgdGhlIHByb3RvY29sIHVzaW5nIHRoaXMgdHlwZS5cbiAqXG4gKiBJbiB0aGF0IGNhc2UgZXZlcnl0aGluZyByZXR1cm5lZCBmcm9tIHRoZSBtb2RlbCBzaG91bGQgYmUgcGFzc2VkIGluIHRoZSBgcHJvdmlkZXJEYXRhYCBmaWVsZC5cbiAqXG4gKiBUaGlzIGVuYWJsZXMgbmV3IGZlYXR1cmVzIHRvIGJlIGFkZGVkIHRvIGJlIGFkZGVkIGJ5IGEgbW9kZWwgcHJvdmlkZXIgd2l0aG91dCBicmVha2luZyB0aGUgcHJvdG9jb2wuXG4gKi9cbmV4cG9ydCBjb25zdCBVbmtub3duSXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd1bmtub3duJyksXG59KTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpvaW5lZCBpdGVtIHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY29uc3QgT3V0cHV0TW9kZWxJdGVtID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgQXNzaXN0YW50TWVzc2FnZUl0ZW0sXG4gICAgSG9zdGVkVG9vbENhbGxJdGVtLFxuICAgIEZ1bmN0aW9uQ2FsbEl0ZW0sXG4gICAgQ29tcHV0ZXJVc2VDYWxsSXRlbSxcbiAgICBSZWFzb25pbmdJdGVtLFxuICAgIFVua25vd25JdGVtLFxuXSk7XG5leHBvcnQgY29uc3QgTW9kZWxJdGVtID0gei51bmlvbihbXG4gICAgVXNlck1lc3NhZ2VJdGVtLFxuICAgIEFzc2lzdGFudE1lc3NhZ2VJdGVtLFxuICAgIFN5c3RlbU1lc3NhZ2VJdGVtLFxuICAgIEhvc3RlZFRvb2xDYWxsSXRlbSxcbiAgICBGdW5jdGlvbkNhbGxJdGVtLFxuICAgIENvbXB1dGVyVXNlQ2FsbEl0ZW0sXG4gICAgRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSxcbiAgICBDb21wdXRlckNhbGxSZXN1bHRJdGVtLFxuICAgIFJlYXNvbmluZ0l0ZW0sXG4gICAgVW5rbm93bkl0ZW0sXG5dKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE1ldGEgZGF0YSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFVzYWdlRGF0YSA9IHoub2JqZWN0KHtcbiAgICByZXF1ZXN0czogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGlucHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIG91dHB1dFRva2Vuczogei5udW1iZXIoKSxcbiAgICB0b3RhbFRva2Vuczogei5udW1iZXIoKSxcbiAgICBpbnB1dFRva2Vuc0RldGFpbHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHoubnVtYmVyKCkpLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0VG9rZW5zRGV0YWlsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5udW1iZXIoKSkub3B0aW9uYWwoKSxcbn0pO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RyZWFtIGV2ZW50IHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIEV2ZW50IHJldHVybmVkIGJ5IHRoZSBtb2RlbCB3aGVuIG5ldyBvdXRwdXQgdGV4dCBpcyBhdmFpbGFibGUgdG8gc3RyZWFtIHRvIHRoZSB1c2VyLlxuICovXG5leHBvcnQgY29uc3QgU3RyZWFtRXZlbnRUZXh0U3RyZWFtID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnb3V0cHV0X3RleHRfZGVsdGEnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgZGVsdGEgdGV4dCB0aGF0IHdhcyBzdHJlYW1lZCBieSB0aGUgbW9kZWx0byB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbn0pO1xuLyoqXG4gKiBFdmVudCByZXR1cm5lZCBieSB0aGUgbW9kZWwgd2hlbiBhIG5ldyByZXNwb25zZSBpcyBzdGFydGVkLlxuICovXG5leHBvcnQgY29uc3QgU3RyZWFtRXZlbnRSZXNwb25zZVN0YXJ0ZWQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZV9zdGFydGVkJyksXG59KTtcbi8qKlxuICogRXZlbnQgcmV0dXJuZWQgYnkgdGhlIG1vZGVsIHdoZW4gYSByZXNwb25zZSBpcyBjb21wbGV0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudFJlc3BvbnNlQ29tcGxldGVkID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2VfZG9uZScpLFxuICAgIC8qKlxuICAgICAqIFRoZSByZXNwb25zZSBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICByZXNwb25zZTogU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSByZXNwb25zZS5cbiAgICAgICAgICovXG4gICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVzYWdlIGRhdGEgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICovXG4gICAgICAgIHVzYWdlOiBVc2FnZURhdGEsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3V0cHV0IGZyb20gdGhlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgb3V0cHV0OiB6LmFycmF5KE91dHB1dE1vZGVsSXRlbSksXG4gICAgfSksXG59KTtcbi8qKlxuICogRXZlbnQgcmV0dXJuZWQgZm9yIGV2ZXJ5IGl0ZW0gdGhhdCBnZXRzIHN0cmVhbWVkIHRvIHRoZSBtb2RlbC4gVXNlZCB0byBleHBvc2UgdGhlIHJhdyBldmVudHNcbiAqIGZyb20gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgY29uc3QgU3RyZWFtRXZlbnRHZW5lcmljSXRlbSA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21vZGVsJyksXG4gICAgZXZlbnQ6IHouYW55KCkuZGVzY3JpYmUoJ1RoZSBldmVudCBmcm9tIHRoZSBtb2RlbCcpLFxufSk7XG5leHBvcnQgY29uc3QgU3RyZWFtRXZlbnQgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBTdHJlYW1FdmVudFRleHRTdHJlYW0sXG4gICAgU3RyZWFtRXZlbnRSZXNwb25zZUNvbXBsZXRlZCxcbiAgICBTdHJlYW1FdmVudFJlc3BvbnNlU3RhcnRlZCxcbiAgICBTdHJlYW1FdmVudEdlbmVyaWNJdGVtLFxuXSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm90b2NvbC5tanMubWFwIiwiaW1wb3J0IHsgVXNhZ2VEYXRhIH0gZnJvbSBcIi4vdHlwZXMvcHJvdG9jb2wubWpzXCI7XG4vKipcbiAqIFRyYWNrcyB0b2tlbiB1c2FnZSBhbmQgcmVxdWVzdCBjb3VudHMgZm9yIGFuIGFnZW50IHJ1bi5cbiAqL1xuZXhwb3J0IGNsYXNzIFVzYWdlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHJlcXVlc3RzIG1hZGUgdG8gdGhlIExMTSBBUEkuXG4gICAgICovXG4gICAgcmVxdWVzdHM7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBpbnB1dCB0b2tlbnMgdXNlZCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIGlucHV0VG9rZW5zO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyB1c2VkIGFjcm9zcyBhbGwgcmVxdWVzdHMuXG4gICAgICovXG4gICAgb3V0cHV0VG9rZW5zO1xuICAgIC8qKlxuICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIHNlbnQgYW5kIHJlY2VpdmVkLCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIHRvdGFsVG9rZW5zO1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgYWJvdXQgdGhlIGlucHV0IHRva2VucyB1c2VkIGFjcm9zcyBhbGwgcmVxdWVzdHMuXG4gICAgICovXG4gICAgaW5wdXRUb2tlbnNEZXRhaWxzID0gW107XG4gICAgLyoqXG4gICAgICogRGV0YWlscyBhYm91dCB0aGUgb3V0cHV0IHRva2VucyB1c2VkIGFjcm9zcyBhbGwgcmVxdWVzdHMuXG4gICAgICovXG4gICAgb3V0cHV0VG9rZW5zRGV0YWlscyA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RzID0gMDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnMgPSAwO1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnMgPSAwO1xuICAgICAgICAgICAgdGhpcy50b3RhbFRva2VucyA9IDA7XG4gICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zRGV0YWlscyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnNEZXRhaWxzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RzID0gaW5wdXQ/LnJlcXVlc3RzID8/IDE7XG4gICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zID0gaW5wdXQ/LmlucHV0VG9rZW5zID8/IGlucHV0Py5pbnB1dF90b2tlbnMgPz8gMDtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0VG9rZW5zID0gaW5wdXQ/Lm91dHB1dFRva2VucyA/PyBpbnB1dD8ub3V0cHV0X3Rva2VucyA/PyAwO1xuICAgICAgICAgICAgdGhpcy50b3RhbFRva2VucyA9IGlucHV0Py50b3RhbFRva2VucyA/PyBpbnB1dD8udG90YWxfdG9rZW5zID8/IDA7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFRva2Vuc0RldGFpbHMgPSBpbnB1dD8uaW5wdXRUb2tlbnNEZXRhaWxzID8/IGlucHV0Py5pbnB1dF90b2tlbnNfZGV0YWlscztcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnNEZXRhaWxzID0gaW5wdXRUb2tlbnNEZXRhaWxzXG4gICAgICAgICAgICAgICAgPyBbaW5wdXRUb2tlbnNEZXRhaWxzXVxuICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgICAgICBjb25zdCBvdXRwdXRUb2tlbnNEZXRhaWxzID0gaW5wdXQ/Lm91dHB1dFRva2Vuc0RldGFpbHMgPz8gaW5wdXQ/Lm91dHB1dF90b2tlbnNfZGV0YWlscztcbiAgICAgICAgICAgIHRoaXMub3V0cHV0VG9rZW5zRGV0YWlscyA9IG91dHB1dFRva2Vuc0RldGFpbHNcbiAgICAgICAgICAgICAgICA/IFtvdXRwdXRUb2tlbnNEZXRhaWxzXVxuICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkKG5ld1VzYWdlKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdHMgKz0gbmV3VXNhZ2UucmVxdWVzdHM7XG4gICAgICAgIHRoaXMuaW5wdXRUb2tlbnMgKz0gbmV3VXNhZ2UuaW5wdXRUb2tlbnM7XG4gICAgICAgIHRoaXMub3V0cHV0VG9rZW5zICs9IG5ld1VzYWdlLm91dHB1dFRva2VucztcbiAgICAgICAgdGhpcy50b3RhbFRva2VucyArPSBuZXdVc2FnZS50b3RhbFRva2VucztcbiAgICAgICAgaWYgKG5ld1VzYWdlLmlucHV0VG9rZW5zRGV0YWlscykge1xuICAgICAgICAgICAgLy8gVGhlIHR5cGUgZG9lcyBub3QgYWxsb3cgdW5kZWZpbmVkLCBidXQgaXQgY291bGQgaGFwcGVuIHJ1bnRpbWVcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnNEZXRhaWxzLnB1c2goLi4ubmV3VXNhZ2UuaW5wdXRUb2tlbnNEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3VXNhZ2Uub3V0cHV0VG9rZW5zRGV0YWlscykge1xuICAgICAgICAgICAgLy8gVGhlIHR5cGUgZG9lcyBub3QgYWxsb3cgdW5kZWZpbmVkLCBidXQgaXQgY291bGQgaGFwcGVuIHJ1bnRpbWVcbiAgICAgICAgICAgIHRoaXMub3V0cHV0VG9rZW5zRGV0YWlscy5wdXNoKC4uLm5ld1VzYWdlLm91dHB1dFRva2Vuc0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IHsgVXNhZ2VEYXRhIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2FnZS5tanMubWFwIiwiaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBVc2FnZSB9IGZyb20gXCIuL3VzYWdlLm1qc1wiO1xuLyoqXG4gKiBBIGNvbnRleHQgb2JqZWN0IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBgUnVubmVyLnJ1bigpYCBtZXRob2QuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5Db250ZXh0IHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGV4dCBvYmplY3QgeW91IHBhc3NlZCB0byB0aGUgYFJ1bm5lci5ydW4oKWAgbWV0aG9kLlxuICAgICAqL1xuICAgIGNvbnRleHQ7XG4gICAgLyoqXG4gICAgICogVGhlIHVzYWdlIG9mIHRoZSBhZ2VudCBydW4gc28gZmFyLiBGb3Igc3RyZWFtZWQgcmVzcG9uc2VzLCB0aGUgdXNhZ2Ugd2lsbCBiZSBzdGFsZSB1bnRpbCB0aGVcbiAgICAgKiBsYXN0IGNodW5rIG9mIHRoZSBzdHJlYW0gaXMgcHJvY2Vzc2VkLlxuICAgICAqL1xuICAgIHVzYWdlO1xuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHRvb2wgbmFtZXMgdG8gd2hldGhlciB0aGV5IGhhdmUgYmVlbiBhcHByb3ZlZC5cbiAgICAgKi9cbiAgICAjYXBwcm92YWxzO1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQgPSB7fSkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnVzYWdlID0gbmV3IFVzYWdlKCk7XG4gICAgICAgIHRoaXMuI2FwcHJvdmFscyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVidWlsZCB0aGUgYXBwcm92YWxzIG1hcCBmcm9tIGEgc2VyaWFsaXplZCBzdGF0ZS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbHMgLSBUaGUgYXBwcm92YWxzIG1hcCB0byByZWJ1aWxkLlxuICAgICAqL1xuICAgIF9yZWJ1aWxkQXBwcm92YWxzKGFwcHJvdmFscykge1xuICAgICAgICB0aGlzLiNhcHByb3ZhbHMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGFwcHJvdmFscykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHRvb2wgY2FsbCBoYXMgYmVlbiBhcHByb3ZlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbCAtIERldGFpbHMgYWJvdXQgdGhlIHRvb2wgY2FsbCBiZWluZyBldmFsdWF0ZWQuXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSB0b29sIGNhbGwgaGFzIGJlZW4gYXBwcm92ZWQsIGBmYWxzZWAgaWYgYmxvY2tlZCBhbmQgYHVuZGVmaW5lZGAgaWYgbm90IHlldCBhcHByb3ZlZCBvciByZWplY3RlZC5cbiAgICAgKi9cbiAgICBpc1Rvb2xBcHByb3ZlZChhcHByb3ZhbCkge1xuICAgICAgICBjb25zdCB7IHRvb2xOYW1lLCBjYWxsSWQgfSA9IGFwcHJvdmFsO1xuICAgICAgICBjb25zdCBhcHByb3ZhbEVudHJ5ID0gdGhpcy4jYXBwcm92YWxzLmdldCh0b29sTmFtZSk7XG4gICAgICAgIGlmIChhcHByb3ZhbEVudHJ5Py5hcHByb3ZlZCA9PT0gdHJ1ZSAmJiBhcHByb3ZhbEVudHJ5LnJlamVjdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignVG9vbCBpcyBwZXJtYW5lbnRseSBhcHByb3ZlZCBhbmQgcmVqZWN0ZWQgYXQgdGhlIHNhbWUgdGltZS4gQXBwcm92YWwgdGFrZXMgcHJlY2VkZW5jZScpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcHJvdmFsRW50cnk/LmFwcHJvdmVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXBwcm92YWxFbnRyeT8ucmVqZWN0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRpdmlkdWFsQ2FsbEFwcHJvdmFsID0gQXJyYXkuaXNBcnJheShhcHByb3ZhbEVudHJ5Py5hcHByb3ZlZClcbiAgICAgICAgICAgID8gYXBwcm92YWxFbnRyeS5hcHByb3ZlZC5pbmNsdWRlcyhjYWxsSWQpXG4gICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICBjb25zdCBpbmRpdmlkdWFsQ2FsbFJlamVjdGlvbiA9IEFycmF5LmlzQXJyYXkoYXBwcm92YWxFbnRyeT8ucmVqZWN0ZWQpXG4gICAgICAgICAgICA/IGFwcHJvdmFsRW50cnkucmVqZWN0ZWQuaW5jbHVkZXMoY2FsbElkKVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgaWYgKGluZGl2aWR1YWxDYWxsQXBwcm92YWwgJiYgaW5kaXZpZHVhbENhbGxSZWplY3Rpb24pIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKGBUb29sIGNhbGwgJHtjYWxsSWR9IGlzIGJvdGggYXBwcm92ZWQgYW5kIHJlamVjdGVkIGF0IHRoZSBzYW1lIHRpbWUuIEFwcHJvdmFsIHRha2VzIHByZWNlZGVuY2VgKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRpdmlkdWFsQ2FsbEFwcHJvdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kaXZpZHVhbENhbGxSZWplY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHByb3ZlIGEgdG9vbCBjYWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSB0b29sIGFwcHJvdmFsIGl0ZW0gdG8gYXBwcm92ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgYXBwcm92YWwgYmVoYXZpb3Igb3B0aW9ucy5cbiAgICAgKi9cbiAgICBhcHByb3ZlVG9vbChhcHByb3ZhbEl0ZW0sIHsgYWx3YXlzQXBwcm92ZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICBjb25zdCB0b29sTmFtZSA9IGFwcHJvdmFsSXRlbS5yYXdJdGVtLm5hbWU7XG4gICAgICAgIGlmIChhbHdheXNBcHByb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLiNhcHByb3ZhbHMuc2V0KHRvb2xOYW1lLCB7XG4gICAgICAgICAgICAgICAgYXBwcm92ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVqZWN0ZWQ6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXBwcm92YWxFbnRyeSA9IHRoaXMuI2FwcHJvdmFscy5nZXQodG9vbE5hbWUpID8/IHtcbiAgICAgICAgICAgIGFwcHJvdmVkOiBbXSxcbiAgICAgICAgICAgIHJlamVjdGVkOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXBwcm92YWxFbnRyeS5hcHByb3ZlZCkpIHtcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uIHRvb2wgaGFzIGNhbGxfaWQsIGhvc3RlZCB0b29sIGNhbGwgaGFzIGlkXG4gICAgICAgICAgICBjb25zdCBjYWxsSWQgPSAnY2FsbElkJyBpbiBhcHByb3ZhbEl0ZW0ucmF3SXRlbVxuICAgICAgICAgICAgICAgID8gYXBwcm92YWxJdGVtLnJhd0l0ZW0uY2FsbElkIC8vIGZ1bmN0aW9uIHRvb2xzXG4gICAgICAgICAgICAgICAgOiBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5pZDsgLy8gaG9zdGVkIHRvb2xzXG4gICAgICAgICAgICBhcHByb3ZhbEVudHJ5LmFwcHJvdmVkLnB1c2goY2FsbElkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNhcHByb3ZhbHMuc2V0KHRvb2xOYW1lLCBhcHByb3ZhbEVudHJ5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVqZWN0IGEgdG9vbCBjYWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSB0b29sIGFwcHJvdmFsIGl0ZW0gdG8gcmVqZWN0LlxuICAgICAqL1xuICAgIHJlamVjdFRvb2woYXBwcm92YWxJdGVtLCB7IGFsd2F5c1JlamVjdCA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICBjb25zdCB0b29sTmFtZSA9IGFwcHJvdmFsSXRlbS5yYXdJdGVtLm5hbWU7XG4gICAgICAgIGlmIChhbHdheXNSZWplY3QpIHtcbiAgICAgICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVqZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHByb3ZhbEVudHJ5ID0gdGhpcy4jYXBwcm92YWxzLmdldCh0b29sTmFtZSkgPz8ge1xuICAgICAgICAgICAgYXBwcm92ZWQ6IFtdLFxuICAgICAgICAgICAgcmVqZWN0ZWQ6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcHByb3ZhbEVudHJ5LnJlamVjdGVkKSkge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gdG9vbCBoYXMgY2FsbF9pZCwgaG9zdGVkIHRvb2wgY2FsbCBoYXMgaWRcbiAgICAgICAgICAgIGNvbnN0IGNhbGxJZCA9ICdjYWxsSWQnIGluIGFwcHJvdmFsSXRlbS5yYXdJdGVtXG4gICAgICAgICAgICAgICAgPyBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5jYWxsSWQgLy8gZnVuY3Rpb24gdG9vbHNcbiAgICAgICAgICAgICAgICA6IGFwcHJvdmFsSXRlbS5yYXdJdGVtLmlkOyAvLyBob3N0ZWQgdG9vbHNcbiAgICAgICAgICAgIGFwcHJvdmFsRW50cnkucmVqZWN0ZWQucHVzaChjYWxsSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIGFwcHJvdmFsRW50cnkpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgICB1c2FnZTogdGhpcy51c2FnZSxcbiAgICAgICAgICAgIGFwcHJvdmFsczogT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuI2FwcHJvdmFscy5lbnRyaWVzKCkpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bkNvbnRleHQubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVUb29sKHRvb2wpIHtcbiAgICBpZiAodG9vbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB0b29sLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICBzdHJpY3Q6IHRvb2wuc3RyaWN0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodG9vbC50eXBlID09PSAnY29tcHV0ZXInKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnY29tcHV0ZXInLFxuICAgICAgICAgICAgbmFtZTogdG9vbC5uYW1lLFxuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IHRvb2wuY29tcHV0ZXIuZW52aXJvbm1lbnQsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiB0b29sLmNvbXB1dGVyLmRpbWVuc2lvbnMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbCcsXG4gICAgICAgIG5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgcHJvdmlkZXJEYXRhOiB0b29sLnByb3ZpZGVyRGF0YSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUhhbmRvZmYoaCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvb2xOYW1lOiBoLnRvb2xOYW1lLFxuICAgICAgICB0b29sRGVzY3JpcHRpb246IGgudG9vbERlc2NyaXB0aW9uLFxuICAgICAgICBpbnB1dEpzb25TY2hlbWE6IGguaW5wdXRKc29uU2NoZW1hLFxuICAgICAgICBzdHJpY3RKc29uU2NoZW1hOiBoLnN0cmljdEpzb25TY2hlbWEsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcmlhbGl6ZS5tanMubWFwIiwiaW1wb3J0IHsgdG9TbWFydFN0cmluZyB9IGZyb20gXCIuL3V0aWxzL3NtYXJ0U3RyaW5nLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFJ1bkl0ZW1CYXNlIHtcbiAgICB0eXBlID0gJ2Jhc2VfaXRlbSc7XG4gICAgcmF3SXRlbTtcbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICByYXdJdGVtOiB0aGlzLnJhd0l0ZW0sXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bk1lc3NhZ2VPdXRwdXRJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdHlwZSA9ICdtZXNzYWdlX291dHB1dF9pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBhZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuYWdlbnQudG9KU09OKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBjb250ZW50KCkge1xuICAgICAgICBsZXQgY29udGVudCA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5yYXdJdGVtLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ICs9IHBhcnQudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuVG9vbENhbGxJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdHlwZSA9ICd0b29sX2NhbGxfaXRlbSc7XG4gICAgY29uc3RydWN0b3IocmF3SXRlbSwgYWdlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yYXdJdGVtID0gcmF3SXRlbTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci50b0pTT04oKSxcbiAgICAgICAgICAgIGFnZW50OiB0aGlzLmFnZW50LnRvSlNPTigpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBhZ2VudDtcbiAgICBvdXRwdXQ7XG4gICAgdHlwZSA9ICd0b29sX2NhbGxfb3V0cHV0X2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50LCBvdXRwdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yYXdJdGVtID0gcmF3SXRlbTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgICAgICB0aGlzLm91dHB1dCA9IG91dHB1dDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIG91dHB1dDogdG9TbWFydFN0cmluZyh0aGlzLm91dHB1dCksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1blJlYXNvbmluZ0l0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBhZ2VudDtcbiAgICB0eXBlID0gJ3JlYXNvbmluZ19pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBhZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuYWdlbnQudG9KU09OKCksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bkhhbmRvZmZDYWxsSXRlbSBleHRlbmRzIFJ1bkl0ZW1CYXNlIHtcbiAgICByYXdJdGVtO1xuICAgIGFnZW50O1xuICAgIHR5cGUgPSAnaGFuZG9mZl9jYWxsX2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmF3SXRlbSA9IHJhd0l0ZW07XG4gICAgICAgIHRoaXMuYWdlbnQgPSBhZ2VudDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuSGFuZG9mZk91dHB1dEl0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBzb3VyY2VBZ2VudDtcbiAgICB0YXJnZXRBZ2VudDtcbiAgICB0eXBlID0gJ2hhbmRvZmZfb3V0cHV0X2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIHNvdXJjZUFnZW50LCB0YXJnZXRBZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLnNvdXJjZUFnZW50ID0gc291cmNlQWdlbnQ7XG4gICAgICAgIHRoaXMudGFyZ2V0QWdlbnQgPSB0YXJnZXRBZ2VudDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBzb3VyY2VBZ2VudDogdGhpcy5zb3VyY2VBZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIHRhcmdldEFnZW50OiB0aGlzLnRhcmdldEFnZW50LnRvSlNPTigpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5Ub29sQXBwcm92YWxJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdHlwZSA9ICd0b29sX2FwcHJvdmFsX2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmF3SXRlbSA9IHJhd0l0ZW07XG4gICAgICAgIHRoaXMuYWdlbnQgPSBhZ2VudDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIEV4dHJhY3QgYWxsIHRleHQgb3V0cHV0IGZyb20gYSBsaXN0IG9mIHJ1biBpdGVtcyBieSBjb25jYXRlbmF0aW5nIHRoZSBjb250ZW50IG9mIGFsbFxuICogbWVzc2FnZSBvdXRwdXQgaXRlbXMuXG4gKlxuICogQHBhcmFtIGl0ZW1zIC0gVGhlIGxpc3Qgb2YgcnVuIGl0ZW1zIHRvIGV4dHJhY3QgdGV4dCBmcm9tLlxuICogQHJldHVybnMgQSBzdHJpbmcgb2YgYWxsIHRoZSB0ZXh0IG91dHB1dCBmcm9tIHRoZSBydW4gaXRlbXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0QWxsVGV4dE91dHB1dChpdGVtcykge1xuICAgIHJldHVybiBpdGVtc1xuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnR5cGUgPT09ICdtZXNzYWdlX291dHB1dF9pdGVtJylcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5jb250ZW50KVxuICAgICAgICAuam9pbignJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVtcy5tanMubWFwIiwiaW1wb3J0IHsgcmVzZXRDdXJyZW50U3Bhbiwgc2V0Q3VycmVudFNwYW4sIHdpdGhOZXdTcGFuQ29udGV4dCwgfSBmcm9tIFwiLi9jb250ZXh0Lm1qc1wiO1xuaW1wb3J0IHsgZ2V0R2xvYmFsVHJhY2VQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyLm1qc1wiO1xuZnVuY3Rpb24gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVTcGFuKSB7XG4gICAgcmV0dXJuIGFzeW5jIChmbiwgLi4uYXJncykgPT4ge1xuICAgICAgICAvLyBDcmVhdGluZyBhIG5ldyBzcGFuIGNvbnRleHQgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIHByZXZpb3VzIHNwYW4gaXMgY29ycmVjdGx5IHJlc2V0XG4gICAgICAgIHJldHVybiB3aXRoTmV3U3BhbkNvbnRleHQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGNyZWF0ZVNwYW4oLi4uYXJncyk7XG4gICAgICAgICAgICBzZXRDdXJyZW50U3BhbihzcGFuKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3Bhbi5zdGFydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBmbihzcGFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBlcnJvci5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgc3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyByZXNwb25zZSBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHksIHlvdSBzaG91bGQgZWl0aGVyXG4gKiB1c2UgYHdpdGhSZXNwb25zZVNwYW4oKWAgb3IgY2FsbCBgc3Bhbi5zdGFydCgpYCBhbmQgYHNwYW4uZW5kKClgIG1hbnVhbGx5LlxuICpcbiAqIFRoaXMgc3BhbiBjYXB0dXJlcyB0aGUgZGV0YWlscyBvZiBhIG1vZGVsIHJlc3BvbnNlLCBwcmltYXJpbHkgdGhlIHJlc3BvbnNlIGlkZW50aWZpZXIuXG4gKiBJZiB5b3UgbmVlZCB0byBjYXB0dXJlIGRldGFpbGVkIGdlbmVyYXRpb24gaW5mb3JtYXRpb24gc3VjaCBhcyBpbnB1dC9vdXRwdXQgbWVzc2FnZXMsXG4gKiBtb2RlbCBjb25maWd1cmF0aW9uLCBvciB1c2FnZSBkYXRhLCB1c2UgYGNyZWF0ZUdlbmVyYXRpb25TcGFuKClgIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBzcGFuIGNyZWF0aW9uIG9wdGlvbnMsIGluY2x1ZGluZyBzcGFuIGRhdGEgYW5kIGlkZW50aWZpZXJzLlxuICogQHBhcmFtIHBhcmVudCAtIFRoZSBwYXJlbnQgc3BhbiBvciB0cmFjZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgY3VycmVudCB0cmFjZS9zcGFuIHdpbGwgYmUgdXNlZFxuICogYXV0b21hdGljYWxseS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCByZXNwb25zZSBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVzcG9uc2VTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgICByZXR1cm4gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVNwYW4oe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiAncmVzcG9uc2UnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyByZXNwb25zZSBzcGFuIGFuZCBhdXRvbWF0aWNhbGx5IHN0YXJ0IGFuZCBlbmQgaXQuXG4gKlxuICogVGhpcyBzcGFuIGNhcHR1cmVzIHRoZSBkZXRhaWxzIG9mIGEgbW9kZWwgcmVzcG9uc2UsIHByaW1hcmlseSB0aGUgcmVzcG9uc2UgaWRlbnRpZmllci5cbiAqIElmIHlvdSBuZWVkIHRvIGNhcHR1cmUgZGV0YWlsZWQgZ2VuZXJhdGlvbiBpbmZvcm1hdGlvbiBzdWNoIGFzIGlucHV0L291dHB1dCBtZXNzYWdlcyxcbiAqIG1vZGVsIGNvbmZpZ3VyYXRpb24sIG9yIHVzYWdlIGRhdGEsIHVzZSBgZ2VuZXJhdGlvblNwYW4oKWAgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhSZXNwb25zZVNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZVJlc3BvbnNlU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBhZ2VudCBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHksIHlvdSBzaG91bGQgZWl0aGVyXG4gKiB1c2UgYHdpdGhBZ2VudFNwYW4oKWAgb3IgY2FsbCBgc3Bhbi5zdGFydCgpYCBhbmQgYHNwYW4uZW5kKClgIG1hbnVhbGx5LlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgc3BhbiBjcmVhdGlvbiBvcHRpb25zLCBpbmNsdWRpbmcgc3BhbiBkYXRhIGFuZCBpZGVudGlmaWVycy5cbiAqIEBwYXJhbSBwYXJlbnQgLSBUaGUgcGFyZW50IHNwYW4gb3IgdHJhY2UuIElmIG5vdCBwcm92aWRlZCwgdGhlIGN1cnJlbnQgdHJhY2Uvc3BhbiB3aWxsIGJlIHVzZWRcbiAqIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogQHJldHVybnMgVGhlIG5ld2x5IGNyZWF0ZWQgYWdlbnQgc3Bhbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFnZW50U3BhbihvcHRpb25zLCBwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVNwYW4oe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiAnYWdlbnQnLFxuICAgICAgICAgICAgbmFtZTogb3B0aW9ucz8uZGF0YT8ubmFtZSA/PyAnQWdlbnQnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgYWdlbnQgc3BhbiBhbmQgYXV0b21hdGljYWxseSBzdGFydCBhbmQgZW5kIGl0LlxuICovXG5leHBvcnQgY29uc3Qgd2l0aEFnZW50U3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlQWdlbnRTcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGZ1bmN0aW9uIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXJcbiAqIHVzZSBgd2l0aEZ1bmN0aW9uU3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBzcGFuIGNyZWF0aW9uIG9wdGlvbnMsIGluY2x1ZGluZyBzcGFuIGRhdGEgYW5kIGlkZW50aWZpZXJzLlxuICogQHBhcmFtIHBhcmVudCAtIFRoZSBwYXJlbnQgc3BhbiBvciB0cmFjZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgY3VycmVudCB0cmFjZS9zcGFuIHdpbGwgYmUgdXNlZFxuICogYXV0b21hdGljYWxseS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCBmdW5jdGlvbiBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRnVuY3Rpb25TcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgICAgICBpbnB1dDogb3B0aW9ucz8uZGF0YT8uaW5wdXQgPz8gJycsXG4gICAgICAgICAgICBvdXRwdXQ6IG9wdGlvbnM/LmRhdGE/Lm91dHB1dCA/PyAnJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnM/LmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGZ1bmN0aW9uIHNwYW4gYW5kIGF1dG9tYXRpY2FsbHkgc3RhcnQgYW5kIGVuZCBpdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhGdW5jdGlvblNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZUZ1bmN0aW9uU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBoYW5kb2ZmIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXJcbiAqIHVzZSBgd2l0aEhhbmRvZmZTcGFuKClgIG9yIGNhbGwgYHNwYW4uc3RhcnQoKWAgYW5kIGBzcGFuLmVuZCgpYCBtYW51YWxseS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHNwYW4gY3JlYXRpb24gb3B0aW9ucywgaW5jbHVkaW5nIHNwYW4gZGF0YSBhbmQgaWRlbnRpZmllcnMuXG4gKiBAcGFyYW0gcGFyZW50IC0gVGhlIHBhcmVudCBzcGFuIG9yIHRyYWNlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBjdXJyZW50IHRyYWNlL3NwYW4gd2lsbCBiZSB1c2VkXG4gKiBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIGhhbmRvZmYgc3Bhbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhhbmRvZmZTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHsgdHlwZTogJ2hhbmRvZmYnLCAuLi5vcHRpb25zPy5kYXRhIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGhhbmRvZmYgc3BhbiBhbmQgYXV0b21hdGljYWxseSBzdGFydCBhbmQgZW5kIGl0LlxuICovXG5leHBvcnQgY29uc3Qgd2l0aEhhbmRvZmZTcGFuID0gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVIYW5kb2ZmU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBnZW5lcmF0aW9uIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXJcbiAqIHVzZSBgd2l0aEdlbmVyYXRpb25TcGFuKClgIG9yIGNhbGwgYHNwYW4uc3RhcnQoKWAgYW5kIGBzcGFuLmVuZCgpYCBtYW51YWxseS5cbiAqXG4gKiBUaGlzIHNwYW4gY2FwdHVyZXMgdGhlIGRldGFpbHMgb2YgYSBtb2RlbCBnZW5lcmF0aW9uLCBpbmNsdWRpbmcgaW5wdXQvb3V0cHV0IG1lc3NhZ2VcbiAqIHNlcXVlbmNlcywgbW9kZWwgaW5mb3JtYXRpb24sIGFuZCB1c2FnZSBkYXRhLiBJZiB5b3Ugb25seSBuZWVkIHRvIGNhcHR1cmUgYSBtb2RlbCByZXNwb25zZVxuICogaWRlbnRpZmllciwgY29uc2lkZXIgdXNpbmcgYGNyZWF0ZVJlc3BvbnNlU3BhbigpYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR2VuZXJhdGlvblNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ2dlbmVyYXRpb24nLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuLyoqIEF1dG9tYXRpY2FsbHkgY3JlYXRlIGEgZ2VuZXJhdGlvbiBzcGFuLCBydW4gZm4gYW5kIGNsb3NlIHRoZSBzcGFuICovXG5leHBvcnQgY29uc3Qgd2l0aEdlbmVyYXRpb25TcGFuID0gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVHZW5lcmF0aW9uU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBjdXN0b20gc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlciB1c2VcbiAqIGB3aXRoQ3VzdG9tU3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDdXN0b21TcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgICAgICAgZGF0YToge30sXG4gICAgICAgICAgICAuLi5vcHRpb25zPy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG5leHBvcnQgY29uc3Qgd2l0aEN1c3RvbVNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZUN1c3RvbVNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZ3VhcmRyYWlsIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXIgdXNlXG4gKiBgd2l0aEd1YXJkcmFpbFNwYW4oKWAgb3IgY2FsbCBgc3Bhbi5zdGFydCgpYCBhbmQgYHNwYW4uZW5kKClgIG1hbnVhbGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlR3VhcmRyYWlsU3BhbihvcHRpb25zLCBwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVNwYW4oe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiAnZ3VhcmRyYWlsJyxcbiAgICAgICAgICAgIHRyaWdnZXJlZDogZmFsc2UsXG4gICAgICAgICAgICAuLi5vcHRpb25zPy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG5leHBvcnQgY29uc3Qgd2l0aEd1YXJkcmFpbFNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZUd1YXJkcmFpbFNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgdHJhbnNjcmlwdGlvbiBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2NyaXB0aW9uU3BhbihvcHRpb25zLCBwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVNwYW4oe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiAndHJhbnNjcmlwdGlvbicsXG4gICAgICAgICAgICAuLi5vcHRpb25zLmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoVHJhbnNjcmlwdGlvblNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZVRyYW5zY3JpcHRpb25TcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IHNwZWVjaCBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTcGVlY2hTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzcGVlY2gnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG5leHBvcnQgY29uc3Qgd2l0aFNwZWVjaFNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZVNwZWVjaFNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgc3BlZWNoIGdyb3VwIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNwZWVjaEdyb3VwU3BhbihvcHRpb25zLCBwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVNwYW4oe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3BlZWNoX2dyb3VwJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnM/LmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoU3BlZWNoR3JvdXBTcGFuID0gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVTcGVlY2hHcm91cFNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgTUNQIGxpc3QgdG9vbHMgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTUNQTGlzdFRvb2xzU3BhbihvcHRpb25zLCBwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVNwYW4oe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiAnbWNwX3Rvb2xzJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnM/LmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoTUNQTGlzdFRvb2xzU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlTUNQTGlzdFRvb2xzU3Bhbik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVTcGFucy5tanMubWFwIiwiLyoqXG4gKiBTdHJlYW1pbmcgZXZlbnQgZnJvbSB0aGUgTExNLiBUaGVzZSBhcmUgYHJhd2AgZXZlbnRzLCBpLmUuIHRoZXkgYXJlIGRpcmVjdGx5IHBhc3NlZCB0aHJvdWdoIGZyb21cbiAqIHRoZSBMTE0uXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5SYXdNb2RlbFN0cmVhbUV2ZW50IHtcbiAgICBkYXRhO1xuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICB0eXBlID0gJ3Jhd19tb2RlbF9zdHJlYW1fZXZlbnQnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhIFRoZSByYXcgcmVzcG9uc2VzIHN0cmVhbSBldmVudHMgZnJvbSB0aGUgTExNLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG59XG4vKipcbiAqIFN0cmVhbWluZyBldmVudHMgdGhhdCB3cmFwIGEgYFJ1bkl0ZW1gLiBBcyB0aGUgYWdlbnQgcHJvY2Vzc2VzIHRoZSBMTE0gcmVzcG9uc2UsIGl0IHdpbGwgZ2VuZXJhdGVcbiAqIHRoZXNlIGV2ZW50cyBmcm9tIG5ldyBtZXNzYWdlcywgdG9vbCBjYWxscywgdG9vbCBvdXRwdXRzLCBoYW5kb2ZmcywgZXRjLlxuICovXG5leHBvcnQgY2xhc3MgUnVuSXRlbVN0cmVhbUV2ZW50IHtcbiAgICBuYW1lO1xuICAgIGl0ZW07XG4gICAgdHlwZSA9ICdydW5faXRlbV9zdHJlYW1fZXZlbnQnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0gaXRlbSBUaGUgaXRlbSB0aGF0IHdhcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGl0ZW0pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICB9XG59XG4vKipcbiAqIEV2ZW50IHRoYXQgbm90aWZpZXMgdGhhdCB0aGVyZSBpcyBhIG5ldyBhZ2VudCBydW5uaW5nLlxuICovXG5leHBvcnQgY2xhc3MgUnVuQWdlbnRVcGRhdGVkU3RyZWFtRXZlbnQge1xuICAgIGFnZW50O1xuICAgIHR5cGUgPSAnYWdlbnRfdXBkYXRlZF9zdHJlYW1fZXZlbnQnO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBhZ2VudCBUaGUgbmV3IGFnZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYWdlbnQpIHtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5tanMubWFwIiwiaW1wb3J0IHsgY29uc3VtZUFnZW50VG9vbFJ1blJlc3VsdCwgfSBmcm9tIFwiLi9hZ2VudC5tanNcIjtcbmltcG9ydCB7IE1vZGVsQmVoYXZpb3JFcnJvciwgVG9vbENhbGxFcnJvciwgVXNlckVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgZ2V0VHJhbnNmZXJNZXNzYWdlIH0gZnJvbSBcIi4vaGFuZG9mZi5tanNcIjtcbmltcG9ydCB7IFJ1bkhhbmRvZmZDYWxsSXRlbSwgUnVuSGFuZG9mZk91dHB1dEl0ZW0sIFJ1bk1lc3NhZ2VPdXRwdXRJdGVtLCBSdW5SZWFzb25pbmdJdGVtLCBSdW5Ub29sQXBwcm92YWxJdGVtLCBSdW5Ub29sQ2FsbEl0ZW0sIFJ1blRvb2xDYWxsT3V0cHV0SXRlbSwgfSBmcm9tIFwiLi9pdGVtcy5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZSB9IGZyb20gXCIuL3V0aWxzL21lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgd2l0aEZ1bmN0aW9uU3Bhbiwgd2l0aEhhbmRvZmZTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9jcmVhdGVTcGFucy5tanNcIjtcbmltcG9ydCB7IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IHNhZmVFeGVjdXRlIH0gZnJvbSBcIi4vdXRpbHMvc2FmZUV4ZWN1dGUubWpzXCI7XG5pbXBvcnQgeyBhZGRFcnJvclRvQ3VycmVudFNwYW4gfSBmcm9tIFwiLi90cmFjaW5nL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgeyBSdW5JdGVtU3RyZWFtRXZlbnQgfSBmcm9tIFwiLi9ldmVudHMubWpzXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IHRvU21hcnRTdHJpbmcgfSBmcm9tIFwiLi91dGlscy9zbWFydFN0cmluZy5tanNcIjtcbmltcG9ydCB7IGlzWm9kT2JqZWN0IH0gZnJvbSBcIi4vdXRpbHMvaW5kZXgubWpzXCI7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc01vZGVsUmVzcG9uc2UobW9kZWxSZXNwb25zZSwgYWdlbnQsIHRvb2xzLCBoYW5kb2Zmcykge1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgY29uc3QgcnVuSGFuZG9mZnMgPSBbXTtcbiAgICBjb25zdCBydW5GdW5jdGlvbnMgPSBbXTtcbiAgICBjb25zdCBydW5Db21wdXRlckFjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBydW5NQ1BBcHByb3ZhbFJlcXVlc3RzID0gW107XG4gICAgY29uc3QgdG9vbHNVc2VkID0gW107XG4gICAgY29uc3QgaGFuZG9mZk1hcCA9IG5ldyBNYXAoaGFuZG9mZnMubWFwKChoKSA9PiBbaC50b29sTmFtZSwgaF0pKTtcbiAgICBjb25zdCBmdW5jdGlvbk1hcCA9IG5ldyBNYXAodG9vbHMuZmlsdGVyKCh0KSA9PiB0LnR5cGUgPT09ICdmdW5jdGlvbicpLm1hcCgodCkgPT4gW3QubmFtZSwgdF0pKTtcbiAgICBjb25zdCBjb21wdXRlclRvb2wgPSB0b29scy5maW5kKCh0KSA9PiB0LnR5cGUgPT09ICdjb21wdXRlcicpO1xuICAgIGNvbnN0IG1jcFRvb2xNYXAgPSBuZXcgTWFwKHRvb2xzXG4gICAgICAgIC5maWx0ZXIoKHQpID0+IHQudHlwZSA9PT0gJ2hvc3RlZF90b29sJyAmJiB0LnByb3ZpZGVyRGF0YT8udHlwZSA9PT0gJ21jcCcpXG4gICAgICAgIC5tYXAoKHQpID0+IHQpXG4gICAgICAgIC5tYXAoKHQpID0+IFt0LnByb3ZpZGVyRGF0YS5zZXJ2ZXJfbGFiZWwsIHRdKSk7XG4gICAgZm9yIChjb25zdCBvdXRwdXQgb2YgbW9kZWxSZXNwb25zZS5vdXRwdXQpIHtcbiAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXQucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5NZXNzYWdlT3V0cHV0SXRlbShvdXRwdXQsIGFnZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3V0cHV0LnR5cGUgPT09ICdob3N0ZWRfdG9vbF9jYWxsJykge1xuICAgICAgICAgICAgaXRlbXMucHVzaChuZXcgUnVuVG9vbENhbGxJdGVtKG91dHB1dCwgYWdlbnQpKTtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xOYW1lID0gb3V0cHV0Lm5hbWU7XG4gICAgICAgICAgICB0b29sc1VzZWQucHVzaCh0b29sTmFtZSk7XG4gICAgICAgICAgICBpZiAob3V0cHV0LnByb3ZpZGVyRGF0YT8udHlwZSA9PT0gJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyB8fFxuICAgICAgICAgICAgICAgIG91dHB1dC5uYW1lID09PSAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnKSB7XG4gICAgICAgICAgICAgICAgLy8gSG9zdGVkIHJlbW90ZSBNQ1Agc2VydmVyJ3MgYXBwcm92YWwgcHJvY2Vzc1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IG91dHB1dC5wcm92aWRlckRhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgbWNwU2VydmVyTGFiZWwgPSBwcm92aWRlckRhdGEuc2VydmVyX2xhYmVsO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1jcFNlcnZlclRvb2wgPSBtY3BUb29sTWFwLmdldChtY3BTZXJ2ZXJMYWJlbCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtY3BTZXJ2ZXJUb29sID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYE1DUCBzZXJ2ZXIgKCR7bWNwU2VydmVyTGFiZWx9KSBub3QgZm91bmQgaW4gQWdlbnQgKCR7YWdlbnQubmFtZX0pYDtcbiAgICAgICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IG1jcF9zZXJ2ZXJfbGFiZWw6IG1jcFNlcnZlckxhYmVsIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEbyB0aGlzIGFwcHJvdmFsIGxhdGVyOlxuICAgICAgICAgICAgICAgIC8vIFdlIHN1cHBvcnQgYm90aCBvbkFwcHJvdmFsIGNhbGxiYWNrIChsaWtlIHRoZSBQeXRob24gU0RLIGRvZXMpIGFuZCBISVRMIHBhdHRlcm5zLlxuICAgICAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsSXRlbSA9IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sX2NhbGwnLFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBtdXN0IHVzZSB0aGlzIG5hbWUgdG8gYWxpZ24gd2l0aCB0aGUgbmFtZSBzZW50IGZyb20gdGhlIHNlcnZlcnNcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJvdmlkZXJEYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBwcm92aWRlckRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2luX3Byb2dyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhLFxuICAgICAgICAgICAgICAgIH0sIGFnZW50KTtcbiAgICAgICAgICAgICAgICBydW5NQ1BBcHByb3ZhbFJlcXVlc3RzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SXRlbTogYXBwcm92YWxJdGVtLFxuICAgICAgICAgICAgICAgICAgICBtY3BUb29sOiBtY3BTZXJ2ZXJUb29sLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghbWNwU2VydmVyVG9vbC5wcm92aWRlckRhdGEub25fYXBwcm92YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBvbkFwcHJvdmFsIGZ1bmN0aW9uIGV4aXN0cywgaXQgY29uZmlybXMgdGhlIGFwcHJvdmFsIHJpZ2h0IGFmdGVyIHRoaXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRodXMsIHRoaXMgYXBwcm92YWwgaXRlbSBtdXN0IGJlIGFwcGVuZGVkIG9ubHkgZm9yIHRoZSBuZXh0IHR1cm4gaW50ZXJydXB0aW9uIHBhdHRlcm5zLlxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGFwcHJvdmFsSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG91dHB1dC50eXBlID09PSAncmVhc29uaW5nJykge1xuICAgICAgICAgICAgaXRlbXMucHVzaChuZXcgUnVuUmVhc29uaW5nSXRlbShvdXRwdXQsIGFnZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3V0cHV0LnR5cGUgPT09ICdjb21wdXRlcl9jYWxsJykge1xuICAgICAgICAgICAgaXRlbXMucHVzaChuZXcgUnVuVG9vbENhbGxJdGVtKG91dHB1dCwgYWdlbnQpKTtcbiAgICAgICAgICAgIHRvb2xzVXNlZC5wdXNoKCdjb21wdXRlcl91c2UnKTtcbiAgICAgICAgICAgIGlmICghY29tcHV0ZXJUb29sKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01vZGVsIHByb2R1Y2VkIGNvbXB1dGVyIGFjdGlvbiB3aXRob3V0IGEgY29tcHV0ZXIgdG9vbC4nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2VudF9uYW1lOiBhZ2VudC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ01vZGVsIHByb2R1Y2VkIGNvbXB1dGVyIGFjdGlvbiB3aXRob3V0IGEgY29tcHV0ZXIgdG9vbC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1bkNvbXB1dGVyQWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogb3V0cHV0LFxuICAgICAgICAgICAgICAgIGNvbXB1dGVyOiBjb21wdXRlclRvb2wsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0cHV0LnR5cGUgIT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdG9vbHNVc2VkLnB1c2gob3V0cHV0Lm5hbWUpO1xuICAgICAgICBjb25zdCBoYW5kb2ZmID0gaGFuZG9mZk1hcC5nZXQob3V0cHV0Lm5hbWUpO1xuICAgICAgICBpZiAoaGFuZG9mZikge1xuICAgICAgICAgICAgaXRlbXMucHVzaChuZXcgUnVuSGFuZG9mZkNhbGxJdGVtKG91dHB1dCwgYWdlbnQpKTtcbiAgICAgICAgICAgIHJ1bkhhbmRvZmZzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBvdXRwdXQsXG4gICAgICAgICAgICAgICAgaGFuZG9mZjogaGFuZG9mZixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZnVuY3Rpb25Ub29sID0gZnVuY3Rpb25NYXAuZ2V0KG91dHB1dC5uYW1lKTtcbiAgICAgICAgICAgIGlmICghZnVuY3Rpb25Ub29sKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFRvb2wgJHtvdXRwdXQubmFtZX0gbm90IGZvdW5kIGluIGFnZW50ICR7YWdlbnQubmFtZX0uYCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9uYW1lOiBvdXRwdXQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50X25hbWU6IGFnZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcihgVG9vbCAke291dHB1dC5uYW1lfSBub3QgZm91bmQgaW4gYWdlbnQgJHthZ2VudC5uYW1lfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IFJ1blRvb2xDYWxsSXRlbShvdXRwdXQsIGFnZW50KSk7XG4gICAgICAgICAgICBydW5GdW5jdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IG91dHB1dCxcbiAgICAgICAgICAgICAgICB0b29sOiBmdW5jdGlvblRvb2wsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBuZXdJdGVtczogaXRlbXMsXG4gICAgICAgIGhhbmRvZmZzOiBydW5IYW5kb2ZmcyxcbiAgICAgICAgZnVuY3Rpb25zOiBydW5GdW5jdGlvbnMsXG4gICAgICAgIGNvbXB1dGVyQWN0aW9uczogcnVuQ29tcHV0ZXJBY3Rpb25zLFxuICAgICAgICBtY3BBcHByb3ZhbFJlcXVlc3RzOiBydW5NQ1BBcHByb3ZhbFJlcXVlc3RzLFxuICAgICAgICB0b29sc1VzZWQ6IHRvb2xzVXNlZCxcbiAgICAgICAgaGFzVG9vbHNPckFwcHJvdmFsc1RvUnVuKCkge1xuICAgICAgICAgICAgcmV0dXJuIChydW5IYW5kb2Zmcy5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICAgICAgcnVuRnVuY3Rpb25zLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICBydW5NQ1BBcHByb3ZhbFJlcXVlc3RzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICBydW5Db21wdXRlckFjdGlvbnMubGVuZ3RoID4gMCk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBuZXh0U3RlcFNjaGVtYSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCduZXh0X3N0ZXBfaGFuZG9mZicpLFxuICAgICAgICBuZXdBZ2VudDogei5hbnkoKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbmV4dF9zdGVwX2ZpbmFsX291dHB1dCcpLFxuICAgICAgICBvdXRwdXQ6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ25leHRfc3RlcF9ydW5fYWdhaW4nKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpLFxuICAgICAgICBkYXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKSxcbiAgICB9KSxcbl0pO1xuY2xhc3MgU2luZ2xlU3RlcFJlc3VsdCB7XG4gICAgb3JpZ2luYWxJbnB1dDtcbiAgICBtb2RlbFJlc3BvbnNlO1xuICAgIHByZVN0ZXBJdGVtcztcbiAgICBuZXdTdGVwSXRlbXM7XG4gICAgbmV4dFN0ZXA7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGlucHV0IGl0ZW1zIGkuZS4gdGhlIGl0ZW1zIGJlZm9yZSBydW4oKSB3YXMgY2FsbGVkLiBNYXkgYmUgbXV0ZWQgYnkgaGFuZG9mZiBpbnB1dCBmaWx0ZXJzXG4gICAgICovXG4gICAgb3JpZ2luYWxJbnB1dCwgXG4gICAgLyoqXG4gICAgICogVGhlIG1vZGVsIHJlc3BvbnNlIGZvciB0aGUgY3VycmVudCBzdGVwXG4gICAgICovXG4gICAgbW9kZWxSZXNwb25zZSwgXG4gICAgLyoqXG4gICAgICogVGhlIGl0ZW1zIGJlZm9yZSB0aGUgY3VycmVudCBzdGVwIHdhcyBleGVjdXRlZFxuICAgICAqL1xuICAgIHByZVN0ZXBJdGVtcywgXG4gICAgLyoqXG4gICAgICogVGhlIGl0ZW1zIGFmdGVyIHRoZSBjdXJyZW50IHN0ZXAgd2FzIGV4ZWN1dGVkXG4gICAgICovXG4gICAgbmV3U3RlcEl0ZW1zLCBcbiAgICAvKipcbiAgICAgKiBUaGUgbmV4dCBzdGVwIHRvIGV4ZWN1dGVcbiAgICAgKi9cbiAgICBuZXh0U3RlcCkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsSW5wdXQgPSBvcmlnaW5hbElucHV0O1xuICAgICAgICB0aGlzLm1vZGVsUmVzcG9uc2UgPSBtb2RlbFJlc3BvbnNlO1xuICAgICAgICB0aGlzLnByZVN0ZXBJdGVtcyA9IHByZVN0ZXBJdGVtcztcbiAgICAgICAgdGhpcy5uZXdTdGVwSXRlbXMgPSBuZXdTdGVwSXRlbXM7XG4gICAgICAgIHRoaXMubmV4dFN0ZXAgPSBuZXh0U3RlcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGl0ZW1zIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGFnZW50IHJ1biAoaS5lLiBldmVyeXRoaW5nIGdlbmVyYXRlZCBhZnRlciBvcmlnaW5hbElucHV0KVxuICAgICAqL1xuICAgIGdldCBnZW5lcmF0ZWRJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlU3RlcEl0ZW1zLmNvbmNhdCh0aGlzLm5ld1N0ZXBJdGVtcyk7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heWJlUmVzZXRUb29sQ2hvaWNlKGFnZW50LCB0b29sVXNlVHJhY2tlciwgbW9kZWxTZXR0aW5ncykge1xuICAgIGlmIChhZ2VudC5yZXNldFRvb2xDaG9pY2UgJiYgdG9vbFVzZVRyYWNrZXIuaGFzVXNlZFRvb2xzKGFnZW50KSkge1xuICAgICAgICByZXR1cm4geyAuLi5tb2RlbFNldHRpbmdzLCB0b29sQ2hvaWNlOiB1bmRlZmluZWQgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsU2V0dGluZ3M7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUludGVycnVwdGVkVG9vbHNBbmRTaWRlRWZmZWN0cyhhZ2VudCwgb3JpZ2luYWxJbnB1dCwgb3JpZ2luYWxQcmVTdGVwSXRlbXMsIG5ld1Jlc3BvbnNlLCBwcm9jZXNzZWRSZXNwb25zZSwgcnVubmVyLCBzdGF0ZSkge1xuICAgIC8vIGNhbGxfaWRzIGZvciBmdW5jdGlvbiB0b29sc1xuICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbElkcyA9IG9yaWdpbmFsUHJlU3RlcEl0ZW1zXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gaW5zdGFuY2VvZiBSdW5Ub29sQXBwcm92YWxJdGVtICYmXG4gICAgICAgICdjYWxsSWQnIGluIGl0ZW0ucmF3SXRlbSAmJlxuICAgICAgICBpdGVtLnJhd0l0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKVxuICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLnJhd0l0ZW0uY2FsbElkKTtcbiAgICAvLyBSdW4gZnVuY3Rpb24gdG9vbHMgdGhhdCByZXF1aXJlIGFwcHJvdmFsIGFmdGVyIHRoZXkgZ2V0IHRoZWlyIGFwcHJvdmFsIHJlc3VsdHNcbiAgICBjb25zdCBmdW5jdGlvblRvb2xSdW5zID0gcHJvY2Vzc2VkUmVzcG9uc2UuZnVuY3Rpb25zLmZpbHRlcigocnVuKSA9PiB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbkNhbGxJZHMuaW5jbHVkZXMocnVuLnRvb2xDYWxsLmNhbGxJZCk7XG4gICAgfSk7XG4gICAgY29uc3QgZnVuY3Rpb25SZXN1bHRzID0gYXdhaXQgZXhlY3V0ZUZ1bmN0aW9uVG9vbENhbGxzKGFnZW50LCBmdW5jdGlvblRvb2xSdW5zLCBydW5uZXIsIHN0YXRlKTtcbiAgICAvLyBDcmVhdGUgdGhlIGluaXRpYWwgc2V0IG9mIHRoZSBvdXRwdXQgaXRlbXNcbiAgICBjb25zdCBuZXdJdGVtcyA9IGZ1bmN0aW9uUmVzdWx0cy5tYXAoKHIpID0+IHIucnVuSXRlbSk7XG4gICAgLy8gUnVuIE1DUCB0b29scyB0aGF0IHJlcXVpcmUgYXBwcm92YWwgYWZ0ZXIgdGhleSBnZXQgdGhlaXIgYXBwcm92YWwgcmVzdWx0c1xuICAgIGNvbnN0IG1jcEFwcHJvdmFsUnVucyA9IHByb2Nlc3NlZFJlc3BvbnNlLm1jcEFwcHJvdmFsUmVxdWVzdHMuZmlsdGVyKChydW4pID0+IHtcbiAgICAgICAgcmV0dXJuIChydW4ucmVxdWVzdEl0ZW0udHlwZSA9PT0gJ3Rvb2xfYXBwcm92YWxfaXRlbScgJiZcbiAgICAgICAgICAgIHJ1bi5yZXF1ZXN0SXRlbS5yYXdJdGVtLnR5cGUgPT09ICdob3N0ZWRfdG9vbF9jYWxsJyAmJlxuICAgICAgICAgICAgcnVuLnJlcXVlc3RJdGVtLnJhd0l0ZW0ucHJvdmlkZXJEYXRhPy50eXBlID09PSAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnKTtcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IHJ1biBvZiBtY3BBcHByb3ZhbFJ1bnMpIHtcbiAgICAgICAgLy8gdGhlIGFwcHJvdmFsX3JlcXVlc3RfaWQgXCJtY3ByXzEyMy4uLlwiXG4gICAgICAgIGNvbnN0IGFwcHJvdmFsUmVxdWVzdElkID0gcnVuLnJlcXVlc3RJdGVtLnJhd0l0ZW0uaWQ7XG4gICAgICAgIGNvbnN0IGFwcHJvdmVkID0gc3RhdGUuX2NvbnRleHQuaXNUb29sQXBwcm92ZWQoe1xuICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpdGVtIG5hbWUgbXVzdCBiZSB0aGUgc2FtZSB3aXRoIHRoZSBvbmUgc2VudCBmcm9tIFJlc3BvbnNlcyBBUEkgc2VydmVyXG4gICAgICAgICAgICB0b29sTmFtZTogcnVuLnJlcXVlc3RJdGVtLnJhd0l0ZW0ubmFtZSxcbiAgICAgICAgICAgIGNhbGxJZDogYXBwcm92YWxSZXF1ZXN0SWQsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIGFwcHJvdmVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIGFwcHJvdmU6IGFwcHJvdmVkLFxuICAgICAgICAgICAgICAgIGFwcHJvdmFsX3JlcXVlc3RfaWQ6IGFwcHJvdmFsUmVxdWVzdElkLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFRlbGwgUmVzcG9uc2VzIEFQSSBzZXJ2ZXIgdGhlIGFwcHJvdmFsIHJlc3VsdCBpbiB0aGUgbmV4dCB0dXJuXG4gICAgICAgICAgICBuZXdJdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0oe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbF9jYWxsJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnbWNwX2FwcHJvdmFsX3Jlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBwcm92aWRlckRhdGEsXG4gICAgICAgICAgICB9LCBhZ2VudCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNoZWNrVG9vbE91dHB1dCA9IGF3YWl0IGNoZWNrRm9yRmluYWxPdXRwdXRGcm9tVG9vbHMoYWdlbnQsIGZ1bmN0aW9uUmVzdWx0cywgc3RhdGUpO1xuICAgIC8vIEV4Y2x1ZGUgdGhlIHRvb2wgYXBwcm92YWwgaXRlbXMsIHdoaWNoIHNob3VsZCBub3QgYmUgc2VudCB0byBSZXNwb25zZXMgQVBJLFxuICAgIC8vIGZyb20gdGhlIFNpbmdsZVN0ZXBSZXN1bHQncyBwcmVTdGVwSXRlbXNcbiAgICBjb25zdCBwcmVTdGVwSXRlbXMgPSBvcmlnaW5hbFByZVN0ZXBJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgICAgcmV0dXJuICEoaXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pO1xuICAgIH0pO1xuICAgIGlmIChjaGVja1Rvb2xPdXRwdXQuaXNGaW5hbE91dHB1dCkge1xuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfZW5kJywgc3RhdGUuX2NvbnRleHQsIGFnZW50LCBjaGVja1Rvb2xPdXRwdXQuZmluYWxPdXRwdXQpO1xuICAgICAgICBhZ2VudC5lbWl0KCdhZ2VudF9lbmQnLCBzdGF0ZS5fY29udGV4dCwgY2hlY2tUb29sT3V0cHV0LmZpbmFsT3V0cHV0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7XG4gICAgICAgICAgICB0eXBlOiAnbmV4dF9zdGVwX2ZpbmFsX291dHB1dCcsXG4gICAgICAgICAgICBvdXRwdXQ6IGNoZWNrVG9vbE91dHB1dC5maW5hbE91dHB1dCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoZWNrVG9vbE91dHB1dC5pc0ludGVycnVwdGVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywge1xuICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGludGVycnVwdGlvbnM6IGNoZWNrVG9vbE91dHB1dC5pbnRlcnJ1cHRpb25zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIHdlIG9ubHkgcmFuIG5ldyB0b29scyBhbmQgc2lkZSBlZmZlY3RzLiBXZSBuZWVkIHRvIHJ1biB0aGUgcmVzdCBvZiB0aGUgYWdlbnRcbiAgICByZXR1cm4gbmV3IFNpbmdsZVN0ZXBSZXN1bHQob3JpZ2luYWxJbnB1dCwgbmV3UmVzcG9uc2UsIHByZVN0ZXBJdGVtcywgbmV3SXRlbXMsIHsgdHlwZTogJ25leHRfc3RlcF9ydW5fYWdhaW4nIH0pO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVUb29sc0FuZFNpZGVFZmZlY3RzKGFnZW50LCBvcmlnaW5hbElucHV0LCBvcmlnaW5hbFByZVN0ZXBJdGVtcywgbmV3UmVzcG9uc2UsIHByb2Nlc3NlZFJlc3BvbnNlLCBydW5uZXIsIHN0YXRlKSB7XG4gICAgY29uc3QgcHJlU3RlcEl0ZW1zID0gb3JpZ2luYWxQcmVTdGVwSXRlbXM7XG4gICAgbGV0IG5ld0l0ZW1zID0gcHJvY2Vzc2VkUmVzcG9uc2UubmV3SXRlbXM7XG4gICAgY29uc3QgW2Z1bmN0aW9uUmVzdWx0cywgY29tcHV0ZXJSZXN1bHRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgZXhlY3V0ZUZ1bmN0aW9uVG9vbENhbGxzKGFnZW50LCBwcm9jZXNzZWRSZXNwb25zZS5mdW5jdGlvbnMsIHJ1bm5lciwgc3RhdGUpLFxuICAgICAgICBleGVjdXRlQ29tcHV0ZXJBY3Rpb25zKGFnZW50LCBwcm9jZXNzZWRSZXNwb25zZS5jb21wdXRlckFjdGlvbnMsIHJ1bm5lciwgc3RhdGUuX2NvbnRleHQpLFxuICAgIF0pO1xuICAgIG5ld0l0ZW1zID0gbmV3SXRlbXMuY29uY2F0KGZ1bmN0aW9uUmVzdWx0cy5tYXAoKHIpID0+IHIucnVuSXRlbSkpO1xuICAgIG5ld0l0ZW1zID0gbmV3SXRlbXMuY29uY2F0KGNvbXB1dGVyUmVzdWx0cyk7XG4gICAgLy8gcnVuIGhvc3RlZCBNQ1AgYXBwcm92YWwgcmVxdWVzdHNcbiAgICBpZiAocHJvY2Vzc2VkUmVzcG9uc2UubWNwQXBwcm92YWxSZXF1ZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgYXBwcm92YWxSZXF1ZXN0IG9mIHByb2Nlc3NlZFJlc3BvbnNlLm1jcEFwcHJvdmFsUmVxdWVzdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xEYXRhID0gYXBwcm92YWxSZXF1ZXN0Lm1jcFRvb2xcbiAgICAgICAgICAgICAgICAucHJvdmlkZXJEYXRhO1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSBhcHByb3ZhbFJlcXVlc3QucmVxdWVzdEl0ZW0ucmF3SXRlbVxuICAgICAgICAgICAgICAgIC5wcm92aWRlckRhdGE7XG4gICAgICAgICAgICBpZiAodG9vbERhdGEub25fYXBwcm92YWwpIHtcbiAgICAgICAgICAgICAgICAvLyBzeW5jaHJvbm91c2x5IGhhbmRsZSB0aGUgYXBwcm92YWwgcHJvY2VzcyBoZXJlXG4gICAgICAgICAgICAgICAgY29uc3QgYXBwcm92YWxSZXN1bHQgPSBhd2FpdCB0b29sRGF0YS5vbl9hcHByb3ZhbChzdGF0ZS5fY29udGV4dCwgYXBwcm92YWxSZXF1ZXN0LnJlcXVlc3RJdGVtKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcHByb3ZhbFJlc3BvbnNlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92ZTogYXBwcm92YWxSZXN1bHQuYXBwcm92ZSxcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92YWxfcmVxdWVzdF9pZDogcmVxdWVzdERhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogYXBwcm92YWxSZXN1bHQucmVhc29uLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbmV3SXRlbXMucHVzaChuZXcgUnVuVG9vbENhbGxJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sX2NhbGwnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbWNwX2FwcHJvdmFsX3Jlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiBhcHByb3ZhbFJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICB9LCBhZ2VudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVjZWl2ZSBhIHVzZXIncyBhcHByb3ZhbCBvbiB0aGUgbmV4dCB0dXJuXG4gICAgICAgICAgICAgICAgbmV3SXRlbXMucHVzaChhcHByb3ZhbFJlcXVlc3QucmVxdWVzdEl0ZW0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsSXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF9tY3BfdG9vbF9hcHByb3ZhbCcsXG4gICAgICAgICAgICAgICAgICAgIHRvb2w6IGFwcHJvdmFsUmVxdWVzdC5tY3BUb29sLFxuICAgICAgICAgICAgICAgICAgICBydW5JdGVtOiBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2xfY2FsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0RGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3REYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiByZXF1ZXN0RGF0YS5hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdpbl9wcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlckRhdGE6IHJlcXVlc3REYXRhLFxuICAgICAgICAgICAgICAgICAgICB9LCBhZ2VudCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvblJlc3VsdHMucHVzaChhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgICAgIC8vIG5ld0l0ZW1zLnB1c2goYXBwcm92YWxJdGVtLnJ1bkl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHByb2Nlc3MgaGFuZG9mZnNcbiAgICBpZiAocHJvY2Vzc2VkUmVzcG9uc2UuaGFuZG9mZnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgZXhlY3V0ZUhhbmRvZmZDYWxscyhhZ2VudCwgb3JpZ2luYWxJbnB1dCwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgbmV3UmVzcG9uc2UsIHByb2Nlc3NlZFJlc3BvbnNlLmhhbmRvZmZzLCBydW5uZXIsIHN0YXRlLl9jb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgY2hlY2tUb29sT3V0cHV0ID0gYXdhaXQgY2hlY2tGb3JGaW5hbE91dHB1dEZyb21Ub29scyhhZ2VudCwgZnVuY3Rpb25SZXN1bHRzLCBzdGF0ZSk7XG4gICAgaWYgKGNoZWNrVG9vbE91dHB1dC5pc0ZpbmFsT3V0cHV0KSB7XG4gICAgICAgIHJ1bm5lci5lbWl0KCdhZ2VudF9lbmQnLCBzdGF0ZS5fY29udGV4dCwgYWdlbnQsIGNoZWNrVG9vbE91dHB1dC5maW5hbE91dHB1dCk7XG4gICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X2VuZCcsIHN0YXRlLl9jb250ZXh0LCBjaGVja1Rvb2xPdXRwdXQuZmluYWxPdXRwdXQpO1xuICAgICAgICByZXR1cm4gbmV3IFNpbmdsZVN0ZXBSZXN1bHQob3JpZ2luYWxJbnB1dCwgbmV3UmVzcG9uc2UsIHByZVN0ZXBJdGVtcywgbmV3SXRlbXMsIHtcbiAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfZmluYWxfb3V0cHV0JyxcbiAgICAgICAgICAgIG91dHB1dDogY2hlY2tUb29sT3V0cHV0LmZpbmFsT3V0cHV0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hlY2tUb29sT3V0cHV0LmlzSW50ZXJydXB0ZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7XG4gICAgICAgICAgICB0eXBlOiAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgaW50ZXJydXB0aW9uczogY2hlY2tUb29sT3V0cHV0LmludGVycnVwdGlvbnMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIG1vZGVsIGlzc3VlZCBhbnkgdG9vbCBjYWxscyBvciBoYW5kb2ZmcyBpbiB0aGlzIHR1cm4sXG4gICAgLy8gd2UgbXVzdCBOT1QgdHJlYXQgYW55IGFzc2lzdGFudCBtZXNzYWdlIGluIHRoZSBzYW1lIHR1cm4gYXMgdGhlIGZpbmFsIG91dHB1dC5cbiAgICAvLyBXZSBzaG91bGQgcnVuIHRoZSBsb29wIGFnYWluIHNvIHRoZSBtb2RlbCBjYW4gc2VlIHRoZSB0b29sIHJlc3VsdHMgYW5kIHJlc3BvbmQuXG4gICAgY29uc3QgaGFkVG9vbENhbGxzT3JBY3Rpb25zID0gKHByb2Nlc3NlZFJlc3BvbnNlLmZ1bmN0aW9ucz8ubGVuZ3RoID8/IDApID4gMCB8fFxuICAgICAgICAocHJvY2Vzc2VkUmVzcG9uc2UuY29tcHV0ZXJBY3Rpb25zPy5sZW5ndGggPz8gMCkgPiAwIHx8XG4gICAgICAgIChwcm9jZXNzZWRSZXNwb25zZS5tY3BBcHByb3ZhbFJlcXVlc3RzPy5sZW5ndGggPz8gMCkgPiAwIHx8XG4gICAgICAgIChwcm9jZXNzZWRSZXNwb25zZS5oYW5kb2Zmcz8ubGVuZ3RoID8/IDApID4gMDtcbiAgICBpZiAoaGFkVG9vbENhbGxzT3JBY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicgfSk7XG4gICAgfVxuICAgIC8vIE5vIHRvb2wgY2FsbHMvYWN0aW9ucyBpbiB0aGlzIHR1cm47IHNhZmUgdG8gY29uc2lkZXIgYSBwbGFpbiBhc3Npc3RhbnQgbWVzc2FnZSBhcyBmaW5hbC5cbiAgICBjb25zdCBtZXNzYWdlSXRlbXMgPSBuZXdJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gaW5zdGFuY2VvZiBSdW5NZXNzYWdlT3V0cHV0SXRlbSk7XG4gICAgLy8gd2Ugd2lsbCB1c2UgdGhlIGxhc3QgY29udGVudCBvdXRwdXQgYXMgdGhlIGZpbmFsIG91dHB1dFxuICAgIGNvbnN0IHBvdGVudGlhbEZpbmFsT3V0cHV0ID0gbWVzc2FnZUl0ZW1zLmxlbmd0aCA+IDBcbiAgICAgICAgPyBnZXRMYXN0VGV4dEZyb21PdXRwdXRNZXNzYWdlKG1lc3NhZ2VJdGVtc1ttZXNzYWdlSXRlbXMubGVuZ3RoIC0gMV0ucmF3SXRlbSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gb3V0cHV0IHdlIGp1c3QgcnVuIGFnYWluXG4gICAgaWYgKHR5cGVvZiBwb3RlbnRpYWxGaW5hbE91dHB1dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9KTtcbiAgICB9XG4gICAgY29uc3QgaGFzUGVuZGluZ1Rvb2xzT3JBcHByb3ZhbHMgPSBmdW5jdGlvblJlc3VsdHMuc29tZSgocmVzdWx0KSA9PiByZXN1bHQucnVuSXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pO1xuICAgIGlmICghaGFzUGVuZGluZ1Rvb2xzT3JBcHByb3ZhbHMpIHtcbiAgICAgICAgaWYgKGFnZW50Lm91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnLFxuICAgICAgICAgICAgICAgIG91dHB1dDogcG90ZW50aWFsRmluYWxPdXRwdXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWdlbnQub3V0cHV0VHlwZSAhPT0gJ3RleHQnICYmIHBvdGVudGlhbEZpbmFsT3V0cHV0KSB7XG4gICAgICAgICAgICAvLyBTdHJ1Y3R1cmVkIG91dHB1dCBzY2hlbWEgPT4gYWx3YXlzIGxlYWRzIHRvIGEgZmluYWwgb3V0cHV0IGlmIHdlIGhhdmUgdGV4dC5cbiAgICAgICAgICAgIGNvbnN0IHsgcGFyc2VyIH0gPSBnZXRTY2hlbWFBbmRQYXJzZXJGcm9tSW5wdXRUeXBlKGFnZW50Lm91dHB1dFR5cGUsICdmaW5hbF9vdXRwdXQnKTtcbiAgICAgICAgICAgIGNvbnN0IFtlcnJvcl0gPSBhd2FpdCBzYWZlRXhlY3V0ZSgoKSA9PiBwYXJzZXIocG90ZW50aWFsRmluYWxPdXRwdXQpKTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGFkZEVycm9yVG9DdXJyZW50U3Bhbih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIG91dHB1dCB0eXBlJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcignSW52YWxpZCBvdXRwdXQgdHlwZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfZmluYWxfb3V0cHV0Jywgb3V0cHV0OiBwb3RlbnRpYWxGaW5hbE91dHB1dCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFNpbmdsZVN0ZXBSZXN1bHQob3JpZ2luYWxJbnB1dCwgbmV3UmVzcG9uc2UsIHByZVN0ZXBJdGVtcywgbmV3SXRlbXMsIHsgdHlwZTogJ25leHRfc3RlcF9ydW5fYWdhaW4nIH0pO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRvb2xDYWxsT3V0cHV0SXRlbSh0b29sQ2FsbCwgb3V0cHV0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2NhbGxfcmVzdWx0JyxcbiAgICAgICAgbmFtZTogdG9vbENhbGwubmFtZSxcbiAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgdGV4dDogdG9TbWFydFN0cmluZyhvdXRwdXQpLFxuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUZ1bmN0aW9uVG9vbENhbGxzKGFnZW50LCB0b29sUnVucywgcnVubmVyLCBzdGF0ZSkge1xuICAgIGFzeW5jIGZ1bmN0aW9uIHJ1blNpbmdsZVRvb2wodG9vbFJ1bikge1xuICAgICAgICBsZXQgcGFyc2VkQXJncyA9IHRvb2xSdW4udG9vbENhbGwuYXJndW1lbnRzO1xuICAgICAgICBpZiAodG9vbFJ1bi50b29sLnBhcmFtZXRlcnMpIHtcbiAgICAgICAgICAgIGlmIChpc1pvZE9iamVjdCh0b29sUnVuLnRvb2wucGFyYW1ldGVycykpIHtcbiAgICAgICAgICAgICAgICBwYXJzZWRBcmdzID0gdG9vbFJ1bi50b29sLnBhcmFtZXRlcnMucGFyc2UocGFyc2VkQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJzZWRBcmdzID0gSlNPTi5wYXJzZShwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZWVkc0FwcHJvdmFsID0gYXdhaXQgdG9vbFJ1bi50b29sLm5lZWRzQXBwcm92YWwoc3RhdGUuX2NvbnRleHQsIHBhcnNlZEFyZ3MsIHRvb2xSdW4udG9vbENhbGwuY2FsbElkKTtcbiAgICAgICAgaWYgKG5lZWRzQXBwcm92YWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsID0gc3RhdGUuX2NvbnRleHQuaXNUb29sQXBwcm92ZWQoe1xuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBjYWxsSWQ6IHRvb2xSdW4udG9vbENhbGwuY2FsbElkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoYXBwcm92YWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVqZWN0ZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gd2l0aEZ1bmN0aW9uU3Bhbihhc3luYyAoc3BhbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9ICdUb29sIGV4ZWN1dGlvbiB3YXMgbm90IGFwcHJvdmVkLic7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9uYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogYFRvb2wgZXhlY3V0aW9uIGZvciAke3Rvb2xSdW4udG9vbENhbGwuY2FsbElkfSB3YXMgbWFudWFsbHkgcmVqZWN0ZWQgYnkgdXNlci5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc3BhbkRhdGEub3V0cHV0ID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fb3V0cHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2w6IHRvb2xSdW4udG9vbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5JdGVtOiBuZXcgUnVuVG9vbENhbGxPdXRwdXRJdGVtKGdldFRvb2xDYWxsT3V0cHV0SXRlbSh0b29sUnVuLnRvb2xDYWxsLCByZXNwb25zZSksIGFnZW50LCByZXNwb25zZSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgYXBwcm92YWwgcHJvY2VzcyBuZWVkcyB0byBiZSBkb25lIGluIHRoZSBuZXh0IHR1cm5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fYXBwcm92YWwnLFxuICAgICAgICAgICAgICAgICAgICB0b29sOiB0b29sUnVuLnRvb2wsXG4gICAgICAgICAgICAgICAgICAgIHJ1bkl0ZW06IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHRvb2xSdW4udG9vbENhbGwsIGFnZW50KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aXRoRnVuY3Rpb25TcGFuKGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmVyLmNvbmZpZy50cmFjZUluY2x1ZGVTZW5zaXRpdmVEYXRhKSB7XG4gICAgICAgICAgICAgICAgc3Bhbi5zcGFuRGF0YS5pbnB1dCA9IHRvb2xSdW4udG9vbENhbGwuYXJndW1lbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHN0YXRlLl9jb250ZXh0LCBhZ2VudCwgdG9vbFJ1bi50b29sLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsOiB0b29sUnVuLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCBzdGF0ZS5fY29udGV4dCwgdG9vbFJ1bi50b29sLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsOiB0b29sUnVuLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xPdXRwdXQgPSBhd2FpdCB0b29sUnVuLnRvb2wuaW52b2tlKHN0YXRlLl9jb250ZXh0LCB0b29sUnVuLnRvb2xDYWxsLmFyZ3VtZW50cywgeyB0b29sQ2FsbDogdG9vbFJ1bi50b29sQ2FsbCB9KTtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugc3RyaW5nIGRhdGEgZm9yIHRyYWNpbmcgYW5kIGV2ZW50IGVtaXR0ZXJcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdSZXN1bHQgPSB0b1NtYXJ0U3RyaW5nKHRvb2xPdXRwdXQpO1xuICAgICAgICAgICAgICAgIHJ1bm5lci5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHN0YXRlLl9jb250ZXh0LCBhZ2VudCwgdG9vbFJ1bi50b29sLCBzdHJpbmdSZXN1bHQsIHsgdG9vbENhbGw6IHRvb2xSdW4udG9vbENhbGwgfSk7XG4gICAgICAgICAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCBzdGF0ZS5fY29udGV4dCwgdG9vbFJ1bi50b29sLCBzdHJpbmdSZXN1bHQsIHsgdG9vbENhbGw6IHRvb2xSdW4udG9vbENhbGwgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5lci5jb25maWcudHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNwYW5EYXRhLm91dHB1dCA9IHN0cmluZ1Jlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnVuY3Rpb25SZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9vdXRwdXQnLFxuICAgICAgICAgICAgICAgICAgICB0b29sOiB0b29sUnVuLnRvb2wsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogdG9vbE91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgcnVuSXRlbTogbmV3IFJ1blRvb2xDYWxsT3V0cHV0SXRlbShnZXRUb29sQ2FsbE91dHB1dEl0ZW0odG9vbFJ1bi50b29sQ2FsbCwgdG9vbE91dHB1dCksIGFnZW50LCB0b29sT3V0cHV0KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZFJ1blJlc3VsdCA9IGNvbnN1bWVBZ2VudFRvb2xSdW5SZXN1bHQodG9vbFJ1bi50b29sQ2FsbCk7XG4gICAgICAgICAgICAgICAgaWYgKG5lc3RlZFJ1blJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblJlc3VsdC5hZ2VudFJ1blJlc3VsdCA9IG5lc3RlZFJ1blJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkSW50ZXJydXB0aW9ucyA9IG5lc3RlZFJ1blJlc3VsdC5pbnRlcnJ1cHRpb25zO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmVzdGVkSW50ZXJydXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblJlc3VsdC5pbnRlcnJ1cHRpb25zID0gbmVzdGVkSW50ZXJydXB0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb25SZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIHJ1bm5pbmcgdG9vbCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfbmFtZTogdG9vbFJ1bi50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRvb2xSdW4udG9vbC5uYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbCh0b29sUnVucy5tYXAocnVuU2luZ2xlVG9vbCkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRvb2xDYWxsRXJyb3IoYEZhaWxlZCB0byBydW4gZnVuY3Rpb24gdG9vbHM6ICR7ZX1gLCBlLCBzdGF0ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLy8gSW50ZXJuYWwgaGVscGVyOiBkaXNwYXRjaCBhIGNvbXB1dGVyIGFjdGlvbiBhbmQgcmV0dXJuIGEgc2NyZWVuc2hvdCAoc3luYy9hc3luYylcbmFzeW5jIGZ1bmN0aW9uIF9ydW5Db21wdXRlckFjdGlvbkFuZFNjcmVlbnNob3QoY29tcHV0ZXIsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgYWN0aW9uID0gdG9vbENhbGwuYWN0aW9uO1xuICAgIGxldCBzY3JlZW5zaG90O1xuICAgIC8vIERpc3BhdGNoIGJhc2VkIG9uIGFjdGlvbiB0eXBlIHN0cmluZyAoYXNzdW1lIGFjdGlvbi50eXBlIGV4aXN0cylcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLmNsaWNrKGFjdGlvbi54LCBhY3Rpb24ueSwgYWN0aW9uLmJ1dHRvbik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZG91YmxlX2NsaWNrJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLmRvdWJsZUNsaWNrKGFjdGlvbi54LCBhY3Rpb24ueSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZHJhZyc6XG4gICAgICAgICAgICBhd2FpdCBjb21wdXRlci5kcmFnKGFjdGlvbi5wYXRoLm1hcCgocCkgPT4gW3AueCwgcC55XSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2tleXByZXNzJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLmtleXByZXNzKGFjdGlvbi5rZXlzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb3ZlJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLm1vdmUoYWN0aW9uLngsIGFjdGlvbi55KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzY3JlZW5zaG90JzpcbiAgICAgICAgICAgIHNjcmVlbnNob3QgPSBhd2FpdCBjb21wdXRlci5zY3JlZW5zaG90KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2Nyb2xsJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLnNjcm9sbChhY3Rpb24ueCwgYWN0aW9uLnksIGFjdGlvbi5zY3JvbGxfeCwgYWN0aW9uLnNjcm9sbF95KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0eXBlJzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLnR5cGUoYWN0aW9uLnRleHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3dhaXQnOlxuICAgICAgICAgICAgYXdhaXQgY29tcHV0ZXIud2FpdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhY3Rpb247IC8vIGVuc3VyZXMgdGhhdCB3ZSBoYW5kbGUgZXZlcnkgYWN0aW9uIHdlIGtub3cgb2ZcbiAgICAgICAgICAgIC8vIFVua25vd24gYWN0aW9uLCBqdXN0IHRha2Ugc2NyZWVuc2hvdFxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2NyZWVuc2hvdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHNjcmVlbnNob3Q7XG4gICAgfVxuICAgIC8vIEFsd2F5cyByZXR1cm4gc2NyZWVuc2hvdCBhcyBiYXNlNjQgc3RyaW5nXG4gICAgaWYgKHR5cGVvZiBjb21wdXRlci5zY3JlZW5zaG90ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNjcmVlbnNob3QgPSBhd2FpdCBjb21wdXRlci5zY3JlZW5zaG90KCk7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NyZWVuc2hvdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JlZW5zaG90O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQ29tcHV0ZXIgZG9lcyBub3QgaW1wbGVtZW50IHNjcmVlbnNob3QoKScpO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVDb21wdXRlckFjdGlvbnMoYWdlbnQsIGFjdGlvbnMsIHJ1bm5lciwgcnVuQ29udGV4dCwgY3VzdG9tTG9nZ2VyID0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgX2xvZ2dlciA9IGN1c3RvbUxvZ2dlciA/PyBsb2dnZXI7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZXIgPSBhY3Rpb24uY29tcHV0ZXIuY29tcHV0ZXI7XG4gICAgICAgIGNvbnN0IHRvb2xDYWxsID0gYWN0aW9uLnRvb2xDYWxsO1xuICAgICAgICAvLyBIb29rczogb25fdG9vbF9zdGFydCAoZ2xvYmFsICsgYWdlbnQpXG4gICAgICAgIHJ1bm5lci5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgcnVuQ29udGV4dCwgYWdlbnQsIGFjdGlvbi5jb21wdXRlciwge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIGFnZW50LmVtaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCBydW5Db250ZXh0LCBhY3Rpb24uY29tcHV0ZXIsIHsgdG9vbENhbGwgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUnVuIHRoZSBhY3Rpb24gYW5kIGdldCBzY3JlZW5zaG90XG4gICAgICAgIGxldCBvdXRwdXQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBhd2FpdCBfcnVuQ29tcHV0ZXJBY3Rpb25BbmRTY3JlZW5zaG90KGNvbXB1dGVyLCB0b29sQ2FsbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgX2xvZ2dlci5lcnJvcignRmFpbGVkIHRvIGV4ZWN1dGUgY29tcHV0ZXIgYWN0aW9uOicsIGVycik7XG4gICAgICAgICAgICBvdXRwdXQgPSAnJztcbiAgICAgICAgfVxuICAgICAgICAvLyBIb29rczogb25fdG9vbF9lbmQgKGdsb2JhbCArIGFnZW50KVxuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCBydW5Db250ZXh0LCBhZ2VudCwgYWN0aW9uLmNvbXB1dGVyLCBvdXRwdXQsIHtcbiAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBhZ2VudC5lbWl0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBhZ2VudC5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHJ1bkNvbnRleHQsIGFjdGlvbi5jb21wdXRlciwgb3V0cHV0LCB7XG4gICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbHdheXMgcmV0dXJuIGEgc2NyZWVuc2hvdCBhcyBhIGJhc2U2NCBkYXRhIFVSTFxuICAgICAgICBjb25zdCBpbWFnZVVybCA9IG91dHB1dCA/IGBkYXRhOmltYWdlL3BuZztiYXNlNjQsJHtvdXRwdXR9YCA6ICcnO1xuICAgICAgICBjb25zdCByYXdJdGVtID0ge1xuICAgICAgICAgICAgdHlwZTogJ2NvbXB1dGVyX2NhbGxfcmVzdWx0JyxcbiAgICAgICAgICAgIGNhbGxJZDogdG9vbENhbGwuY2FsbElkLFxuICAgICAgICAgICAgb3V0cHV0OiB7IHR5cGU6ICdjb21wdXRlcl9zY3JlZW5zaG90JywgZGF0YTogaW1hZ2VVcmwgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0ocmF3SXRlbSwgYWdlbnQsIGltYWdlVXJsKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVIYW5kb2ZmQ2FsbHMoYWdlbnQsIG9yaWdpbmFsSW5wdXQsIHByZVN0ZXBJdGVtcywgbmV3U3RlcEl0ZW1zLCBuZXdSZXNwb25zZSwgcnVuSGFuZG9mZnMsIHJ1bm5lciwgcnVuQ29udGV4dCkge1xuICAgIG5ld1N0ZXBJdGVtcyA9IFsuLi5uZXdTdGVwSXRlbXNdO1xuICAgIGlmIChydW5IYW5kb2Zmcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ0luY29ycmVjdGx5IGNhbGxlZCBleGVjdXRlSGFuZG9mZkNhbGxzIHdpdGggbm8gaGFuZG9mZnMuIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4uIE1vdmluZyBvbi4nKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld1N0ZXBJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicgfSk7XG4gICAgfVxuICAgIGlmIChydW5IYW5kb2Zmcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIG11bHRpcGxlIGhhbmRvZmZzLiBJZ25vcmluZyBhbGwgYnV0IHRoZSBmaXJzdCBvbmUgYnkgYWRkaW5nIHJlamVjdCByZXNwb25zZXMgZm9yIHRob3NlXG4gICAgICAgIGNvbnN0IG91dHB1dE1lc3NhZ2UgPSAnTXVsdGlwbGUgaGFuZG9mZnMgZGV0ZWN0ZWQsIGlnbm9yaW5nIHRoaXMgb25lLic7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcnVuSGFuZG9mZnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5ld1N0ZXBJdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0oZ2V0VG9vbENhbGxPdXRwdXRJdGVtKHJ1bkhhbmRvZmZzW2ldLnRvb2xDYWxsLCBvdXRwdXRNZXNzYWdlKSwgYWdlbnQsIG91dHB1dE1lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhY3R1YWxIYW5kb2ZmID0gcnVuSGFuZG9mZnNbMF07XG4gICAgcmV0dXJuIHdpdGhIYW5kb2ZmU3Bhbihhc3luYyAoaGFuZG9mZlNwYW4pID0+IHtcbiAgICAgICAgY29uc3QgaGFuZG9mZiA9IGFjdHVhbEhhbmRvZmYuaGFuZG9mZjtcbiAgICAgICAgY29uc3QgbmV3QWdlbnQgPSBhd2FpdCBoYW5kb2ZmLm9uSW52b2tlSGFuZG9mZihydW5Db250ZXh0LCBhY3R1YWxIYW5kb2ZmLnRvb2xDYWxsLmFyZ3VtZW50cyk7XG4gICAgICAgIGhhbmRvZmZTcGFuLnNwYW5EYXRhLnRvX2FnZW50ID0gbmV3QWdlbnQubmFtZTtcbiAgICAgICAgaWYgKHJ1bkhhbmRvZmZzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RlZEFnZW50cyA9IHJ1bkhhbmRvZmZzLm1hcCgoaCkgPT4gaC5oYW5kb2ZmLmFnZW50TmFtZSk7XG4gICAgICAgICAgICBoYW5kb2ZmU3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ011bHRpcGxlIGhhbmRvZmZzIHJlcXVlc3RlZCcsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ZWRfYWdlbnRzOiByZXF1ZXN0ZWRBZ2VudHMsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIG5ld1N0ZXBJdGVtcy5wdXNoKG5ldyBSdW5IYW5kb2ZmT3V0cHV0SXRlbShnZXRUb29sQ2FsbE91dHB1dEl0ZW0oYWN0dWFsSGFuZG9mZi50b29sQ2FsbCwgZ2V0VHJhbnNmZXJNZXNzYWdlKG5ld0FnZW50KSksIGFnZW50LCBuZXdBZ2VudCkpO1xuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfaGFuZG9mZicsIHJ1bkNvbnRleHQsIGFnZW50LCBuZXdBZ2VudCk7XG4gICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X2hhbmRvZmYnLCBydW5Db250ZXh0LCBuZXdBZ2VudCk7XG4gICAgICAgIGNvbnN0IGlucHV0RmlsdGVyID0gaGFuZG9mZi5pbnB1dEZpbHRlciA/PyBydW5uZXIuY29uZmlnLmhhbmRvZmZJbnB1dEZpbHRlcjtcbiAgICAgICAgaWYgKGlucHV0RmlsdGVyKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0ZpbHRlcmluZyBpbnB1dHMgZm9yIGhhbmRvZmYnKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXRGaWx0ZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBoYW5kb2ZmU3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGlucHV0IGZpbHRlcicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdub3QgY2FsbGFibGUnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGFuZG9mZklucHV0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICBpbnB1dEhpc3Rvcnk6IEFycmF5LmlzQXJyYXkob3JpZ2luYWxJbnB1dClcbiAgICAgICAgICAgICAgICAgICAgPyBbLi4ub3JpZ2luYWxJbnB1dF1cbiAgICAgICAgICAgICAgICAgICAgOiBvcmlnaW5hbElucHV0LFxuICAgICAgICAgICAgICAgIHByZUhhbmRvZmZJdGVtczogWy4uLnByZVN0ZXBJdGVtc10sXG4gICAgICAgICAgICAgICAgbmV3SXRlbXM6IFsuLi5uZXdTdGVwSXRlbXNdLFxuICAgICAgICAgICAgICAgIHJ1bkNvbnRleHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBpbnB1dEZpbHRlcihoYW5kb2ZmSW5wdXREYXRhKTtcbiAgICAgICAgICAgIG9yaWdpbmFsSW5wdXQgPSBmaWx0ZXJlZC5pbnB1dEhpc3Rvcnk7XG4gICAgICAgICAgICBwcmVTdGVwSXRlbXMgPSBmaWx0ZXJlZC5wcmVIYW5kb2ZmSXRlbXM7XG4gICAgICAgICAgICBuZXdTdGVwSXRlbXMgPSBmaWx0ZXJlZC5uZXdJdGVtcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNpbmdsZVN0ZXBSZXN1bHQob3JpZ2luYWxJbnB1dCwgbmV3UmVzcG9uc2UsIHByZVN0ZXBJdGVtcywgbmV3U3RlcEl0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfaGFuZG9mZicsIG5ld0FnZW50IH0pO1xuICAgIH0sIHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZnJvbV9hZ2VudDogYWdlbnQubmFtZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmNvbnN0IE5PVF9GSU5BTF9PVVRQVVQgPSB7XG4gICAgaXNGaW5hbE91dHB1dDogZmFsc2UsXG4gICAgaXNJbnRlcnJ1cHRlZDogdW5kZWZpbmVkLFxufTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0ZvckZpbmFsT3V0cHV0RnJvbVRvb2xzKGFnZW50LCB0b29sUmVzdWx0cywgc3RhdGUpIHtcbiAgICBpZiAodG9vbFJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBOT1RfRklOQUxfT1VUUFVUO1xuICAgIH1cbiAgICBjb25zdCBpbnRlcnJ1cHRpb25zID0gW107XG4gICAgZm9yIChjb25zdCByZXN1bHQgb2YgdG9vbFJlc3VsdHMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5ydW5JdGVtIGluc3RhbmNlb2YgUnVuVG9vbEFwcHJvdmFsSXRlbSkge1xuICAgICAgICAgICAgaW50ZXJydXB0aW9ucy5wdXNoKHJlc3VsdC5ydW5JdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LnR5cGUgPT09ICdmdW5jdGlvbl9vdXRwdXQnKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQuaW50ZXJydXB0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRpb25zLnB1c2goLi4ucmVzdWx0LmludGVycnVwdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LmFnZW50UnVuUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVzdGVkSW50ZXJydXB0aW9ucyA9IHJlc3VsdC5hZ2VudFJ1blJlc3VsdC5pbnRlcnJ1cHRpb25zO1xuICAgICAgICAgICAgICAgIGlmIChuZXN0ZWRJbnRlcnJ1cHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJydXB0aW9ucy5wdXNoKC4uLm5lc3RlZEludGVycnVwdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW50ZXJydXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc0ZpbmFsT3V0cHV0OiBmYWxzZSxcbiAgICAgICAgICAgIGlzSW50ZXJydXB0ZWQ6IHRydWUsXG4gICAgICAgICAgICBpbnRlcnJ1cHRpb25zLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoYWdlbnQudG9vbFVzZUJlaGF2aW9yID09PSAncnVuX2xsbV9hZ2FpbicpIHtcbiAgICAgICAgcmV0dXJuIE5PVF9GSU5BTF9PVVRQVVQ7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0VG9vbFJlc3VsdCA9IHRvb2xSZXN1bHRzWzBdO1xuICAgIGlmIChhZ2VudC50b29sVXNlQmVoYXZpb3IgPT09ICdzdG9wX29uX2ZpcnN0X3Rvb2wnKSB7XG4gICAgICAgIGlmIChmaXJzdFRvb2xSZXN1bHQ/LnR5cGUgPT09ICdmdW5jdGlvbl9vdXRwdXQnKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdPdXRwdXQgPSB0b1NtYXJ0U3RyaW5nKGZpcnN0VG9vbFJlc3VsdC5vdXRwdXQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpc0ZpbmFsT3V0cHV0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzSW50ZXJydXB0ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBmaW5hbE91dHB1dDogc3RyaW5nT3V0cHV0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTk9UX0ZJTkFMX09VVFBVVDtcbiAgICB9XG4gICAgY29uc3QgdG9vbFVzZUJlaGF2aW9yID0gYWdlbnQudG9vbFVzZUJlaGF2aW9yO1xuICAgIGlmICh0eXBlb2YgdG9vbFVzZUJlaGF2aW9yID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zdCBzdG9wcGluZ1Rvb2wgPSB0b29sUmVzdWx0cy5maW5kKChyKSA9PiB0b29sVXNlQmVoYXZpb3Iuc3RvcEF0VG9vbE5hbWVzLmluY2x1ZGVzKHIudG9vbC5uYW1lKSk7XG4gICAgICAgIGlmIChzdG9wcGluZ1Rvb2w/LnR5cGUgPT09ICdmdW5jdGlvbl9vdXRwdXQnKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdPdXRwdXQgPSB0b1NtYXJ0U3RyaW5nKHN0b3BwaW5nVG9vbC5vdXRwdXQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpc0ZpbmFsT3V0cHV0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzSW50ZXJydXB0ZWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBmaW5hbE91dHB1dDogc3RyaW5nT3V0cHV0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTk9UX0ZJTkFMX09VVFBVVDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0b29sVXNlQmVoYXZpb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRvb2xVc2VCZWhhdmlvcihzdGF0ZS5fY29udGV4dCwgdG9vbFJlc3VsdHMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBJbnZhbGlkIHRvb2xVc2VCZWhhdmlvcjogJHt0b29sVXNlQmVoYXZpb3J9YCwgc3RhdGUpO1xufVxuZnVuY3Rpb24gZ2V0UnVuSXRlbVN0cmVhbUV2ZW50TmFtZShpdGVtKSB7XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5NZXNzYWdlT3V0cHV0SXRlbSkge1xuICAgICAgICByZXR1cm4gJ21lc3NhZ2Vfb3V0cHV0X2NyZWF0ZWQnO1xuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1bkhhbmRvZmZDYWxsSXRlbSkge1xuICAgICAgICByZXR1cm4gJ2hhbmRvZmZfcmVxdWVzdGVkJztcbiAgICB9XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5IYW5kb2ZmT3V0cHV0SXRlbSkge1xuICAgICAgICByZXR1cm4gJ2hhbmRvZmZfb2NjdXJyZWQnO1xuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xDYWxsSXRlbSkge1xuICAgICAgICByZXR1cm4gJ3Rvb2xfY2FsbGVkJztcbiAgICB9XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICd0b29sX291dHB1dCc7XG4gICAgfVxuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUnVuUmVhc29uaW5nSXRlbSkge1xuICAgICAgICByZXR1cm4gJ3JlYXNvbmluZ19pdGVtX2NyZWF0ZWQnO1xuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICd0b29sX2FwcHJvdmFsX3JlcXVlc3RlZCc7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBlbnF1ZXVlUnVuSXRlbVN0cmVhbUV2ZW50KHJlc3VsdCwgaXRlbSkge1xuICAgIGNvbnN0IGl0ZW1OYW1lID0gZ2V0UnVuSXRlbVN0cmVhbUV2ZW50TmFtZShpdGVtKTtcbiAgICBpZiAoIWl0ZW1OYW1lKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdVbmtub3duIGl0ZW0gdHlwZTogJywgaXRlbSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVzdWx0Ll9hZGRJdGVtKG5ldyBSdW5JdGVtU3RyZWFtRXZlbnQoaXRlbU5hbWUsIGl0ZW0pKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJlYW1TdGVwSXRlbXNUb1J1blJlc3VsdChyZXN1bHQsIGl0ZW1zKSB7XG4gICAgLy8gUHJlc2VydmUgdGhlIG9yZGVyIGluIHdoaWNoIGl0ZW1zIHdlcmUgZ2VuZXJhdGVkIGJ5IGVucXVldWVpbmcgZWFjaCBvbmVcbiAgICAvLyBpbW1lZGlhdGVseSBvbiB0aGUgc3RyZWFtZWQgcmVzdWx0LlxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICBlbnF1ZXVlUnVuSXRlbVN0cmVhbUV2ZW50KHJlc3VsdCwgaXRlbSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFN0ZXBUb1J1blJlc3VsdChyZXN1bHQsIHN0ZXAsIG9wdGlvbnMpIHtcbiAgICAvLyBza2lwSXRlbXMgY29udGFpbnMgcnVuIGl0ZW1zIHRoYXQgd2VyZSBhbHJlYWR5IHN0cmVhbWVkIHNvIHdlIGF2b2lkXG4gICAgLy8gZW5xdWV1ZWluZyBkdXBsaWNhdGUgZXZlbnRzIGZvciB0aGUgc2FtZSBpbnN0YW5jZS5cbiAgICBjb25zdCBza2lwcGVkSXRlbXMgPSBvcHRpb25zPy5za2lwSXRlbXM7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHN0ZXAubmV3U3RlcEl0ZW1zKSB7XG4gICAgICAgIGlmIChza2lwcGVkSXRlbXM/LmhhcyhpdGVtKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZW5xdWV1ZVJ1bkl0ZW1TdHJlYW1FdmVudChyZXN1bHQsIGl0ZW0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBZ2VudFRvb2xVc2VUcmFja2VyIHtcbiAgICAjYWdlbnRUb1Rvb2xzID0gbmV3IE1hcCgpO1xuICAgIGFkZFRvb2xVc2UoYWdlbnQsIHRvb2xOYW1lcykge1xuICAgICAgICB0aGlzLiNhZ2VudFRvVG9vbHMuc2V0KGFnZW50LCB0b29sTmFtZXMpO1xuICAgIH1cbiAgICBoYXNVc2VkVG9vbHMoYWdlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2FnZW50VG9Ub29scy5oYXMoYWdlbnQpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbSh0aGlzLiNhZ2VudFRvVG9vbHMuZW50cmllcygpKS5tYXAoKFthZ2VudCwgdG9vbE5hbWVzXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFthZ2VudC5uYW1lLCB0b29sTmFtZXNdO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVuSW1wbGVtZW50YXRpb24ubWpzLm1hcCIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi9hZ2VudC5tanNcIjtcbmltcG9ydCB7IFJ1bk1lc3NhZ2VPdXRwdXRJdGVtLCBSdW5Ub29sQXBwcm92YWxJdGVtLCBSdW5Ub29sQ2FsbEl0ZW0sIFJ1blRvb2xDYWxsT3V0cHV0SXRlbSwgUnVuUmVhc29uaW5nSXRlbSwgUnVuSGFuZG9mZkNhbGxJdGVtLCBSdW5IYW5kb2ZmT3V0cHV0SXRlbSwgfSBmcm9tIFwiLi9pdGVtcy5tanNcIjtcbmltcG9ydCB7IFJ1bkNvbnRleHQgfSBmcm9tIFwiLi9ydW5Db250ZXh0Lm1qc1wiO1xuaW1wb3J0IHsgZ2V0VHVybklucHV0IH0gZnJvbSBcIi4vcnVuLm1qc1wiO1xuaW1wb3J0IHsgQWdlbnRUb29sVXNlVHJhY2tlciwgbmV4dFN0ZXBTY2hlbWEsIH0gZnJvbSBcIi4vcnVuSW1wbGVtZW50YXRpb24ubWpzXCI7XG5pbXBvcnQgeyBTeXN0ZW1FcnJvciwgVXNlckVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgZ2V0R2xvYmFsVHJhY2VQcm92aWRlciB9IGZyb20gXCIuL3RyYWNpbmcvcHJvdmlkZXIubWpzXCI7XG5pbXBvcnQgeyBVc2FnZSB9IGZyb20gXCIuL3VzYWdlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFRyYWNlIH0gZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgaGFuZG9mZiB9IGZyb20gXCIuL2hhbmRvZmYubWpzXCI7XG5pbXBvcnQgKiBhcyBwcm90b2NvbCBmcm9tIFwiLi90eXBlcy9wcm90b2NvbC5tanNcIjtcbmltcG9ydCB7IHNhZmVFeGVjdXRlIH0gZnJvbSBcIi4vdXRpbHMvc2FmZUV4ZWN1dGUubWpzXCI7XG4vKipcbiAqIFRoZSBzY2hlbWEgdmVyc2lvbiBvZiB0aGUgc2VyaWFsaXplZCBydW4gc3RhdGUuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgc2VyaWFsaXplZFxuICogcnVuIHN0YXRlIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSBTREsuXG4gKiBJZiBhbnl0aGluZyBpbiB0aGlzIHNjaGVtYSBjaGFuZ2VzLCB0aGUgdmVyc2lvbiB3aWxsIGhhdmUgdG8gYmUgaW5jcmVtZW50ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBDVVJSRU5UX1NDSEVNQV9WRVJTSU9OID0gJzEuMCc7XG5jb25zdCAkc2NoZW1hVmVyc2lvbiA9IHoubGl0ZXJhbChDVVJSRU5UX1NDSEVNQV9WRVJTSU9OKTtcbmNvbnN0IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBuYW1lOiB6LnN0cmluZygpLFxufSk7XG5jb25zdCBzZXJpYWxpemVkU3BhbkJhc2UgPSB6Lm9iamVjdCh7XG4gICAgb2JqZWN0OiB6LmxpdGVyYWwoJ3RyYWNlLnNwYW4nKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICB0cmFjZV9pZDogei5zdHJpbmcoKSxcbiAgICBwYXJlbnRfaWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgICBzdGFydGVkX2F0OiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgZW5kZWRfYXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgICBlcnJvcjogelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgbWVzc2FnZTogei5zdHJpbmcoKSxcbiAgICAgICAgZGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKSxcbiAgICB9KVxuICAgICAgICAubnVsbGFibGUoKSxcbiAgICBzcGFuX2RhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxufSk7XG5jb25zdCBTZXJpYWxpemVkU3BhbiA9IHNlcmlhbGl6ZWRTcGFuQmFzZS5leHRlbmQoe1xuICAgIHByZXZpb3VzX3NwYW46IHoubGF6eSgoKSA9PiBTZXJpYWxpemVkU3Bhbikub3B0aW9uYWwoKSxcbn0pO1xuY29uc3QgdXNhZ2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgcmVxdWVzdHM6IHoubnVtYmVyKCksXG4gICAgaW5wdXRUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIHRvdGFsVG9rZW5zOiB6Lm51bWJlcigpLFxufSk7XG5jb25zdCBtb2RlbFJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHVzYWdlOiB1c2FnZVNjaGVtYSxcbiAgICBvdXRwdXQ6IHouYXJyYXkocHJvdG9jb2wuT3V0cHV0TW9kZWxJdGVtKSxcbiAgICByZXNwb25zZUlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgcHJvdmlkZXJEYXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKS5vcHRpb25hbCgpLFxufSk7XG5jb25zdCBpdGVtU2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2Vfb3V0cHV0X2l0ZW0nKSxcbiAgICAgICAgcmF3SXRlbTogcHJvdG9jb2wuQXNzaXN0YW50TWVzc2FnZUl0ZW0sXG4gICAgICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2xfY2FsbF9pdGVtJyksXG4gICAgICAgIHJhd0l0ZW06IHByb3RvY29sLlRvb2xDYWxsSXRlbS5vcihwcm90b2NvbC5Ib3N0ZWRUb29sQ2FsbEl0ZW0pLFxuICAgICAgICBhZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCd0b29sX2NhbGxfb3V0cHV0X2l0ZW0nKSxcbiAgICAgICAgcmF3SXRlbTogcHJvdG9jb2wuRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSxcbiAgICAgICAgYWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICAgICAgb3V0cHV0OiB6LnN0cmluZygpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmdfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5SZWFzb25pbmdJdGVtLFxuICAgICAgICBhZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdoYW5kb2ZmX2NhbGxfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5GdW5jdGlvbkNhbGxJdGVtLFxuICAgICAgICBhZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdoYW5kb2ZmX291dHB1dF9pdGVtJyksXG4gICAgICAgIHJhd0l0ZW06IHByb3RvY29sLkZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0sXG4gICAgICAgIHNvdXJjZUFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgICAgIHRhcmdldEFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2xfYXBwcm92YWxfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5GdW5jdGlvbkNhbGxJdGVtLm9yKHByb3RvY29sLkhvc3RlZFRvb2xDYWxsSXRlbSksXG4gICAgICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgfSksXG5dKTtcbmNvbnN0IHNlcmlhbGl6ZWRUcmFjZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBvYmplY3Q6IHoubGl0ZXJhbCgndHJhY2UnKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICB3b3JrZmxvd19uYW1lOiB6LnN0cmluZygpLFxuICAgIGdyb3VwX2lkOiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgbWV0YWRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxufSk7XG5jb25zdCBzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgbmV3SXRlbXM6IHouYXJyYXkoaXRlbVNjaGVtYSksXG4gICAgdG9vbHNVc2VkOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIGhhbmRvZmZzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgdG9vbENhbGw6IHouYW55KCksXG4gICAgICAgIGhhbmRvZmY6IHouYW55KCksXG4gICAgfSkpLFxuICAgIGZ1bmN0aW9uczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIHRvb2xDYWxsOiB6LmFueSgpLFxuICAgICAgICB0b29sOiB6LmFueSgpLFxuICAgIH0pKSxcbiAgICBjb21wdXRlckFjdGlvbnM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICB0b29sQ2FsbDogei5hbnkoKSxcbiAgICAgICAgY29tcHV0ZXI6IHouYW55KCksXG4gICAgfSkpLFxuICAgIG1jcEFwcHJvdmFsUmVxdWVzdHM6IHpcbiAgICAgICAgLmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgcmVxdWVzdEl0ZW06IHoub2JqZWN0KHtcbiAgICAgICAgICAgIC8vIHByb3RvY29sLkhvc3RlZFRvb2xDYWxsSXRlbVxuICAgICAgICAgICAgcmF3SXRlbTogei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnaG9zdGVkX3Rvb2xfY2FsbCcpLFxuICAgICAgICAgICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgb3V0cHV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBhbHdheXMgZXhpc3RzIGJ1dCBtYXJrZWQgYXMgb3B0aW9uYWwgZm9yIGVhcmx5IHZlcnNpb24gY29tcGF0aWJpbGl0eTsgd2hlbiByZWxlYXNpbmcgMS4wLCB3ZSBjYW4gcmVtb3ZlIHRoZSBudWxsYWJsZSBhbmQgb3B0aW9uYWxcbiAgICAgICAgICAgICAgICBwcm92aWRlckRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgICAgLy8gSG9zdGVkTUNQVG9vbFxuICAgICAgICBtY3BUb29sOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2hvc3RlZF90b29sJyksXG4gICAgICAgICAgICBuYW1lOiB6LmxpdGVyYWwoJ2hvc3RlZF9tY3AnKSxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG4gICAgICAgIH0pLFxuICAgIH0pKVxuICAgICAgICAub3B0aW9uYWwoKSxcbn0pO1xuY29uc3QgZ3VhcmRyYWlsRnVuY3Rpb25PdXRwdXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHJpcHdpcmVUcmlnZ2VyZWQ6IHouYm9vbGVhbigpLFxuICAgIG91dHB1dEluZm86IHouYW55KCksXG59KTtcbmNvbnN0IGlucHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGd1YXJkcmFpbDogei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0JyksXG4gICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgb3V0cHV0OiBndWFyZHJhaWxGdW5jdGlvbk91dHB1dFNjaGVtYSxcbn0pO1xuY29uc3Qgb3V0cHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGd1YXJkcmFpbDogei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dCcpLFxuICAgICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIH0pLFxuICAgIGFnZW50T3V0cHV0OiB6LmFueSgpLFxuICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgb3V0cHV0OiBndWFyZHJhaWxGdW5jdGlvbk91dHB1dFNjaGVtYSxcbn0pO1xuZXhwb3J0IGNvbnN0IFNlcmlhbGl6ZWRSdW5TdGF0ZSA9IHoub2JqZWN0KHtcbiAgICAkc2NoZW1hVmVyc2lvbixcbiAgICBjdXJyZW50VHVybjogei5udW1iZXIoKSxcbiAgICBjdXJyZW50QWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICBvcmlnaW5hbElucHV0OiB6LnN0cmluZygpLm9yKHouYXJyYXkocHJvdG9jb2wuTW9kZWxJdGVtKSksXG4gICAgbW9kZWxSZXNwb25zZXM6IHouYXJyYXkobW9kZWxSZXNwb25zZVNjaGVtYSksXG4gICAgY29udGV4dDogei5vYmplY3Qoe1xuICAgICAgICB1c2FnZTogdXNhZ2VTY2hlbWEsXG4gICAgICAgIGFwcHJvdmFsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5vYmplY3Qoe1xuICAgICAgICAgICAgYXBwcm92ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3Ioei5ib29sZWFuKCkpLFxuICAgICAgICAgICAgcmVqZWN0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3Ioei5ib29sZWFuKCkpLFxuICAgICAgICB9KSksXG4gICAgICAgIGNvbnRleHQ6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxuICAgIH0pLFxuICAgIHRvb2xVc2VUcmFja2VyOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFycmF5KHouc3RyaW5nKCkpKSxcbiAgICBtYXhUdXJuczogei5udW1iZXIoKSxcbiAgICBjdXJyZW50QWdlbnRTcGFuOiBTZXJpYWxpemVkU3Bhbi5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgbm9BY3RpdmVBZ2VudFJ1bjogei5ib29sZWFuKCksXG4gICAgaW5wdXRHdWFyZHJhaWxSZXN1bHRzOiB6LmFycmF5KGlucHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hKSxcbiAgICBvdXRwdXRHdWFyZHJhaWxSZXN1bHRzOiB6LmFycmF5KG91dHB1dEd1YXJkcmFpbFJlc3VsdFNjaGVtYSksXG4gICAgY3VycmVudFN0ZXA6IG5leHRTdGVwU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgbGFzdE1vZGVsUmVzcG9uc2U6IG1vZGVsUmVzcG9uc2VTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBnZW5lcmF0ZWRJdGVtczogei5hcnJheShpdGVtU2NoZW1hKSxcbiAgICBsYXN0UHJvY2Vzc2VkUmVzcG9uc2U6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZVNjaGVtYS5vcHRpb25hbCgpLFxuICAgIHRyYWNlOiBzZXJpYWxpemVkVHJhY2VTY2hlbWEubnVsbGFibGUoKSxcbn0pO1xuLyoqXG4gKiBTZXJpYWxpemFibGUgc25hcHNob3Qgb2YgYW4gYWdlbnQncyBydW4sIGluY2x1ZGluZyBjb250ZXh0LCB1c2FnZSBhbmQgdHJhY2UuXG4gKiBXaGlsZSB0aGlzIGNsYXNzIGhhcyBwdWJsaWNseSB3cml0YWJsZSBwcm9wZXJ0aWVzIChwcmVmaXhlZCB3aXRoIGBfYCksIHRoZXkgYXJlIG5vdCBtZWFudCB0byBiZVxuICogdXNlZCBkaXJlY3RseS4gVG8gcmVhZCB0aGVzZSBwcm9wZXJ0aWVzLCB1c2UgdGhlIGBSdW5SZXN1bHRgIGluc3RlYWQuXG4gKlxuICogTWFuaXB1bGF0aW9uIG9mIHRoZSBzdGF0ZSBkaXJlY3RseSBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yIGFuZCBzaG91bGQgYmUgYXZvaWRlZC5cbiAqIEluc3RlYWQsIHVzZSB0aGUgYGFwcHJvdmVgIGFuZCBgcmVqZWN0YCBtZXRob2RzIHRvIGludGVyYWN0IHdpdGggdGhlIHN0YXRlLlxuICovXG5leHBvcnQgY2xhc3MgUnVuU3RhdGUge1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdHVybiBudW1iZXIgaW4gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBfY3VycmVudFR1cm4gPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBhZ2VudCBjdXJyZW50bHkgaGFuZGxpbmcgdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBfY3VycmVudEFnZW50O1xuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIHVzZXIgaW5wdXQgcHJpb3IgdG8gYW55IHByb2Nlc3NpbmcuXG4gICAgICovXG4gICAgX29yaWdpbmFsSW5wdXQ7XG4gICAgLyoqXG4gICAgICogUmVzcG9uc2VzIGZyb20gdGhlIG1vZGVsIHNvIGZhci5cbiAgICAgKi9cbiAgICBfbW9kZWxSZXNwb25zZXM7XG4gICAgLyoqXG4gICAgICogQWN0aXZlIHRyYWNpbmcgc3BhbiBmb3IgdGhlIGN1cnJlbnQgYWdlbnQgaWYgdHJhY2luZyBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIF9jdXJyZW50QWdlbnRTcGFuO1xuICAgIC8qKlxuICAgICAqIFJ1biBjb250ZXh0IHRyYWNraW5nIGFwcHJvdmFscywgdXNhZ2UsIGFuZCBvdGhlciBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICBfY29udGV4dDtcbiAgICAvKipcbiAgICAgKiBUcmFja3Mgd2hhdCB0b29scyBlYWNoIGFnZW50IGhhcyB1c2VkLlxuICAgICAqL1xuICAgIF90b29sVXNlVHJhY2tlcjtcbiAgICAvKipcbiAgICAgKiBJdGVtcyBnZW5lcmF0ZWQgYnkgdGhlIGFnZW50IGR1cmluZyB0aGUgcnVuLlxuICAgICAqL1xuICAgIF9nZW5lcmF0ZWRJdGVtcztcbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIGFsbG93ZWQgdHVybnMgYmVmb3JlIGZvcmNpbmcgdGVybWluYXRpb24uXG4gICAgICovXG4gICAgX21heFR1cm5zO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHJ1biBoYXMgYW4gYWN0aXZlIGFnZW50IHN0ZXAgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgX25vQWN0aXZlQWdlbnRSdW4gPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIExhc3QgbW9kZWwgcmVzcG9uc2UgZm9yIHRoZSBwcmV2aW91cyB0dXJuLlxuICAgICAqL1xuICAgIF9sYXN0VHVyblJlc3BvbnNlO1xuICAgIC8qKlxuICAgICAqIFJlc3VsdHMgZnJvbSBpbnB1dCBndWFyZHJhaWxzIGFwcGxpZWQgdG8gdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBfaW5wdXRHdWFyZHJhaWxSZXN1bHRzO1xuICAgIC8qKlxuICAgICAqIFJlc3VsdHMgZnJvbSBvdXRwdXQgZ3VhcmRyYWlscyBhcHBsaWVkIHRvIHRoZSBydW4uXG4gICAgICovXG4gICAgX291dHB1dEd1YXJkcmFpbFJlc3VsdHM7XG4gICAgLyoqXG4gICAgICogTmV4dCBzdGVwIGNvbXB1dGVkIGZvciB0aGUgYWdlbnQgdG8gdGFrZS5cbiAgICAgKi9cbiAgICBfY3VycmVudFN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogUGFyc2VkIG1vZGVsIHJlc3BvbnNlIGFmdGVyIGFwcGx5aW5nIGd1YXJkcmFpbHMgYW5kIHRvb2xzLlxuICAgICAqL1xuICAgIF9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogVHJhY2UgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcnVuIGlmIHRyYWNpbmcgaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBfdHJhY2UgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9yaWdpbmFsSW5wdXQsIHN0YXJ0aW5nQWdlbnQsIG1heFR1cm5zKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLl9vcmlnaW5hbElucHV0ID0gc3RydWN0dXJlZENsb25lKG9yaWdpbmFsSW5wdXQpO1xuICAgICAgICB0aGlzLl9tb2RlbFJlc3BvbnNlcyA9IFtdO1xuICAgICAgICB0aGlzLl9jdXJyZW50QWdlbnRTcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9jdXJyZW50QWdlbnQgPSBzdGFydGluZ0FnZW50O1xuICAgICAgICB0aGlzLl90b29sVXNlVHJhY2tlciA9IG5ldyBBZ2VudFRvb2xVc2VUcmFja2VyKCk7XG4gICAgICAgIHRoaXMuX2dlbmVyYXRlZEl0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX21heFR1cm5zID0gbWF4VHVybnM7XG4gICAgICAgIHRoaXMuX2lucHV0R3VhcmRyYWlsUmVzdWx0cyA9IFtdO1xuICAgICAgICB0aGlzLl9vdXRwdXRHdWFyZHJhaWxSZXN1bHRzID0gW107XG4gICAgICAgIHRoaXMuX3RyYWNlID0gZ2V0Q3VycmVudFRyYWNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBoaXN0b3J5IG9mIHRoZSBhZ2VudCBydW4uIFRoaXMgaW5jbHVkZXMgdGhlIGlucHV0IGl0ZW1zIGFuZCB0aGUgbmV3IGl0ZW1zIGdlbmVyYXRlZCBkdXJpbmcgdGhlIHJ1bi5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgYXMgaW5wdXRzIGZvciB0aGUgbmV4dCBhZ2VudCBydW4uXG4gICAgICovXG4gICAgZ2V0IGhpc3RvcnkoKSB7XG4gICAgICAgIHJldHVybiBnZXRUdXJuSW5wdXQodGhpcy5fb3JpZ2luYWxJbnB1dCwgdGhpcy5fZ2VuZXJhdGVkSXRlbXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBpbnRlcnJ1cHRpb25zIGlmIHRoZSBjdXJyZW50IHN0ZXAgaXMgYW4gaW50ZXJydXB0aW9uIG90aGVyd2lzZSByZXR1cm5zIGFuIGVtcHR5IGFycmF5LlxuICAgICAqL1xuICAgIGdldEludGVycnVwdGlvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50U3RlcD8udHlwZSAhPT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRTdGVwLmRhdGEuaW50ZXJydXB0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwcm92ZXMgYSB0b29sIGNhbGwgcmVxdWVzdGVkIGJ5IHRoZSBhZ2VudCB0aHJvdWdoIGFuIGludGVycnVwdGlvbiBhbmQgYXBwcm92YWwgaXRlbSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogVG8gYXBwcm92ZSB0aGUgcmVxdWVzdCB1c2UgdGhpcyBtZXRob2QgYW5kIHRoZW4gcnVuIHRoZSBhZ2VudCBhZ2FpbiB3aXRoIHRoZSBzYW1lIHN0YXRlIG9iamVjdFxuICAgICAqIHRvIGNvbnRpbnVlIHRoZSBleGVjdXRpb24uXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0IGl0IHdpbGwgb25seSBhcHByb3ZlIHRoZSBjdXJyZW50IHRvb2wgY2FsbC4gVG8gYWxsb3cgdGhlIHRvb2wgdG8gYmUgdXNlZCBtdWx0aXBsZVxuICAgICAqIHRpbWVzIHRocm91Z2hvdXQgdGhlIHJ1biwgc2V0IHRoZSBgYWx3YXlzQXBwcm92ZWAgb3B0aW9uIHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbEl0ZW0gLSBUaGUgdG9vbCBjYWxsIGFwcHJvdmFsIGl0ZW0gdG8gYXBwcm92ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBhcHByb3ZhbC5cbiAgICAgKi9cbiAgICBhcHByb3ZlKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyA9IHsgYWx3YXlzQXBwcm92ZTogZmFsc2UgfSkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmFwcHJvdmVUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlamVjdHMgYSB0b29sIGNhbGwgcmVxdWVzdGVkIGJ5IHRoZSBhZ2VudCB0aHJvdWdoIGFuIGludGVycnVwdGlvbiBhbmQgYXBwcm92YWwgaXRlbSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogVG8gcmVqZWN0IHRoZSByZXF1ZXN0IHVzZSB0aGlzIG1ldGhvZCBhbmQgdGhlbiBydW4gdGhlIGFnZW50IGFnYWluIHdpdGggdGhlIHNhbWUgc3RhdGUgb2JqZWN0XG4gICAgICogdG8gY29udGludWUgdGhlIGV4ZWN1dGlvbi5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQgaXQgd2lsbCBvbmx5IHJlamVjdCB0aGUgY3VycmVudCB0b29sIGNhbGwuIFRvIGFsbG93IHRoZSB0b29sIHRvIGJlIHVzZWQgbXVsdGlwbGVcbiAgICAgKiB0aW1lcyB0aHJvdWdob3V0IHRoZSBydW4sIHNldCB0aGUgYGFsd2F5c1JlamVjdGAgb3B0aW9uIHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbEl0ZW0gLSBUaGUgdG9vbCBjYWxsIGFwcHJvdmFsIGl0ZW0gdG8gcmVqZWN0LlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIHJlamVjdGlvbi5cbiAgICAgKi9cbiAgICByZWplY3QoYXBwcm92YWxJdGVtLCBvcHRpb25zID0geyBhbHdheXNSZWplY3Q6IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZWplY3RUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIHJ1biBzdGF0ZSB0byBhIEpTT04gb2JqZWN0LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzZXJpYWxpemUgdGhlIHJ1biBzdGF0ZSB0byBhIEpTT04gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiByZXN1bWUgdGhlIHJ1biBsYXRlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBzZXJpYWxpemVkIHJ1biBzdGF0ZS5cbiAgICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHtcbiAgICAgICAgICAgICRzY2hlbWFWZXJzaW9uOiBDVVJSRU5UX1NDSEVNQV9WRVJTSU9OLFxuICAgICAgICAgICAgY3VycmVudFR1cm46IHRoaXMuX2N1cnJlbnRUdXJuLFxuICAgICAgICAgICAgY3VycmVudEFnZW50OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5fY3VycmVudEFnZW50Lm5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3JpZ2luYWxJbnB1dDogdGhpcy5fb3JpZ2luYWxJbnB1dCxcbiAgICAgICAgICAgIG1vZGVsUmVzcG9uc2VzOiB0aGlzLl9tb2RlbFJlc3BvbnNlcy5tYXAoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RzOiByZXNwb25zZS51c2FnZS5yZXF1ZXN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5zOiByZXNwb25zZS51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuczogcmVzcG9uc2UudXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUb2tlbnM6IHJlc3BvbnNlLnVzYWdlLnRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHJlc3BvbnNlLm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJZDogcmVzcG9uc2UucmVzcG9uc2VJZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiByZXNwb25zZS5wcm92aWRlckRhdGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY29udGV4dDogdGhpcy5fY29udGV4dC50b0pTT04oKSxcbiAgICAgICAgICAgIHRvb2xVc2VUcmFja2VyOiB0aGlzLl90b29sVXNlVHJhY2tlci50b0pTT04oKSxcbiAgICAgICAgICAgIG1heFR1cm5zOiB0aGlzLl9tYXhUdXJucyxcbiAgICAgICAgICAgIGN1cnJlbnRBZ2VudFNwYW46IHRoaXMuX2N1cnJlbnRBZ2VudFNwYW4/LnRvSlNPTigpLFxuICAgICAgICAgICAgbm9BY3RpdmVBZ2VudFJ1bjogdGhpcy5fbm9BY3RpdmVBZ2VudFJ1bixcbiAgICAgICAgICAgIGlucHV0R3VhcmRyYWlsUmVzdWx0czogdGhpcy5faW5wdXRHdWFyZHJhaWxSZXN1bHRzLFxuICAgICAgICAgICAgb3V0cHV0R3VhcmRyYWlsUmVzdWx0czogdGhpcy5fb3V0cHV0R3VhcmRyYWlsUmVzdWx0cy5tYXAoKHIpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4ucixcbiAgICAgICAgICAgICAgICBhZ2VudDogci5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGN1cnJlbnRTdGVwOiB0aGlzLl9jdXJyZW50U3RlcCxcbiAgICAgICAgICAgIGxhc3RNb2RlbFJlc3BvbnNlOiB0aGlzLl9sYXN0VHVyblJlc3BvbnNlLFxuICAgICAgICAgICAgZ2VuZXJhdGVkSXRlbXM6IHRoaXMuX2dlbmVyYXRlZEl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50b0pTT04oKSksXG4gICAgICAgICAgICBsYXN0UHJvY2Vzc2VkUmVzcG9uc2U6IHRoaXMuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSxcbiAgICAgICAgICAgIHRyYWNlOiB0aGlzLl90cmFjZSA/IHRoaXMuX3RyYWNlLnRvSlNPTigpIDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gcGFyc2luZyB0aGUgc2NoZW1hIHRvIGVuc3VyZSB0aGUgb3V0cHV0IGlzIHZhbGlkIGZvciByZXBhcnNpbmdcbiAgICAgICAgY29uc3QgcGFyc2VkID0gU2VyaWFsaXplZFJ1blN0YXRlLnNhZmVQYXJzZShvdXRwdXQpO1xuICAgICAgICBpZiAoIXBhcnNlZC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3lzdGVtRXJyb3IoYEZhaWxlZCB0byBzZXJpYWxpemUgcnVuIHN0YXRlLiAke3BhcnNlZC5lcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWQuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgcnVuIHN0YXRlIHRvIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzZXJpYWxpemUgdGhlIHJ1biBzdGF0ZSB0byBhIHN0cmluZyB0aGF0IGNhbiBiZSB1c2VkIHRvXG4gICAgICogcmVzdW1lIHRoZSBydW4gbGF0ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgc2VyaWFsaXplZCBydW4gc3RhdGUuXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzZXJpYWxpemVzIGEgcnVuIHN0YXRlIGZyb20gYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGRlc2VyaWFsaXplIGEgcnVuIHN0YXRlIGZyb20gYSBzdHJpbmcgdGhhdCB3YXMgc2VyaWFsaXplZCB1c2luZyB0aGVcbiAgICAgKiBgdG9TdHJpbmdgIG1ldGhvZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZnJvbVN0cmluZyhpbml0aWFsQWdlbnQsIHN0cikge1xuICAgICAgICBjb25zdCBbcGFyc2luZ0Vycm9yLCBqc29uUmVzdWx0XSA9IGF3YWl0IHNhZmVFeGVjdXRlKCgpID0+IEpTT04ucGFyc2Uoc3RyKSk7XG4gICAgICAgIGlmIChwYXJzaW5nRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBydW4gc3RhdGUuICR7cGFyc2luZ0Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBwYXJzaW5nRXJyb3IubWVzc2FnZSA6IFN0cmluZyhwYXJzaW5nRXJyb3IpfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTY2hlbWFWZXJzaW9uID0ganNvblJlc3VsdC4kc2NoZW1hVmVyc2lvbjtcbiAgICAgICAgaWYgKCFjdXJyZW50U2NoZW1hVmVyc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignUnVuIHN0YXRlIGlzIG1pc3Npbmcgc2NoZW1hIHZlcnNpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFNjaGVtYVZlcnNpb24gIT09IENVUlJFTlRfU0NIRU1BX1ZFUlNJT04pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYFJ1biBzdGF0ZSBzY2hlbWEgdmVyc2lvbiAke2N1cnJlbnRTY2hlbWFWZXJzaW9ufSBpcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIHZlcnNpb24gJHtDVVJSRU5UX1NDSEVNQV9WRVJTSU9OfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlSnNvbiA9IFNlcmlhbGl6ZWRSdW5TdGF0ZS5wYXJzZShKU09OLnBhcnNlKHN0cikpO1xuICAgICAgICBjb25zdCBhZ2VudE1hcCA9IGJ1aWxkQWdlbnRNYXAoaW5pdGlhbEFnZW50KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gUmVidWlsZCB0aGUgY29udGV4dFxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IFJ1bkNvbnRleHQoc3RhdGVKc29uLmNvbnRleHQuY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQuX3JlYnVpbGRBcHByb3ZhbHMoc3RhdGVKc29uLmNvbnRleHQuYXBwcm92YWxzKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gRmluZCB0aGUgY3VycmVudCBhZ2VudCBmcm9tIHRoZSBpbml0aWFsIGFnZW50XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBZ2VudCA9IGFnZW50TWFwLmdldChzdGF0ZUpzb24uY3VycmVudEFnZW50Lm5hbWUpO1xuICAgICAgICBpZiAoIWN1cnJlbnRBZ2VudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgQWdlbnQgJHtzdGF0ZUpzb24uY3VycmVudEFnZW50Lm5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlID0gbmV3IFJ1blN0YXRlKGNvbnRleHQsICcnLCBjdXJyZW50QWdlbnQsIHN0YXRlSnNvbi5tYXhUdXJucyk7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50VHVybiA9IHN0YXRlSnNvbi5jdXJyZW50VHVybjtcbiAgICAgICAgLy8gcmVidWlsZCB0b29sIHVzZSB0cmFja2VyXG4gICAgICAgIHN0YXRlLl90b29sVXNlVHJhY2tlciA9IG5ldyBBZ2VudFRvb2xVc2VUcmFja2VyKCk7XG4gICAgICAgIGZvciAoY29uc3QgW2FnZW50TmFtZSwgdG9vbE5hbWVzXSBvZiBPYmplY3QuZW50cmllcyhzdGF0ZUpzb24udG9vbFVzZVRyYWNrZXIpKSB7XG4gICAgICAgICAgICBzdGF0ZS5fdG9vbFVzZVRyYWNrZXIuYWRkVG9vbFVzZShhZ2VudE1hcC5nZXQoYWdlbnROYW1lKSwgdG9vbE5hbWVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWJ1aWxkIGN1cnJlbnQgYWdlbnQgc3BhblxuICAgICAgICBpZiAoc3RhdGVKc29uLmN1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgIGlmICghc3RhdGVKc29uLnRyYWNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1RyYWNlIGlzIG5vdCBzZXQsIHNraXBwaW5nIHRyYWNpbmcgc2V0dXAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRyYWNlID0gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVRyYWNlKHtcbiAgICAgICAgICAgICAgICB0cmFjZUlkOiBzdGF0ZUpzb24udHJhY2U/LmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHN0YXRlSnNvbi50cmFjZT8ud29ya2Zsb3dfbmFtZSxcbiAgICAgICAgICAgICAgICBncm91cElkOiBzdGF0ZUpzb24udHJhY2U/Lmdyb3VwX2lkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogc3RhdGVKc29uLnRyYWNlPy5tZXRhZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4gPSBkZXNlcmlhbGl6ZVNwYW4odHJhY2UsIHN0YXRlSnNvbi5jdXJyZW50QWdlbnRTcGFuKTtcbiAgICAgICAgICAgIHN0YXRlLl90cmFjZSA9IHRyYWNlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuID0gc3RhdGVKc29uLm5vQWN0aXZlQWdlbnRSdW47XG4gICAgICAgIHN0YXRlLl9pbnB1dEd1YXJkcmFpbFJlc3VsdHMgPVxuICAgICAgICAgICAgc3RhdGVKc29uLmlucHV0R3VhcmRyYWlsUmVzdWx0cztcbiAgICAgICAgc3RhdGUuX291dHB1dEd1YXJkcmFpbFJlc3VsdHMgPSBzdGF0ZUpzb24ub3V0cHV0R3VhcmRyYWlsUmVzdWx0cy5tYXAoKHIpID0+ICh7XG4gICAgICAgICAgICAuLi5yLFxuICAgICAgICAgICAgYWdlbnQ6IGFnZW50TWFwLmdldChyLmFnZW50Lm5hbWUpLFxuICAgICAgICB9KSk7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHN0YXRlSnNvbi5jdXJyZW50U3RlcDtcbiAgICAgICAgc3RhdGUuX29yaWdpbmFsSW5wdXQgPSBzdGF0ZUpzb24ub3JpZ2luYWxJbnB1dDtcbiAgICAgICAgc3RhdGUuX21vZGVsUmVzcG9uc2VzID0gc3RhdGVKc29uLm1vZGVsUmVzcG9uc2VzLm1hcChkZXNlcmlhbGl6ZU1vZGVsUmVzcG9uc2UpO1xuICAgICAgICBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSA9IHN0YXRlSnNvbi5sYXN0TW9kZWxSZXNwb25zZVxuICAgICAgICAgICAgPyBkZXNlcmlhbGl6ZU1vZGVsUmVzcG9uc2Uoc3RhdGVKc29uLmxhc3RNb2RlbFJlc3BvbnNlKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLl9nZW5lcmF0ZWRJdGVtcyA9IHN0YXRlSnNvbi5nZW5lcmF0ZWRJdGVtcy5tYXAoKGl0ZW0pID0+IGRlc2VyaWFsaXplSXRlbShpdGVtLCBhZ2VudE1hcCkpO1xuICAgICAgICBzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlID0gc3RhdGVKc29uLmxhc3RQcm9jZXNzZWRSZXNwb25zZVxuICAgICAgICAgICAgPyBhd2FpdCBkZXNlcmlhbGl6ZVByb2Nlc3NlZFJlc3BvbnNlKGFnZW50TWFwLCBzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fY29udGV4dCwgc3RhdGVKc29uLmxhc3RQcm9jZXNzZWRSZXNwb25zZSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc3RhdGVKc29uLmN1cnJlbnRTdGVwPy50eXBlID09PSAnbmV4dF9zdGVwX2hhbmRvZmYnKSB7XG4gICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9oYW5kb2ZmJyxcbiAgICAgICAgICAgICAgICBuZXdBZ2VudDogYWdlbnRNYXAuZ2V0KHN0YXRlSnNvbi5jdXJyZW50U3RlcC5uZXdBZ2VudC5uYW1lKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEFnZW50TWFwKGluaXRpYWxBZ2VudCkge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBxdWV1ZSA9IFtpbml0aWFsQWdlbnRdO1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRBZ2VudCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChtYXAuaGFzKGN1cnJlbnRBZ2VudC5uYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbWFwLnNldChjdXJyZW50QWdlbnQubmFtZSwgY3VycmVudEFnZW50KTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kb2ZmIG9mIGN1cnJlbnRBZ2VudC5oYW5kb2Zmcykge1xuICAgICAgICAgICAgaWYgKGhhbmRvZmYgaW5zdGFuY2VvZiBBZ2VudCkge1xuICAgICAgICAgICAgICAgIGlmICghbWFwLmhhcyhoYW5kb2ZmLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goaGFuZG9mZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFuZG9mZi5hZ2VudCkge1xuICAgICAgICAgICAgICAgIGlmICghbWFwLmhhcyhoYW5kb2ZmLmFnZW50Lm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goaGFuZG9mZi5hZ2VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVTcGFuKHRyYWNlLCBzZXJpYWxpemVkU3Bhbikge1xuICAgIGNvbnN0IHNwYW5EYXRhID0gc2VyaWFsaXplZFNwYW4uc3Bhbl9kYXRhO1xuICAgIGNvbnN0IHByZXZpb3VzU3BhbiA9IHNlcmlhbGl6ZWRTcGFuLnByZXZpb3VzX3NwYW5cbiAgICAgICAgPyBkZXNlcmlhbGl6ZVNwYW4odHJhY2UsIHNlcmlhbGl6ZWRTcGFuLnByZXZpb3VzX3NwYW4pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHNwYW4gPSBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIHNwYW5JZDogc2VyaWFsaXplZFNwYW4uaWQsXG4gICAgICAgIHRyYWNlSWQ6IHNlcmlhbGl6ZWRTcGFuLnRyYWNlX2lkLFxuICAgICAgICBwYXJlbnRJZDogc2VyaWFsaXplZFNwYW4ucGFyZW50X2lkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRlZEF0OiBzZXJpYWxpemVkU3Bhbi5zdGFydGVkX2F0ID8/IHVuZGVmaW5lZCxcbiAgICAgICAgZW5kZWRBdDogc2VyaWFsaXplZFNwYW4uZW5kZWRfYXQgPz8gdW5kZWZpbmVkLFxuICAgICAgICBkYXRhOiBzcGFuRGF0YSxcbiAgICB9LCB0cmFjZSk7XG4gICAgc3Bhbi5wcmV2aW91c1NwYW4gPSBwcmV2aW91c1NwYW47XG4gICAgcmV0dXJuIHNwYW47XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVNb2RlbFJlc3BvbnNlKHNlcmlhbGl6ZWRNb2RlbFJlc3BvbnNlKSB7XG4gICAgY29uc3QgdXNhZ2UgPSBuZXcgVXNhZ2UoKTtcbiAgICB1c2FnZS5yZXF1ZXN0cyA9IHNlcmlhbGl6ZWRNb2RlbFJlc3BvbnNlLnVzYWdlLnJlcXVlc3RzO1xuICAgIHVzYWdlLmlucHV0VG9rZW5zID0gc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UudXNhZ2UuaW5wdXRUb2tlbnM7XG4gICAgdXNhZ2Uub3V0cHV0VG9rZW5zID0gc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UudXNhZ2Uub3V0cHV0VG9rZW5zO1xuICAgIHVzYWdlLnRvdGFsVG9rZW5zID0gc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UudXNhZ2UudG90YWxUb2tlbnM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXNhZ2UsXG4gICAgICAgIG91dHB1dDogc2VyaWFsaXplZE1vZGVsUmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4gcHJvdG9jb2wuT3V0cHV0TW9kZWxJdGVtLnBhcnNlKGl0ZW0pKSxcbiAgICAgICAgcmVzcG9uc2VJZDogc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UucmVzcG9uc2VJZCxcbiAgICAgICAgcHJvdmlkZXJEYXRhOiBzZXJpYWxpemVkTW9kZWxSZXNwb25zZS5wcm92aWRlckRhdGEsXG4gICAgfTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZUl0ZW0oc2VyaWFsaXplZEl0ZW0sIGFnZW50TWFwKSB7XG4gICAgc3dpdGNoIChzZXJpYWxpemVkSXRlbS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ21lc3NhZ2Vfb3V0cHV0X2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5NZXNzYWdlT3V0cHV0SXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uYWdlbnQubmFtZSkpO1xuICAgICAgICBjYXNlICd0b29sX2NhbGxfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1blRvb2xDYWxsSXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uYWdlbnQubmFtZSkpO1xuICAgICAgICBjYXNlICd0b29sX2NhbGxfb3V0cHV0X2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpLCBzZXJpYWxpemVkSXRlbS5vdXRwdXQpO1xuICAgICAgICBjYXNlICdyZWFzb25pbmdfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1blJlYXNvbmluZ0l0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAnaGFuZG9mZl9jYWxsX2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5IYW5kb2ZmQ2FsbEl0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAnaGFuZG9mZl9vdXRwdXRfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1bkhhbmRvZmZPdXRwdXRJdGVtKHNlcmlhbGl6ZWRJdGVtLnJhd0l0ZW0sIGFnZW50TWFwLmdldChzZXJpYWxpemVkSXRlbS5zb3VyY2VBZ2VudC5uYW1lKSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLnRhcmdldEFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAndG9vbF9hcHByb3ZhbF9pdGVtJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uYWdlbnQubmFtZSkpO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRlc2VyaWFsaXplUHJvY2Vzc2VkUmVzcG9uc2UoYWdlbnRNYXAsIGN1cnJlbnRBZ2VudCwgY29udGV4dCwgc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlKSB7XG4gICAgY29uc3QgYWxsVG9vbHMgPSBhd2FpdCBjdXJyZW50QWdlbnQuZ2V0QWxsVG9vbHMoY29udGV4dCk7XG4gICAgY29uc3QgdG9vbHMgPSBuZXcgTWFwKGFsbFRvb2xzXG4gICAgICAgIC5maWx0ZXIoKHRvb2wpID0+IHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgLm1hcCgodG9vbCkgPT4gW3Rvb2wubmFtZSwgdG9vbF0pKTtcbiAgICBjb25zdCBjb21wdXRlclRvb2xzID0gbmV3IE1hcChhbGxUb29sc1xuICAgICAgICAuZmlsdGVyKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdjb21wdXRlcicpXG4gICAgICAgIC5tYXAoKHRvb2wpID0+IFt0b29sLm5hbWUsIHRvb2xdKSk7XG4gICAgY29uc3QgaGFuZG9mZnMgPSBuZXcgTWFwKGN1cnJlbnRBZ2VudC5oYW5kb2Zmcy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIEFnZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gW2VudHJ5Lm5hbWUsIGhhbmRvZmYoZW50cnkpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2VudHJ5LnRvb2xOYW1lLCBlbnRyeV07XG4gICAgfSkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgbmV3SXRlbXM6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS5uZXdJdGVtcy5tYXAoKGl0ZW0pID0+IGRlc2VyaWFsaXplSXRlbShpdGVtLCBhZ2VudE1hcCkpLFxuICAgICAgICB0b29sc1VzZWQ6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQsXG4gICAgICAgIGhhbmRvZmZzOiBzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2UuaGFuZG9mZnMubWFwKChoYW5kb2ZmKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRvZmZzLmhhcyhoYW5kb2ZmLmhhbmRvZmYudG9vbE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgSGFuZG9mZiAke2hhbmRvZmYuaGFuZG9mZi50b29sTmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBoYW5kb2ZmLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIGhhbmRvZmY6IGhhbmRvZmZzLmdldChoYW5kb2ZmLmhhbmRvZmYudG9vbE5hbWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGZ1bmN0aW9uczogYXdhaXQgUHJvbWlzZS5hbGwoc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLmZ1bmN0aW9ucy5tYXAoYXN5bmMgKGZ1bmN0aW9uQ2FsbCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0b29scy5oYXMoZnVuY3Rpb25DYWxsLnRvb2wubmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBUb29sICR7ZnVuY3Rpb25DYWxsLnRvb2wubmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBmdW5jdGlvbkNhbGwudG9vbENhbGwsXG4gICAgICAgICAgICAgICAgdG9vbDogdG9vbHMuZ2V0KGZ1bmN0aW9uQ2FsbC50b29sLm5hbWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpLFxuICAgICAgICBjb21wdXRlckFjdGlvbnM6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS5jb21wdXRlckFjdGlvbnMubWFwKChjb21wdXRlckFjdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBjb21wdXRlckFjdGlvbi5jb21wdXRlci5uYW1lO1xuICAgICAgICAgICAgaWYgKCFjb21wdXRlclRvb2xzLmhhcyh0b29sTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBDb21wdXRlciB0b29sICR7dG9vbE5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogY29tcHV0ZXJBY3Rpb24udG9vbENhbGwsXG4gICAgICAgICAgICAgICAgY29tcHV0ZXI6IGNvbXB1dGVyVG9vbHMuZ2V0KHRvb2xOYW1lKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBtY3BBcHByb3ZhbFJlcXVlc3RzOiAoc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLm1jcEFwcHJvdmFsUmVxdWVzdHMgPz8gW10pLm1hcCgoYXBwcm92YWxSZXF1ZXN0KSA9PiAoe1xuICAgICAgICAgICAgcmVxdWVzdEl0ZW06IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKGFwcHJvdmFsUmVxdWVzdC5yZXF1ZXN0SXRlbVxuICAgICAgICAgICAgICAgIC5yYXdJdGVtLCBjdXJyZW50QWdlbnQpLFxuICAgICAgICAgICAgbWNwVG9vbDogYXBwcm92YWxSZXF1ZXN0Lm1jcFRvb2wsXG4gICAgICAgIH0pKSxcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgaGFzVG9vbHNPckFwcHJvdmFsc1RvUnVuKCkge1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQuaGFuZG9mZnMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJlc3VsdC5mdW5jdGlvbnMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJlc3VsdC5tY3BBcHByb3ZhbFJlcXVlc3RzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICByZXN1bHQuY29tcHV0ZXJBY3Rpb25zLmxlbmd0aCA+IDApO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5TdGF0ZS5tanMubWFwIiwiaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi9hZ2VudC5tanNcIjtcbmltcG9ydCB7IGRlZmluZUlucHV0R3VhcmRyYWlsLCBkZWZpbmVPdXRwdXRHdWFyZHJhaWwsIH0gZnJvbSBcIi4vZ3VhcmRyYWlsLm1qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlcnMubWpzXCI7XG5pbXBvcnQgeyBSdW5Db250ZXh0IH0gZnJvbSBcIi4vcnVuQ29udGV4dC5tanNcIjtcbmltcG9ydCB7IFJ1blJlc3VsdCwgU3RyZWFtZWRSdW5SZXN1bHQgfSBmcm9tIFwiLi9yZXN1bHQubWpzXCI7XG5pbXBvcnQgeyBSdW5Ib29rcyB9IGZyb20gXCIuL2xpZmVjeWNsZS5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgc2VyaWFsaXplVG9vbCwgc2VyaWFsaXplSGFuZG9mZiB9IGZyb20gXCIuL3V0aWxzL3NlcmlhbGl6ZS5tanNcIjtcbmltcG9ydCB7IEd1YXJkcmFpbEV4ZWN1dGlvbkVycm9yLCBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkLCBNYXhUdXJuc0V4Y2VlZGVkRXJyb3IsIE1vZGVsQmVoYXZpb3JFcnJvciwgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQsIFVzZXJFcnJvciwgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgeyBhZGRTdGVwVG9SdW5SZXN1bHQsIGV4ZWN1dGVJbnRlcnJ1cHRlZFRvb2xzQW5kU2lkZUVmZmVjdHMsIGV4ZWN1dGVUb29sc0FuZFNpZGVFZmZlY3RzLCBtYXliZVJlc2V0VG9vbENob2ljZSwgcHJvY2Vzc01vZGVsUmVzcG9uc2UsIHN0cmVhbVN0ZXBJdGVtc1RvUnVuUmVzdWx0LCB9IGZyb20gXCIuL3J1bkltcGxlbWVudGF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgZ2V0T3JDcmVhdGVUcmFjZSwgcmVzZXRDdXJyZW50U3Bhbiwgc2V0Q3VycmVudFNwYW4sIHdpdGhOZXdTcGFuQ29udGV4dCwgd2l0aFRyYWNlLCB9IGZyb20gXCIuL3RyYWNpbmcvY29udGV4dC5tanNcIjtcbmltcG9ydCB7IGNyZWF0ZUFnZW50U3Bhbiwgd2l0aEd1YXJkcmFpbFNwYW4gfSBmcm9tIFwiLi90cmFjaW5nL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgVXNhZ2UgfSBmcm9tIFwiLi91c2FnZS5tanNcIjtcbmltcG9ydCB7IFJ1bkFnZW50VXBkYXRlZFN0cmVhbUV2ZW50LCBSdW5SYXdNb2RlbFN0cmVhbUV2ZW50IH0gZnJvbSBcIi4vZXZlbnRzLm1qc1wiO1xuaW1wb3J0IHsgUnVuU3RhdGUgfSBmcm9tIFwiLi9ydW5TdGF0ZS5tanNcIjtcbmltcG9ydCB7IFN0cmVhbUV2ZW50UmVzcG9uc2VDb21wbGV0ZWQgfSBmcm9tIFwiLi90eXBlcy9wcm90b2NvbC5tanNcIjtcbmltcG9ydCB7IGNvbnZlcnRBZ2VudE91dHB1dFR5cGVUb1NlcmlhbGl6YWJsZSB9IGZyb20gXCIuL3V0aWxzL3Rvb2xzLm1qc1wiO1xuaW1wb3J0IHsgZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQsIGlzR3B0NURlZmF1bHQgfSBmcm9tIFwiLi9kZWZhdWx0TW9kZWwubWpzXCI7XG5jb25zdCBERUZBVUxUX01BWF9UVVJOUyA9IDEwO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYWNpbmcodHJhY2luZ0Rpc2FibGVkLCB0cmFjZUluY2x1ZGVTZW5zaXRpdmVEYXRhKSB7XG4gICAgaWYgKHRyYWNpbmdEaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0cmFjZUluY2x1ZGVTZW5zaXRpdmVEYXRhKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gJ2VuYWJsZWRfd2l0aG91dF9kYXRhJztcbn1cbmZ1bmN0aW9uIHRvQWdlbnRJbnB1dExpc3Qob3JpZ2luYWxJbnB1dCkge1xuICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxJbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIFt7IHR5cGU6ICdtZXNzYWdlJywgcm9sZTogJ3VzZXInLCBjb250ZW50OiBvcmlnaW5hbElucHV0IH1dO1xuICAgIH1cbiAgICByZXR1cm4gWy4uLm9yaWdpbmFsSW5wdXRdO1xufVxuLyoqXG4gKiBJbnRlcm5hbCBtb2R1bGUgZm9yIHRyYWNraW5nIHRoZSBpdGVtcyBpbiB0dXJucyBhbmQgZW5zdXJpbmcgdGhhdCB3ZSBkb24ndCBzZW5kIGR1cGxpY2F0ZSBpdGVtcy5cbiAqIFRoaXMgbG9naWMgaXMgdml0YWwgZm9yIHByb3Blcmx5IGhhbmRsaW5nIHRoZSBpdGVtcyB0byBzZW5kIGR1cmluZyBtdWx0aXBsZSB0dXJuc1xuICogd2hlbiB5b3UgdXNlIGVpdGhlciBgY29udmVyc2F0aW9uSWRgIG9yIGBwcmV2aW91c1Jlc3BvbnNlSWRgLlxuICogQm90aCBzY2VuYXJpb3MgZXhwZWN0IGFuIGFnZW50IGxvb3AgdG8gc2VuZCBvbmx5IG5ldyBpdGVtcyBmb3IgZWFjaCBSZXNwb25zZXMgQVBJIGNhbGwuXG4gKlxuICogc2VlIGFsc286IGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9jb252ZXJzYXRpb24tc3RhdGU/YXBpLW1vZGU9cmVzcG9uc2VzXG4gKi9cbmNsYXNzIFNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIge1xuICAgIC8vIENvbnZlcnNhdGlvbiBJRDpcbiAgICAvLyAtIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9jb252ZXJzYXRpb24tc3RhdGU/YXBpLW1vZGU9cmVzcG9uc2VzI3VzaW5nLXRoZS1jb252ZXJzYXRpb25zLWFwaVxuICAgIC8vIC0gaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9jb252ZXJzYXRpb25zL2NyZWF0ZVxuICAgIGNvbnZlcnNhdGlvbklkO1xuICAgIC8vIFByZXZpb3VzIFJlc3BvbnNlIElEOlxuICAgIC8vIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9jb252ZXJzYXRpb24tc3RhdGU/YXBpLW1vZGU9cmVzcG9uc2VzI3Bhc3NpbmctY29udGV4dC1mcm9tLXRoZS1wcmV2aW91cy1yZXNwb25zZVxuICAgIHByZXZpb3VzUmVzcG9uc2VJZDtcbiAgICAvLyBVc2luZyB0aGlzIGZsYWcgYmVjYXVzZSBXZWFrU2V0IGRvZXMgbm90IHByb3ZpZGUgYSB3YXkgdG8gY2hlY2sgaXRzIHNpemVcbiAgICBzZW50SW5pdGlhbElucHV0ID0gZmFsc2U7XG4gICAgLy8gVGhlIGl0ZW1zIGFscmVhZHkgc2VudCB0byB0aGUgbW9kZWw7IHVzaW5nIFdlYWtTZXQgZm9yIG1lbW9yeSBlZmZpY2llbmN5XG4gICAgc2VudEl0ZW1zID0gbmV3IFdlYWtTZXQoKTtcbiAgICAvLyBUaGUgaXRlbXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyOyB1c2luZyBXZWFrU2V0IGZvciBtZW1vcnkgZWZmaWNpZW5jeVxuICAgIHNlcnZlckl0ZW1zID0gbmV3IFdlYWtTZXQoKTtcbiAgICBjb25zdHJ1Y3Rvcih7IGNvbnZlcnNhdGlvbklkLCBwcmV2aW91c1Jlc3BvbnNlSWQsIH0pIHtcbiAgICAgICAgdGhpcy5jb252ZXJzYXRpb25JZCA9IGNvbnZlcnNhdGlvbklkID8/IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wcmV2aW91c1Jlc3BvbnNlSWQgPSBwcmV2aW91c1Jlc3BvbnNlSWQgPz8gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmUtcG9wdWxhdGVzIHRyYWNrZXIgY2FjaGVzIGZyb20gYW4gZXhpc3RpbmcgUnVuU3RhdGUgd2hlbiByZXN1bWluZyBzZXJ2ZXItbWFuYWdlZCBydW5zLlxuICAgICAqL1xuICAgIHByaW1lRnJvbVN0YXRlKHsgb3JpZ2luYWxJbnB1dCwgZ2VuZXJhdGVkSXRlbXMsIG1vZGVsUmVzcG9uc2VzLCB9KSB7XG4gICAgICAgIGlmICh0aGlzLnNlbnRJbml0aWFsSW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdG9BZ2VudElucHV0TGlzdChvcmlnaW5hbElucHV0KSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW50SXRlbXMuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VudEluaXRpYWxJbnB1dCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGxhdGVzdFJlc3BvbnNlID0gbW9kZWxSZXNwb25zZXNbbW9kZWxSZXNwb25zZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGZvciAoY29uc3QgcmVzcG9uc2Ugb2YgbW9kZWxSZXNwb25zZXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiByZXNwb25zZS5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJJdGVtcy5hZGQoaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jb252ZXJzYXRpb25JZCAmJiBsYXRlc3RSZXNwb25zZT8ucmVzcG9uc2VJZCkge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1Jlc3BvbnNlSWQgPSBsYXRlc3RSZXNwb25zZS5yZXNwb25zZUlkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBnZW5lcmF0ZWRJdGVtcykge1xuICAgICAgICAgICAgY29uc3QgcmF3SXRlbSA9IGl0ZW0ucmF3SXRlbTtcbiAgICAgICAgICAgIGlmICghcmF3SXRlbSB8fCB0eXBlb2YgcmF3SXRlbSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNlcnZlckl0ZW1zLmhhcyhyYXdJdGVtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VudEl0ZW1zLmFkZChyYXdJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB0cmFja1NlcnZlckl0ZW1zKG1vZGVsUmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKCFtb2RlbFJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIG1vZGVsUmVzcG9uc2Uub3V0cHV0KSB7XG4gICAgICAgICAgICBpZiAoaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckl0ZW1zLmFkZChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY29udmVyc2F0aW9uSWQgJiZcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNSZXNwb25zZUlkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIG1vZGVsUmVzcG9uc2UucmVzcG9uc2VJZCkge1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1Jlc3BvbnNlSWQgPSBtb2RlbFJlc3BvbnNlLnJlc3BvbnNlSWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJlcGFyZUlucHV0KG9yaWdpbmFsSW5wdXQsIGdlbmVyYXRlZEl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGlucHV0SXRlbXMgPSBbXTtcbiAgICAgICAgaWYgKCF0aGlzLnNlbnRJbml0aWFsSW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxJdGVtcyA9IHRvQWdlbnRJbnB1dExpc3Qob3JpZ2luYWxJbnB1dCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaW5pdGlhbEl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbnRJdGVtcy5hZGQoaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZW50SW5pdGlhbElucHV0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZ2VuZXJhdGVkSXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0b29sX2FwcHJvdmFsX2l0ZW0nKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByYXdJdGVtID0gaXRlbS5yYXdJdGVtO1xuICAgICAgICAgICAgaWYgKCFyYXdJdGVtIHx8IHR5cGVvZiByYXdJdGVtICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc2VudEl0ZW1zLmhhcyhyYXdJdGVtKSB8fCB0aGlzLnNlcnZlckl0ZW1zLmhhcyhyYXdJdGVtKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXRJdGVtcy5wdXNoKHJhd0l0ZW0pO1xuICAgICAgICAgICAgdGhpcy5zZW50SXRlbXMuYWRkKHJhd0l0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dEl0ZW1zO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRUdXJuSW5wdXQob3JpZ2luYWxJbnB1dCwgZ2VuZXJhdGVkSXRlbXMpIHtcbiAgICBjb25zdCByYXdJdGVtcyA9IGdlbmVyYXRlZEl0ZW1zXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0udHlwZSAhPT0gJ3Rvb2xfYXBwcm92YWxfaXRlbScpIC8vIGRvbid0IGluY2x1ZGUgYXBwcm92YWwgaXRlbXMgdG8gYXZvaWQgZG91YmxlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0ucmF3SXRlbSk7XG4gICAgcmV0dXJuIFsuLi50b0FnZW50SW5wdXRMaXN0KG9yaWdpbmFsSW5wdXQpLCAuLi5yYXdJdGVtc107XG59XG4vKipcbiAqIEEgUnVubmVyIGlzIHJlc3BvbnNpYmxlIGZvciBydW5uaW5nIGFuIGFnZW50IHdvcmtmbG93LlxuICovXG5leHBvcnQgY2xhc3MgUnVubmVyIGV4dGVuZHMgUnVuSG9va3Mge1xuICAgIGNvbmZpZztcbiAgICBpbnB1dEd1YXJkcmFpbERlZnM7XG4gICAgb3V0cHV0R3VhcmRyYWlsRGVmcztcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIG1vZGVsUHJvdmlkZXI6IGNvbmZpZy5tb2RlbFByb3ZpZGVyID8/IGdldERlZmF1bHRNb2RlbFByb3ZpZGVyKCksXG4gICAgICAgICAgICBtb2RlbDogY29uZmlnLm1vZGVsLFxuICAgICAgICAgICAgbW9kZWxTZXR0aW5nczogY29uZmlnLm1vZGVsU2V0dGluZ3MsXG4gICAgICAgICAgICBoYW5kb2ZmSW5wdXRGaWx0ZXI6IGNvbmZpZy5oYW5kb2ZmSW5wdXRGaWx0ZXIsXG4gICAgICAgICAgICBpbnB1dEd1YXJkcmFpbHM6IGNvbmZpZy5pbnB1dEd1YXJkcmFpbHMsXG4gICAgICAgICAgICBvdXRwdXRHdWFyZHJhaWxzOiBjb25maWcub3V0cHV0R3VhcmRyYWlscyxcbiAgICAgICAgICAgIHRyYWNpbmdEaXNhYmxlZDogY29uZmlnLnRyYWNpbmdEaXNhYmxlZCA/PyBmYWxzZSxcbiAgICAgICAgICAgIHRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGE6IGNvbmZpZy50cmFjZUluY2x1ZGVTZW5zaXRpdmVEYXRhID8/IHRydWUsXG4gICAgICAgICAgICB3b3JrZmxvd05hbWU6IGNvbmZpZy53b3JrZmxvd05hbWUgPz8gJ0FnZW50IHdvcmtmbG93JyxcbiAgICAgICAgICAgIHRyYWNlSWQ6IGNvbmZpZy50cmFjZUlkLFxuICAgICAgICAgICAgZ3JvdXBJZDogY29uZmlnLmdyb3VwSWQsXG4gICAgICAgICAgICB0cmFjZU1ldGFkYXRhOiBjb25maWcudHJhY2VNZXRhZGF0YSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnB1dEd1YXJkcmFpbERlZnMgPSAoY29uZmlnLmlucHV0R3VhcmRyYWlscyA/PyBbXSkubWFwKGRlZmluZUlucHV0R3VhcmRyYWlsKTtcbiAgICAgICAgdGhpcy5vdXRwdXRHdWFyZHJhaWxEZWZzID0gKGNvbmZpZy5vdXRwdXRHdWFyZHJhaWxzID8/IFtdKS5tYXAoZGVmaW5lT3V0cHV0R3VhcmRyYWlsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgI3J1bkluZGl2aWR1YWxOb25TdHJlYW0oc3RhcnRpbmdBZ2VudCwgaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHdpdGhOZXdTcGFuQ29udGV4dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGEgc2F2ZWQgc3RhdGUgd2UgdXNlIHRoYXQgb25lLCBvdGhlcndpc2Ugd2UgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgY29uc3QgaXNSZXN1bWVkU3RhdGUgPSBpbnB1dCBpbnN0YW5jZW9mIFJ1blN0YXRlO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBpc1Jlc3VtZWRTdGF0ZVxuICAgICAgICAgICAgICAgID8gaW5wdXRcbiAgICAgICAgICAgICAgICA6IG5ldyBSdW5TdGF0ZShvcHRpb25zLmNvbnRleHQgaW5zdGFuY2VvZiBSdW5Db250ZXh0XG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFJ1bkNvbnRleHQob3B0aW9ucy5jb250ZXh0KSwgaW5wdXQsIHN0YXJ0aW5nQWdlbnQsIG9wdGlvbnMubWF4VHVybnMgPz8gREVGQVVMVF9NQVhfVFVSTlMpO1xuICAgICAgICAgICAgY29uc3Qgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciA9IG9wdGlvbnMuY29udmVyc2F0aW9uSWQgfHwgb3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWRcbiAgICAgICAgICAgICAgICA/IG5ldyBTZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyKHtcbiAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IG9wdGlvbnMuY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzUmVzcG9uc2VJZDogb3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyICYmIGlzUmVzdW1lZFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlci5wcmltZUZyb21TdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5wdXQ6IHN0YXRlLl9vcmlnaW5hbElucHV0LFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRJdGVtczogc3RhdGUuX2dlbmVyYXRlZEl0ZW1zLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbFJlc3BvbnNlczogc3RhdGUuX21vZGVsUmVzcG9uc2VzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBsaWN0bHlNb2RlbFNldCA9IChzdGF0ZS5fY3VycmVudEFnZW50Lm1vZGVsICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnQubW9kZWwgIT09ICcnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuY29uZmlnLm1vZGVsICE9PSB1bmRlZmluZWQgJiYgdGhpcy5jb25maWcubW9kZWwgIT09ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGVsID0gc2VsZWN0TW9kZWwoc3RhdGUuX2N1cnJlbnRBZ2VudC5tb2RlbCwgdGhpcy5jb25maWcubW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZGVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBhd2FpdCB0aGlzLmNvbmZpZy5tb2RlbFByb3ZpZGVyLmdldE1vZGVsKG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGEgY3VycmVudCBzdGVwLCB3ZSB0cmVhdCB0aGlzIGFzIGEgbmV3IHJ1blxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAgPSBzdGF0ZS5fY3VycmVudFN0ZXAgPz8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9ydW5fYWdhaW4nLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdDb250aW51aW5nIGZyb20gaW50ZXJydXB0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLl9sYXN0VHVyblJlc3BvbnNlIHx8ICFzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignTm8gbW9kZWwgcmVzcG9uc2UgZm91bmQgaW4gcHJldmlvdXMgc3RhdGUnLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuUmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUludGVycnVwdGVkVG9vbHNBbmRTaWRlRWZmZWN0cyhzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fb3JpZ2luYWxJbnB1dCwgc3RhdGUuX2dlbmVyYXRlZEl0ZW1zLCBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSwgdGhpcywgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2Uoc3RhdGUuX2N1cnJlbnRBZ2VudCwgc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX29yaWdpbmFsSW5wdXQgPSB0dXJuUmVzdWx0Lm9yaWdpbmFsSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMgPSB0dXJuUmVzdWx0LmdlbmVyYXRlZEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwID0gdHVyblJlc3VsdC5uZXh0U3RlcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0dXJuUmVzdWx0Lm5leHRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBzdGlsbCBpbiBhbiBpbnRlcnJ1cHRpb24sIHNvIHdlIG5lZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUnVuUmVzdWx0KHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9ydW5fYWdhaW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kb2ZmcyA9IGF3YWl0IHN0YXRlLl9jdXJyZW50QWdlbnQuZ2V0RW5hYmxlZEhhbmRvZmZzKHN0YXRlLl9jb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kb2ZmTmFtZXMgPSBoYW5kb2Zmcy5tYXAoKGgpID0+IGguYWdlbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3BhbiA9IGNyZWF0ZUFnZW50U3Bhbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0YXRlLl9jdXJyZW50QWdlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRvZmZzOiBoYW5kb2ZmTmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRfdHlwZTogc3RhdGUuX2N1cnJlbnRBZ2VudC5vdXRwdXRTY2hlbWFOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFNwYW4oc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbHMgPSBhd2FpdCBzdGF0ZS5fY3VycmVudEFnZW50LmdldEFsbFRvb2xzKHN0YXRlLl9jb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRUb29scyA9IHRvb2xzLm1hcCgodCkgPT4gc2VyaWFsaXplVG9vbCh0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkSGFuZG9mZnMgPSBoYW5kb2Zmcy5tYXAoKGgpID0+IHNlcmlhbGl6ZUhhbmRvZmYoaCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uc3BhbkRhdGEudG9vbHMgPSB0b29scy5tYXAoKHQpID0+IHQubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm4rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudFR1cm4gPiBzdGF0ZS5fbWF4VHVybnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbj8uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWF4IHR1cm5zIGV4Y2VlZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBtYXhfdHVybnM6IHN0YXRlLl9tYXhUdXJucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNYXhUdXJuc0V4Y2VlZGVkRXJyb3IoYE1heCB0dXJucyAoJHtzdGF0ZS5fbWF4VHVybnN9KSBleGNlZWRlZGAsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgUnVubmluZyBhZ2VudCAke3N0YXRlLl9jdXJyZW50QWdlbnQubmFtZX0gKHR1cm4gJHtzdGF0ZS5fY3VycmVudFR1cm59KWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50VHVybiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3J1bklucHV0R3VhcmRyYWlscyhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuSW5wdXQgPSBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyLnByZXBhcmVJbnB1dChzdGF0ZS5fb3JpZ2luYWxJbnB1dCwgc3RhdGUuX2dlbmVyYXRlZEl0ZW1zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0VHVybklucHV0KHN0YXRlLl9vcmlnaW5hbElucHV0LCBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9zdGFydCcsIHN0YXRlLl9jb250ZXh0LCBzdGF0ZS5fY3VycmVudEFnZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3N0YXJ0Jywgc3RhdGUuX2NvbnRleHQsIHN0YXRlLl9jdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGVsU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5jb25maWcubW9kZWxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZS5fY3VycmVudEFnZW50Lm1vZGVsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWdlbnRNb2RlbFNldHRpbmdzID0gc3RhdGUuX2N1cnJlbnRBZ2VudC5tb2RlbFNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxTZXR0aW5ncyA9IGFkanVzdE1vZGVsU2V0dGluZ3NGb3JOb25HUFQ1UnVubmVyTW9kZWwoZXhwbGljdGx5TW9kZWxTZXQsIGFnZW50TW9kZWxTZXR0aW5ncywgbW9kZWwsIG1vZGVsU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxTZXR0aW5ncyA9IG1heWJlUmVzZXRUb29sQ2hvaWNlKHN0YXRlLl9jdXJyZW50QWdlbnQsIHN0YXRlLl90b29sVXNlVHJhY2tlciwgbW9kZWxTZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1Jlc3BvbnNlSWQgPSBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyPy5wcmV2aW91c1Jlc3BvbnNlSWQgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnByZXZpb3VzUmVzcG9uc2VJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbklkID0gc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlcj8uY29udmVyc2F0aW9uSWQgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNvbnZlcnNhdGlvbklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5nZXRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb25zOiBhd2FpdCBzdGF0ZS5fY3VycmVudEFnZW50LmdldFN5c3RlbVByb21wdChzdGF0ZS5fY29udGV4dCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBhd2FpdCBzdGF0ZS5fY3VycmVudEFnZW50LmdldFByb21wdChzdGF0ZS5fY29udGV4dCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhwbGljaXQgYWdlbnQvcnVuIGNvbmZpZyBtb2RlbHMgc2hvdWxkIHRha2UgcHJlY2VkZW5jZSBvdmVyIHByb21wdCBkZWZhdWx0cy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4oZXhwbGljdGx5TW9kZWxTZXQgPyB7IG92ZXJyaWRlUHJvbXB0TW9kZWw6IHRydWUgfSA6IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHVybklucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzUmVzcG9uc2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xzOiBzZXJpYWxpemVkVG9vbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VHlwZTogY29udmVydEFnZW50T3V0cHV0VHlwZVRvU2VyaWFsaXphYmxlKHN0YXRlLl9jdXJyZW50QWdlbnQub3V0cHV0VHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZG9mZnM6IHNlcmlhbGl6ZWRIYW5kb2ZmcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjaW5nOiBnZXRUcmFjaW5nKHRoaXMuY29uZmlnLnRyYWNpbmdEaXNhYmxlZCwgdGhpcy5jb25maWcudHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX21vZGVsUmVzcG9uc2VzLnB1c2goc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2NvbnRleHQudXNhZ2UuYWRkKHN0YXRlLl9sYXN0VHVyblJlc3BvbnNlLnVzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyPy50cmFja1NlcnZlckl0ZW1zKHN0YXRlLl9sYXN0VHVyblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZFJlc3BvbnNlID0gcHJvY2Vzc01vZGVsUmVzcG9uc2Uoc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UsIHN0YXRlLl9jdXJyZW50QWdlbnQsIHRvb2xzLCBoYW5kb2Zmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlID0gcHJvY2Vzc2VkUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuUmVzdWx0ID0gYXdhaXQgZXhlY3V0ZVRvb2xzQW5kU2lkZUVmZmVjdHMoc3RhdGUuX2N1cnJlbnRBZ2VudCwgc3RhdGUuX29yaWdpbmFsSW5wdXQsIHN0YXRlLl9nZW5lcmF0ZWRJdGVtcywgc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UsIHN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UsIHRoaXMsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl90b29sVXNlVHJhY2tlci5hZGRUb29sVXNlKHN0YXRlLl9jdXJyZW50QWdlbnQsIHN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UudG9vbHNVc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9vcmlnaW5hbElucHV0ID0gdHVyblJlc3VsdC5vcmlnaW5hbElucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2dlbmVyYXRlZEl0ZW1zID0gdHVyblJlc3VsdC5nZW5lcmF0ZWRJdGVtcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHR1cm5SZXN1bHQubmV4dFN0ZXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50U3RlcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfZmluYWxfb3V0cHV0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jcnVuT3V0cHV0R3VhcmRyYWlscyhzdGF0ZSwgc3RhdGUuX2N1cnJlbnRTdGVwLm91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X2VuZCcsIHN0YXRlLl9jb250ZXh0LCBzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fY3VycmVudFN0ZXAub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfZW5kJywgc3RhdGUuX2NvbnRleHQsIHN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5SZXN1bHQoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLl9jdXJyZW50U3RlcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaGFuZG9mZicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnQgPSBzdGF0ZS5fY3VycmVudFN0ZXAubmV3QWdlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fbm9BY3RpdmVBZ2VudFJ1biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBwcm9jZXNzZWQgdGhlIGhhbmRvZmYsIHNvIHdlIG5lZWQgdG8gcnVuIHRoZSBsb29wIGFnYWluXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAgPSB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlLl9jdXJyZW50U3RlcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJydXB0ZWQuIERvbid0IHJ1biBhbnkgZ3VhcmRyYWlsc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5SZXN1bHQoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdSdW5uaW5nIG5leHQgbG9vcCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgaW4gYWdlbnQgcnVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgZXJyb3I6IFN0cmluZyhlcnIpIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50U3RlcD8udHlwZSAhPT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBlbmQgdGhlIHNwYW4gaWYgdGhlIHJ1biB3YXMgaW50ZXJydXB0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyAjcnVuSW5wdXRHdWFyZHJhaWxzKHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IGd1YXJkcmFpbHMgPSB0aGlzLmlucHV0R3VhcmRyYWlsRGVmcy5jb25jYXQoc3RhdGUuX2N1cnJlbnRBZ2VudC5pbnB1dEd1YXJkcmFpbHMubWFwKGRlZmluZUlucHV0R3VhcmRyYWlsKSk7XG4gICAgICAgIGlmIChndWFyZHJhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGd1YXJkcmFpbEFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgYWdlbnQ6IHN0YXRlLl9jdXJyZW50QWdlbnQsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHN0YXRlLl9vcmlnaW5hbElucHV0LFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0YXRlLl9jb250ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKGd1YXJkcmFpbHMubWFwKGFzeW5jIChndWFyZHJhaWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpdGhHdWFyZHJhaWxTcGFuKGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBndWFyZHJhaWwucnVuKGd1YXJkcmFpbEFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5zcGFuRGF0YS50cmlnZ2VyZWQgPSByZXN1bHQub3V0cHV0LnRyaXB3aXJlVHJpZ2dlcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBkYXRhOiB7IG5hbWU6IGd1YXJkcmFpbC5uYW1lIH0gfSwgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQub3V0cHV0LnRyaXB3aXJlVHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdHdWFyZHJhaWwgdHJpcHdpcmUgdHJpZ2dlcmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBndWFyZHJhaWw6IHJlc3VsdC5ndWFyZHJhaWwubmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQoYElucHV0IGd1YXJkcmFpbCB0cmlnZ2VyZWQ6ICR7SlNPTi5zdHJpbmdpZnkocmVzdWx0Lm91dHB1dC5vdXRwdXRJbmZvKX1gLCByZXN1bHQsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJvbGwgYmFjayB0aGUgY3VycmVudCB0dXJuIHRvIGVuYWJsZSByZXJ1bnNcbiAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFR1cm4tLTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IoYElucHV0IGd1YXJkcmFpbCBmYWlsZWQgdG8gY29tcGxldGU6ICR7ZX1gLCBlLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgI3J1bk91dHB1dEd1YXJkcmFpbHMoc3RhdGUsIG91dHB1dCkge1xuICAgICAgICBjb25zdCBndWFyZHJhaWxzID0gdGhpcy5vdXRwdXRHdWFyZHJhaWxEZWZzLmNvbmNhdChzdGF0ZS5fY3VycmVudEFnZW50Lm91dHB1dEd1YXJkcmFpbHMubWFwKGRlZmluZU91dHB1dEd1YXJkcmFpbCkpO1xuICAgICAgICBpZiAoZ3VhcmRyYWlscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhZ2VudE91dHB1dCA9IHN0YXRlLl9jdXJyZW50QWdlbnQucHJvY2Vzc0ZpbmFsT3V0cHV0KG91dHB1dCk7XG4gICAgICAgICAgICBjb25zdCBndWFyZHJhaWxBcmdzID0ge1xuICAgICAgICAgICAgICAgIGFnZW50OiBzdGF0ZS5fY3VycmVudEFnZW50LFxuICAgICAgICAgICAgICAgIGFnZW50T3V0cHV0LFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0YXRlLl9jb250ZXh0LFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHsgbW9kZWxSZXNwb25zZTogc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChndWFyZHJhaWxzLm1hcChhc3luYyAoZ3VhcmRyYWlsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aXRoR3VhcmRyYWlsU3Bhbihhc3luYyAoc3BhbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ3VhcmRyYWlsLnJ1bihndWFyZHJhaWxBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uc3BhbkRhdGEudHJpZ2dlcmVkID0gcmVzdWx0Lm91dHB1dC50cmlwd2lyZVRyaWdnZXJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH0sIHsgZGF0YTogeyBuYW1lOiBndWFyZHJhaWwubmFtZSB9IH0sIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm91dHB1dC50cmlwd2lyZVRyaWdnZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnR3VhcmRyYWlsIHRyaXB3aXJlIHRyaWdnZXJlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgZ3VhcmRyYWlsOiByZXN1bHQuZ3VhcmRyYWlsLm5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZChgT3V0cHV0IGd1YXJkcmFpbCB0cmlnZ2VyZWQ6ICR7SlNPTi5zdHJpbmdpZnkocmVzdWx0Lm91dHB1dC5vdXRwdXRJbmZvKX1gLCByZXN1bHQsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IoYE91dHB1dCBndWFyZHJhaWwgZmFpbGVkIHRvIGNvbXBsZXRlOiAke2V9YCwgZSwgc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jICNydW5TdHJlYW1Mb29wKHJlc3VsdCwgb3B0aW9ucywgaXNSZXN1bWVkU3RhdGUpIHtcbiAgICAgICAgY29uc3Qgc2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciA9IG9wdGlvbnMuY29udmVyc2F0aW9uSWQgfHwgb3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWRcbiAgICAgICAgICAgID8gbmV3IFNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIoe1xuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBvcHRpb25zLmNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzUmVzcG9uc2VJZDogb3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWQsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyICYmIGlzUmVzdW1lZFN0YXRlKSB7XG4gICAgICAgICAgICBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyLnByaW1lRnJvbVN0YXRlKHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbElucHV0OiByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkSXRlbXM6IHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsXG4gICAgICAgICAgICAgICAgbW9kZWxSZXNwb25zZXM6IHJlc3VsdC5zdGF0ZS5fbW9kZWxSZXNwb25zZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QWdlbnQgPSByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudDtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kb2ZmcyA9IGF3YWl0IGN1cnJlbnRBZ2VudC5nZXRFbmFibGVkSGFuZG9mZnMocmVzdWx0LnN0YXRlLl9jb250ZXh0KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29scyA9IGF3YWl0IGN1cnJlbnRBZ2VudC5nZXRBbGxUb29scyhyZXN1bHQuc3RhdGUuX2NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRUb29scyA9IHRvb2xzLm1hcCgodCkgPT4gc2VyaWFsaXplVG9vbCh0KSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZEhhbmRvZmZzID0gaGFuZG9mZnMubWFwKChoKSA9PiBzZXJpYWxpemVIYW5kb2ZmKGgpKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwID0gcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcCA/PyB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0NvbnRpbnVpbmcgZnJvbSBpbnRlcnJ1cHRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFyZXN1bHQuc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignTm8gbW9kZWwgcmVzcG9uc2UgZm91bmQgaW4gcHJldmlvdXMgc3RhdGUnLCByZXN1bHQuc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5SZXN1bHQgPSBhd2FpdCBleGVjdXRlSW50ZXJydXB0ZWRUb29sc0FuZFNpZGVFZmZlY3RzKHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50LCByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQsIHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsIHJlc3VsdC5zdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgcmVzdWx0LnN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UsIHRoaXMsIHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFN0ZXBUb1J1blJlc3VsdChyZXN1bHQsIHR1cm5SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2UocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnQsIHJlc3VsdC5zdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlLnRvb2xzVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fb3JpZ2luYWxJbnB1dCA9IHR1cm5SZXN1bHQub3JpZ2luYWxJbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9nZW5lcmF0ZWRJdGVtcyA9IHR1cm5SZXN1bHQuZ2VuZXJhdGVkSXRlbXM7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAgPSB0dXJuUmVzdWx0Lm5leHRTdGVwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHVyblJlc3VsdC5uZXh0U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBzdGlsbCBpbiBhbiBpbnRlcnJ1cHRpb24sIHNvIHdlIG5lZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX3J1bl9hZ2FpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRvZmZOYW1lcyA9IGhhbmRvZmZzLm1hcCgoaCkgPT4gaC5hZ2VudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuID0gY3JlYXRlQWdlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRBZ2VudC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kb2ZmczogaGFuZG9mZk5hbWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sczogdG9vbHMubWFwKCh0KSA9PiB0Lm5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRfdHlwZTogY3VycmVudEFnZW50Lm91dHB1dFNjaGVtYU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50U3BhbihyZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fY3VycmVudFR1cm4rKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFR1cm4gPiByZXN1bHQuc3RhdGUuX21heFR1cm5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4/LnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWF4IHR1cm5zIGV4Y2VlZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IG1heF90dXJuczogcmVzdWx0LnN0YXRlLl9tYXhUdXJucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWF4VHVybnNFeGNlZWRlZEVycm9yKGBNYXggdHVybnMgKCR7cmVzdWx0LnN0YXRlLl9tYXhUdXJuc30pIGV4Y2VlZGVkYCwgcmVzdWx0LnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFJ1bm5pbmcgYWdlbnQgJHtjdXJyZW50QWdlbnQubmFtZX0gKHR1cm4gJHtyZXN1bHQuc3RhdGUuX2N1cnJlbnRUdXJufSlgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwbGljdGx5TW9kZWxTZXQgPSAoY3VycmVudEFnZW50Lm1vZGVsICE9PSB1bmRlZmluZWQgJiYgY3VycmVudEFnZW50Lm1vZGVsICE9PSAnJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmNvbmZpZy5tb2RlbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY29uZmlnLm1vZGVsICE9PSAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IHNlbGVjdE1vZGVsKGN1cnJlbnRBZ2VudC5tb2RlbCwgdGhpcy5jb25maWcubW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZGVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBhd2FpdCB0aGlzLmNvbmZpZy5tb2RlbFByb3ZpZGVyLmdldE1vZGVsKG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50VHVybiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jcnVuSW5wdXRHdWFyZHJhaWxzKHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGVsU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmNvbmZpZy5tb2RlbFNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudEFnZW50Lm1vZGVsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFnZW50TW9kZWxTZXR0aW5ncyA9IGN1cnJlbnRBZ2VudC5tb2RlbFNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbFNldHRpbmdzID0gYWRqdXN0TW9kZWxTZXR0aW5nc0Zvck5vbkdQVDVSdW5uZXJNb2RlbChleHBsaWN0bHlNb2RlbFNldCwgYWdlbnRNb2RlbFNldHRpbmdzLCBtb2RlbCwgbW9kZWxTZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsU2V0dGluZ3MgPSBtYXliZVJlc2V0VG9vbENob2ljZShjdXJyZW50QWdlbnQsIHJlc3VsdC5zdGF0ZS5fdG9vbFVzZVRyYWNrZXIsIG1vZGVsU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuSW5wdXQgPSBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIucHJlcGFyZUlucHV0KHJlc3VsdC5pbnB1dCwgcmVzdWx0Lm5ld0l0ZW1zKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRUdXJuSW5wdXQocmVzdWx0LmlucHV0LCByZXN1bHQubmV3SXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfc3RhcnQnLCByZXN1bHQuc3RhdGUuX2NvbnRleHQsIGN1cnJlbnRBZ2VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3N0YXJ0JywgcmVzdWx0LnN0YXRlLl9jb250ZXh0LCBjdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbFJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c1Jlc3BvbnNlSWQgPSBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyPy5wcmV2aW91c1Jlc3BvbnNlSWQgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJldmlvdXNSZXNwb25zZUlkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25JZCA9IHNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXI/LmNvbnZlcnNhdGlvbklkID8/IG9wdGlvbnMuY29udmVyc2F0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2YgbW9kZWwuZ2V0U3RyZWFtZWRSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbnM6IGF3YWl0IGN1cnJlbnRBZ2VudC5nZXRTeXN0ZW1Qcm9tcHQocmVzdWx0LnN0YXRlLl9jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdDogYXdhaXQgY3VycmVudEFnZW50LmdldFByb21wdChyZXN1bHQuc3RhdGUuX2NvbnRleHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RyZWFtaW5nIHJlcXVlc3RzIHNob3VsZCBhbHNvIGhvbm9yIGV4cGxpY2l0bHkgY2hvc2VuIG1vZGVscy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihleHBsaWN0bHlNb2RlbFNldCA/IHsgb3ZlcnJpZGVQcm9tcHRNb2RlbDogdHJ1ZSB9IDoge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHR1cm5JbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzUmVzcG9uc2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xzOiBzZXJpYWxpemVkVG9vbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kb2Zmczogc2VyaWFsaXplZEhhbmRvZmZzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VHlwZTogY29udmVydEFnZW50T3V0cHV0VHlwZVRvU2VyaWFsaXphYmxlKGN1cnJlbnRBZ2VudC5vdXRwdXRUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNpbmc6IGdldFRyYWNpbmcodGhpcy5jb25maWcudHJhY2luZ0Rpc2FibGVkLCB0aGlzLmNvbmZpZy50cmFjZUluY2x1ZGVTZW5zaXRpdmVEYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3Jlc3BvbnNlX2RvbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gU3RyZWFtRXZlbnRSZXNwb25zZUNvbXBsZXRlZC5wYXJzZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IG5ldyBVc2FnZShwYXJzZWQucmVzcG9uc2UudXNhZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnNlZC5yZXNwb25zZS5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHBhcnNlZC5yZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB1c2VyJ3MgY29kZSBleGl0cyBhIGxvb3AgdG8gY29uc3VtZSB0aGUgc3RyZWFtLCB3ZSBuZWVkIHRvIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBsb29wIHRvIHByZXZlbnQgaW50ZXJuYWwgZmFsc2UgZXJyb3JzIGFuZCB1bm5lY2Vzc2FyeSBwcm9jZXNzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Ll9hZGRJdGVtKG5ldyBSdW5SYXdNb2RlbFN0cmVhbUV2ZW50KGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmluYWxSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcignTW9kZWwgZGlkIG5vdCBwcm9kdWNlIGEgZmluYWwgcmVzcG9uc2UhJywgcmVzdWx0LnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UgPSBmaW5hbFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJDb252ZXJzYXRpb25UcmFja2VyPy50cmFja1NlcnZlckl0ZW1zKGZpbmFsUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX21vZGVsUmVzcG9uc2VzLnB1c2gocmVzdWx0LnN0YXRlLl9sYXN0VHVyblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkUmVzcG9uc2UgPSBwcm9jZXNzTW9kZWxSZXNwb25zZShyZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UsIGN1cnJlbnRBZ2VudCwgdG9vbHMsIGhhbmRvZmZzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UgPSBwcm9jZXNzZWRSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVjb3JkIHRoZSBpdGVtcyBlbWl0dGVkIGRpcmVjdGx5IGZyb20gdGhlIG1vZGVsIHJlc3BvbnNlIHNvIHdlIGRvIG5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJlYW0gdGhlbSBhZ2FpbiBhZnRlciB0b29scyBhbmQgb3RoZXIgc2lkZSBlZmZlY3RzIGZpbmlzaC5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlVG9vbEl0ZW1zID0gbmV3IFNldChwcm9jZXNzZWRSZXNwb25zZS5uZXdJdGVtcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmVUb29sSXRlbXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbVN0ZXBJdGVtc1RvUnVuUmVzdWx0KHJlc3VsdCwgcHJvY2Vzc2VkUmVzcG9uc2UubmV3SXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5SZXN1bHQgPSBhd2FpdCBleGVjdXRlVG9vbHNBbmRTaWRlRWZmZWN0cyhjdXJyZW50QWdlbnQsIHJlc3VsdC5zdGF0ZS5fb3JpZ2luYWxJbnB1dCwgcmVzdWx0LnN0YXRlLl9nZW5lcmF0ZWRJdGVtcywgcmVzdWx0LnN0YXRlLl9sYXN0VHVyblJlc3BvbnNlLCByZXN1bHQuc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSwgdGhpcywgcmVzdWx0LnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkU3RlcFRvUnVuUmVzdWx0KHJlc3VsdCwgdHVyblJlc3VsdCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcEl0ZW1zOiBwcmVUb29sSXRlbXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2UoY3VycmVudEFnZW50LCBwcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQgPSB0dXJuUmVzdWx0Lm9yaWdpbmFsSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMgPSB0dXJuUmVzdWx0LmdlbmVyYXRlZEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwID0gdHVyblJlc3VsdC5uZXh0U3RlcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3J1bk91dHB1dEd1YXJkcmFpbHMocmVzdWx0LnN0YXRlLCByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLm91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfZW5kJywgcmVzdWx0LnN0YXRlLl9jb250ZXh0LCBjdXJyZW50QWdlbnQsIHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X2VuZCcsIHJlc3VsdC5zdGF0ZS5fY29udGV4dCwgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBkb25lIGZvciBub3cuIERvbid0IHJ1biBhbnkgb3V0cHV0IGd1YXJkcmFpbHNcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaGFuZG9mZicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnQgPSByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICA/Lm5ld0FnZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuX2FkZEl0ZW0obmV3IFJ1bkFnZW50VXBkYXRlZFN0cmVhbUV2ZW50KHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fbm9BY3RpdmVBZ2VudFJ1biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIHByb2Nlc3NlZCB0aGUgaGFuZG9mZiwgc28gd2UgbmVlZCB0byBydW4gdGhlIGxvb3AgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnUnVubmluZyBuZXh0IGxvb3AnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGluIGFnZW50IHJ1bicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwPy50eXBlICE9PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgI3J1bkluZGl2aWR1YWxTdHJlYW0oYWdlbnQsIGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zID8/IHt9O1xuICAgICAgICByZXR1cm4gd2l0aE5ld1NwYW5Db250ZXh0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgb3IgcmV1c2UgZXhpc3Rpbmcgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IGlzUmVzdW1lZFN0YXRlID0gaW5wdXQgaW5zdGFuY2VvZiBSdW5TdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gaXNSZXN1bWVkU3RhdGVcbiAgICAgICAgICAgICAgICA/IGlucHV0XG4gICAgICAgICAgICAgICAgOiBuZXcgUnVuU3RhdGUob3B0aW9ucy5jb250ZXh0IGluc3RhbmNlb2YgUnVuQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuY29udGV4dFxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBSdW5Db250ZXh0KG9wdGlvbnMuY29udGV4dCksIGlucHV0LCBhZ2VudCwgb3B0aW9ucy5tYXhUdXJucyA/PyBERUZBVUxUX01BWF9UVVJOUyk7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBzdHJlYW1lZCByZXN1bHQgd2l0aCBleGlzdGluZyBzdGF0ZVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFN0cmVhbWVkUnVuUmVzdWx0KHtcbiAgICAgICAgICAgICAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBTZXR1cCBkZWZhdWx0c1xuICAgICAgICAgICAgcmVzdWx0Lm1heFR1cm5zID0gb3B0aW9ucy5tYXhUdXJucyA/PyBzdGF0ZS5fbWF4VHVybnM7XG4gICAgICAgICAgICAvLyBDb250aW51ZSB0aGUgc3RyZWFtIGxvb3Agd2l0aG91dCBibG9ja2luZ1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtTG9vcFByb21pc2UgPSB0aGlzLiNydW5TdHJlYW1Mb29wKHJlc3VsdCwgb3B0aW9ucywgaXNSZXN1bWVkU3RhdGUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5fZG9uZSgpO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5fcmFpc2VFcnJvcihlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBBdHRhY2ggdGhlIHN0cmVhbSBsb29wIHByb21pc2Ugc28gdHJhY2UgZW5kIHdhaXRzIGZvciB0aGUgbG9vcCB0byBjb21wbGV0ZVxuICAgICAgICAgICAgcmVzdWx0Ll9zZXRTdHJlYW1Mb29wUHJvbWlzZShzdHJlYW1Mb29wUHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcnVuKGFnZW50LCBpbnB1dCwgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RyZWFtOiBmYWxzZSxcbiAgICAgICAgY29udGV4dDogdW5kZWZpbmVkLFxuICAgIH0pIHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgUnVuU3RhdGUgJiYgaW5wdXQuX3RyYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gd2l0aFRyYWNlKGlucHV0Ll90cmFjZSwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50U3BhbihpbnB1dC5fY3VycmVudEFnZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zPy5zdHJlYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3J1bkluZGl2aWR1YWxTdHJlYW0oYWdlbnQsIGlucHV0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiNydW5JbmRpdmlkdWFsTm9uU3RyZWFtKGFnZW50LCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdldE9yQ3JlYXRlVHJhY2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnM/LnN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiNydW5JbmRpdmlkdWFsU3RyZWFtKGFnZW50LCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4jcnVuSW5kaXZpZHVhbE5vblN0cmVhbShhZ2VudCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0cmFjZUlkOiB0aGlzLmNvbmZpZy50cmFjZUlkLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5jb25maWcud29ya2Zsb3dOYW1lLFxuICAgICAgICAgICAgZ3JvdXBJZDogdGhpcy5jb25maWcuZ3JvdXBJZCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB0aGlzLmNvbmZpZy50cmFjZU1ldGFkYXRhLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5sZXQgX2RlZmF1bHRSdW5uZXIgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBnZXREZWZhdWx0UnVubmVyKCkge1xuICAgIGlmIChfZGVmYXVsdFJ1bm5lcikge1xuICAgICAgICByZXR1cm4gX2RlZmF1bHRSdW5uZXI7XG4gICAgfVxuICAgIF9kZWZhdWx0UnVubmVyID0gbmV3IFJ1bm5lcigpO1xuICAgIHJldHVybiBfZGVmYXVsdFJ1bm5lcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RNb2RlbChhZ2VudE1vZGVsLCBydW5Db25maWdNb2RlbCkge1xuICAgIC8vIFdoZW4gaW5pdGlhbGl6aW5nIGFuIGFnZW50IHdpdGhvdXQgbW9kZWwgbmFtZSwgdGhlIG1vZGVsIHByb3BlcnR5IGlzIHNldCB0byBhbiBlbXB0eSBzdHJpbmcuIFNvLFxuICAgIC8vICogYWdlbnRNb2RlbCA9PT0gJycgJiBydW5Db25maWdNb2RlbCBleGlzdHMsIHJ1bkNvbmZpZ01vZGVsIHdpbGwgYmUgdXNlZFxuICAgIC8vICogYWdlbnRNb2RlbCBpcyBzZXQsIHRoZSBhZ2VudE1vZGVsIHdpbGwgYmUgdXNlZCBvdmVyIHJ1bkNvbmZpZ01vZGVsXG4gICAgaWYgKCh0eXBlb2YgYWdlbnRNb2RlbCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgYWdlbnRNb2RlbCAhPT0gQWdlbnQuREVGQVVMVF9NT0RFTF9QTEFDRUhPTERFUikgfHxcbiAgICAgICAgYWdlbnRNb2RlbCAvLyBhbnkgdHJ1dGh5IHZhbHVlXG4gICAgKSB7XG4gICAgICAgIHJldHVybiBhZ2VudE1vZGVsO1xuICAgIH1cbiAgICByZXR1cm4gcnVuQ29uZmlnTW9kZWwgPz8gYWdlbnRNb2RlbCA/PyBBZ2VudC5ERUZBVUxUX01PREVMX1BMQUNFSE9MREVSO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1bihhZ2VudCwgaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBydW5uZXIgPSBnZXREZWZhdWx0UnVubmVyKCk7XG4gICAgaWYgKG9wdGlvbnM/LnN0cmVhbSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgcnVubmVyLnJ1bihhZ2VudCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJ1bm5lci5ydW4oYWdlbnQsIGlucHV0LCBvcHRpb25zKTtcbiAgICB9XG59XG4vKipcbiAqIFdoZW4gdGhlIGRlZmF1bHQgbW9kZWwgaXMgYSBHUFQtNSB2YXJpYW50LCBhZ2VudHMgbWF5IGNhcnJ5IEdQVC01LXNwZWNpZmljIHByb3ZpZGVyRGF0YVxuICogKGUuZy4sIHJlYXNvbmluZyBlZmZvcnQsIHRleHQgdmVyYm9zaXR5KS4gSWYgYSBydW4gcmVzb2x2ZXMgdG8gYSBub24tR1BULTUgbW9kZWwgYW5kIHRoZVxuICogYWdlbnQgcmVsaWVkIG9uIHRoZSBkZWZhdWx0IG1vZGVsIChpLmUuLCBubyBleHBsaWNpdCBtb2RlbCBzZXQpLCB0aGVzZSBHUFQtNS1vbmx5IHNldHRpbmdzXG4gKiBhcmUgaW5jb21wYXRpYmxlIGFuZCBzaG91bGQgYmUgc3RyaXBwZWQgdG8gYXZvaWQgcnVudGltZSBlcnJvcnMuXG4gKi9cbmZ1bmN0aW9uIGFkanVzdE1vZGVsU2V0dGluZ3NGb3JOb25HUFQ1UnVubmVyTW9kZWwoZXhwbGljdGx5TW9kZWxTZXQsIGFnZW50TW9kZWxTZXR0aW5ncywgcnVubmVyTW9kZWwsIG1vZGVsU2V0dGluZ3MpIHtcbiAgICBpZiAoXG4gICAgLy8gZ3B0LTUgaXMgZW5hYmxlZCBmb3IgdGhlIGRlZmF1bHQgbW9kZWwgZm9yIGFnZW50c1xuICAgIGlzR3B0NURlZmF1bHQoKSAmJlxuICAgICAgICAvLyBleHBsaWNpdGx5IHNldCBtb2RlbCBmb3IgdGhlIGFnZW50XG4gICAgICAgIGV4cGxpY3RseU1vZGVsU2V0ICYmXG4gICAgICAgIC8vIHRoaXMgcnVubmVyIHVzZXMgYSBub24tZ3B0LTUgbW9kZWxcbiAgICAgICAgKHR5cGVvZiBydW5uZXJNb2RlbCAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgICFncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZChydW5uZXJNb2RlbCkpICYmXG4gICAgICAgIChhZ2VudE1vZGVsU2V0dGluZ3MucHJvdmlkZXJEYXRhPy5yZWFzb25pbmcgfHxcbiAgICAgICAgICAgIGFnZW50TW9kZWxTZXR0aW5ncy5wcm92aWRlckRhdGE/LnRleHQ/LnZlcmJvc2l0eSB8fFxuICAgICAgICAgICAgYWdlbnRNb2RlbFNldHRpbmdzLnByb3ZpZGVyRGF0YT8ucmVhc29uaW5nX2VmZm9ydCkpIHtcbiAgICAgICAgY29uc3QgY29waWVkTW9kZWxTZXR0aW5ncyA9IHsgLi4ubW9kZWxTZXR0aW5ncyB9O1xuICAgICAgICAvLyB0aGUgaW5jb21wYXRpYmxlIHBhcmFtZXRlcnMgc2hvdWxkIGJlIHJlbW92ZWQgdG8gYXZvaWQgcnVudGltZSBlcnJvcnNcbiAgICAgICAgZGVsZXRlIGNvcGllZE1vZGVsU2V0dGluZ3MucHJvdmlkZXJEYXRhPy5yZWFzb25pbmc7XG4gICAgICAgIGRlbGV0ZSBjb3BpZWRNb2RlbFNldHRpbmdzLnByb3ZpZGVyRGF0YT8udGV4dD8udmVyYm9zaXR5O1xuICAgICAgICBkZWxldGUgY29waWVkTW9kZWxTZXR0aW5ncy5wcm92aWRlckRhdGE/LnJlYXNvbmluZ19lZmZvcnQ7XG4gICAgICAgIGlmIChjb3BpZWRNb2RlbFNldHRpbmdzLnJlYXNvbmluZykge1xuICAgICAgICAgICAgZGVsZXRlIGNvcGllZE1vZGVsU2V0dGluZ3MucmVhc29uaW5nLmVmZm9ydDtcbiAgICAgICAgICAgIGRlbGV0ZSBjb3BpZWRNb2RlbFNldHRpbmdzLnJlYXNvbmluZy5zdW1tYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3BpZWRNb2RlbFNldHRpbmdzLnRleHQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjb3BpZWRNb2RlbFNldHRpbmdzLnRleHQudmVyYm9zaXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3BpZWRNb2RlbFNldHRpbmdzO1xuICAgIH1cbiAgICByZXR1cm4gbW9kZWxTZXR0aW5ncztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bi5tanMubWFwIiwiaW1wb3J0IHsgUmVhZGFibGVTdHJlYW0gYXMgX1JlYWRhYmxlU3RyZWFtLCBUcmFuc2Zvcm1TdHJlYW0sIFJlYWRhYmxlLCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmltcG9ydCB7IGdldFR1cm5JbnB1dCB9IGZyb20gXCIuL3J1bi5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgU3RyZWFtRXZlbnRUZXh0U3RyZWFtIH0gZnJvbSBcIi4vdHlwZXMvcHJvdG9jb2wubWpzXCI7XG5jbGFzcyBSdW5SZXN1bHRCYXNlIHtcbiAgICBzdGF0ZTtcbiAgICBjb25zdHJ1Y3RvcihzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBoaXN0b3J5IG9mIHRoZSBhZ2VudCBydW4uIFRoaXMgaW5jbHVkZXMgdGhlIGlucHV0IGl0ZW1zIGFuZCB0aGUgbmV3IGl0ZW1zIGdlbmVyYXRlZCBkdXJpbmdcbiAgICAgKiB0aGUgYWdlbnQgcnVuLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCBhcyBpbnB1dHMgZm9yIHRoZSBuZXh0IGFnZW50IHJ1bi5cbiAgICAgKi9cbiAgICBnZXQgaGlzdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIGdldFR1cm5JbnB1dCh0aGlzLmlucHV0LCB0aGlzLm5ld0l0ZW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG5ldyBpdGVtcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBhZ2VudCBydW4uIFRoZXNlIGluY2x1ZGUgdGhpbmdzIGxpa2UgbmV3IG1lc3NhZ2VzLCB0b29sXG4gICAgICogY2FsbHMgYW5kIHRoZWlyIG91dHB1dHMsIGV0Yy5cbiAgICAgKlxuICAgICAqIEl0IGRvZXMgbm90IGluY2x1ZGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFnZW50cyBhbmQgaW5zdGVhZCByZXByZXNlbnRzIHRoZSBtb2RlbCBkYXRhLlxuICAgICAqXG4gICAgICogRm9yIHRoZSBvdXRwdXQgaW5jbHVkaW5nIHRoZSBhZ2VudHMsIHVzZSB0aGUgYG5ld0l0ZW1zYCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXQgb3V0cHV0KCkge1xuICAgICAgICByZXR1cm4gZ2V0VHVybklucHV0KFtdLCB0aGlzLm5ld0l0ZW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBpbnB1dCBpdGVtcy5cbiAgICAgKi9cbiAgICBnZXQgaW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9vcmlnaW5hbElucHV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcnVuIGl0ZW1zIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGFnZW50IHJ1bi4gVGhpcyBhc3NvY2lhdGVzIHRoZSBtb2RlbCBkYXRhIHdpdGggdGhlIGFnZW50cy5cbiAgICAgKlxuICAgICAqIEZvciB0aGUgbW9kZWwgZGF0YSB0aGF0IGNhbiBiZSB1c2VkIGFzIGlucHV0cyBmb3IgdGhlIG5leHQgYWdlbnQgcnVuLCB1c2UgdGhlIGBvdXRwdXRgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGdldCBuZXdJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX2dlbmVyYXRlZEl0ZW1zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmF3IExMTSByZXNwb25zZXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBkdXJpbmcgdGhlIGFnZW50IHJ1bi5cbiAgICAgKi9cbiAgICBnZXQgcmF3UmVzcG9uc2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fbW9kZWxSZXNwb25zZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsYXN0IHJlc3BvbnNlIElEIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgZHVyaW5nIHRoZSBhZ2VudCBydW4uXG4gICAgICovXG4gICAgZ2V0IGxhc3RSZXNwb25zZUlkKCkge1xuICAgICAgICBjb25zdCByZXNwb25zZXMgPSB0aGlzLnJhd1Jlc3BvbnNlcztcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlcyAmJiByZXNwb25zZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyByZXNwb25zZXNbcmVzcG9uc2VzLmxlbmd0aCAtIDFdLnJlc3BvbnNlSWRcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCBhZ2VudCB0aGF0IHdhcyBydW5cbiAgICAgKi9cbiAgICBnZXQgbGFzdEFnZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fY3VycmVudEFnZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHdWFyZHJhaWwgcmVzdWx0cyBmb3IgdGhlIGlucHV0IG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIGdldCBpbnB1dEd1YXJkcmFpbFJlc3VsdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9pbnB1dEd1YXJkcmFpbFJlc3VsdHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEd1YXJkcmFpbCByZXN1bHRzIGZvciB0aGUgZmluYWwgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKi9cbiAgICBnZXQgb3V0cHV0R3VhcmRyYWlsUmVzdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX291dHB1dEd1YXJkcmFpbFJlc3VsdHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFueSBpbnRlcnJ1cHRpb25zIHRoYXQgb2NjdXJyZWQgZHVyaW5nIHRoZSBhZ2VudCBydW4gZm9yIGV4YW1wbGUgZm9yIHRvb2wgYXBwcm92YWxzLlxuICAgICAqL1xuICAgIGdldCBpbnRlcnJ1cHRpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5fY3VycmVudFN0ZXA/LnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX2N1cnJlbnRTdGVwLmRhdGEuaW50ZXJydXB0aW9ucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaW5hbCBvdXRwdXQgb2YgdGhlIGFnZW50LiBJZiB0aGUgb3V0cHV0IHR5cGUgd2FzIHNldCB0byBhbnl0aGluZyBvdGhlciB0aGFuIGB0ZXh0YCxcbiAgICAgKiB0aGlzIHdpbGwgYmUgcGFyc2VkIGVpdGhlciBhcyBKU09OIG9yIHVzaW5nIHRoZSBab2Qgc2NoZW1hIHlvdSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBnZXQgZmluYWxPdXRwdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLl9jdXJyZW50U3RlcD8udHlwZSA9PT0gJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fY3VycmVudEFnZW50LnByb2Nlc3NGaW5hbE91dHB1dCh0aGlzLnN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci53YXJuKCdBY2Nlc3NlZCBmaW5hbE91dHB1dCBiZWZvcmUgYWdlbnQgcnVuIGlzIGNvbXBsZXRlZC4nKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSByZXN1bHQgb2YgYW4gYWdlbnQgcnVuLlxuICovXG5leHBvcnQgY2xhc3MgUnVuUmVzdWx0IGV4dGVuZHMgUnVuUmVzdWx0QmFzZSB7XG4gICAgY29uc3RydWN0b3Ioc3RhdGUpIHtcbiAgICAgICAgc3VwZXIoc3RhdGUpO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIHJlc3VsdCBvZiBhbiBhZ2VudCBydW4gaW4gc3RyZWFtaW5nIG1vZGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1lZFJ1blJlc3VsdCBleHRlbmRzIFJ1blJlc3VsdEJhc2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGFnZW50IHRoYXQgaXMgcnVubmluZ1xuICAgICAqL1xuICAgIGdldCBjdXJyZW50QWdlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RBZ2VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgdHVybiBudW1iZXJcbiAgICAgKi9cbiAgICBjdXJyZW50VHVybiA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHR1cm5zIHRoYXQgY2FuIGJlIHJ1blxuICAgICAqL1xuICAgIG1heFR1cm5zO1xuICAgICNlcnJvciA9IG51bGw7XG4gICAgI3NpZ25hbDtcbiAgICAjcmVhZGFibGVDb250cm9sbGVyO1xuICAgICNyZWFkYWJsZVN0cmVhbTtcbiAgICAjY29tcGxldGVkUHJvbWlzZTtcbiAgICAjY29tcGxldGVkUHJvbWlzZVJlc29sdmU7XG4gICAgI2NvbXBsZXRlZFByb21pc2VSZWplY3Q7XG4gICAgI2NhbmNlbGxlZCA9IGZhbHNlO1xuICAgICNzdHJlYW1Mb29wUHJvbWlzZTtcbiAgICBjb25zdHJ1Y3RvcihyZXN1bHQgPSB7fSkge1xuICAgICAgICBzdXBlcihyZXN1bHQuc3RhdGUpO1xuICAgICAgICB0aGlzLiNzaWduYWwgPSByZXN1bHQuc2lnbmFsO1xuICAgICAgICB0aGlzLiNyZWFkYWJsZVN0cmVhbSA9IG5ldyBfUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgc3RhcnQ6IChjb250cm9sbGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5jZWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNjYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNjb21wbGV0ZWRQcm9taXNlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICB0aGlzLiNjb21wbGV0ZWRQcm9taXNlUmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuI3NpZ25hbCkge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQWJvcnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI2NhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuI2NhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI3JlYWRhYmxlU3RyZWFtLmxvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gY2xvc2UgcmVhZGFibGUgc3RyZWFtIG9uIGFib3J0OiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLiNyZWFkYWJsZVN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhbmNlbCh0aGlzLiNzaWduYWw/LnJlYXNvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYEZhaWxlZCB0byBjYW5jZWwgcmVhZGFibGUgc3RyZWFtIG9uIGFib3J0OiAke2Vycn1gKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2VSZXNvbHZlPy4oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodGhpcy4jc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVBYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgaGFuZGxlQWJvcnQsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBBZGRzIGFuIGl0ZW0gdG8gdGhlIHN0cmVhbSBvZiBvdXRwdXQgaXRlbXNcbiAgICAgKi9cbiAgICBfYWRkSXRlbShpdGVtKSB7XG4gICAgICAgIGlmICghdGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlcj8uZW5xdWV1ZShpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgc3RyZWFtIGhhcyBiZWVuIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIF9kb25lKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2FuY2VsbGVkICYmIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlcikge1xuICAgICAgICAgICAgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLiNjb21wbGV0ZWRQcm9taXNlUmVzb2x2ZT8uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICogSGFuZGxlcyBhbiBlcnJvciBpbiB0aGUgc3RyZWFtIGxvb3AuXG4gICAgICovXG4gICAgX3JhaXNlRXJyb3IoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5jYW5jZWxsZWQgJiYgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyKSB7XG4gICAgICAgICAgICB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNlcnJvciA9IGVycjtcbiAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZVJlamVjdD8uKGVycik7XG4gICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2UuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgUmVzdWx0ZWQgaW4gYW4gZXJyb3I6ICR7ZX1gKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3RyZWFtIGhhcyBiZWVuIGNhbmNlbGxlZC5cbiAgICAgKi9cbiAgICBnZXQgY2FuY2VsbGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY2FuY2VsbGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIHJlYWRhYmxlIHN0cmVhbS5cbiAgICAgKiBAcmV0dXJucyBBIHJlYWRhYmxlIHN0cmVhbSBvZiB0aGUgYWdlbnQgcnVuLlxuICAgICAqL1xuICAgIHRvU3RyZWFtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcmVhZGFibGVTdHJlYW07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF3YWl0IHRoaXMgcHJvbWlzZSB0byBlbnN1cmUgdGhhdCB0aGUgc3RyZWFtIGhhcyBiZWVuIGNvbXBsZXRlZCBpZiB5b3UgYXJlIG5vdCBjb25zdW1pbmcgdGhlXG4gICAgICogc3RyZWFtIGRpcmVjdGx5LlxuICAgICAqL1xuICAgIGdldCBjb21wbGV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjb21wbGV0ZWRQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFcnJvciB0aHJvd24gZHVyaW5nIHRoZSBydW4sIGlmIGFueS5cbiAgICAgKi9cbiAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNlcnJvcjtcbiAgICB9XG4gICAgdG9UZXh0U3RyZWFtKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLiNyZWFkYWJsZVN0cmVhbS5waXBlVGhyb3VnaChuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICAgIHRyYW5zZm9ybShldmVudCwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAncmF3X21vZGVsX3N0cmVhbV9ldmVudCcgJiZcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGF0YS50eXBlID09PSAnb3V0cHV0X3RleHRfZGVsdGEnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBTdHJlYW1FdmVudFRleHRTdHJlYW0ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShpdGVtLmRlbHRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIGlmIChvcHRpb25zLmNvbXBhdGlibGVXaXRoTm9kZVN0cmVhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFkYWJsZS5mcm9tV2ViKHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICB9XG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3JlYWRhYmxlU3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBTZXRzIHRoZSBzdHJlYW0gbG9vcCBwcm9taXNlIHRoYXQgY29tcGxldGVzIHdoZW4gdGhlIGludGVybmFsIHN0cmVhbSBsb29wIGZpbmlzaGVzLlxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBkZWZlciB0cmFjZSBlbmQgdW50aWwgYWxsIGFnZW50IHdvcmsgaXMgY29tcGxldGUuXG4gICAgICovXG4gICAgX3NldFN0cmVhbUxvb3BQcm9taXNlKHByb21pc2UpIHtcbiAgICAgICAgdGhpcy4jc3RyZWFtTG9vcFByb21pc2UgPSBwcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHN0cmVhbSBsb29wIGNvbXBsZXRlcy5cbiAgICAgKiBUaGlzIGlzIHVzZWQgYnkgdGhlIHRyYWNpbmcgc3lzdGVtIHRvIHdhaXQgZm9yIGFsbCBhZ2VudCB3b3JrIGJlZm9yZSBlbmRpbmcgdGhlIHRyYWNlLlxuICAgICAqL1xuICAgIF9nZXRTdHJlYW1Mb29wUHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0cmVhbUxvb3BQcm9taXNlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3VsdC5tanMubWFwIiwiaW1wb3J0IHsgQXN5bmNMb2NhbFN0b3JhZ2UgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5pbXBvcnQgeyBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXIubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW1lZFJ1blJlc3VsdCB9IGZyb20gXCIuLi9yZXN1bHQubWpzXCI7XG5sZXQgX2NvbnRleHRBc3luY0xvY2FsU3RvcmFnZTtcbmZ1bmN0aW9uIGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpIHtcbiAgICBfY29udGV4dEFzeW5jTG9jYWxTdG9yYWdlID8/PSBuZXcgQXN5bmNMb2NhbFN0b3JhZ2UoKTtcbiAgICByZXR1cm4gX2NvbnRleHRBc3luY0xvY2FsU3RvcmFnZTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGdldCB0aGUgY3VycmVudCB0cmFjZSBmcm9tIHRoZSBleGVjdXRpb24gY29udGV4dC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgY3VycmVudCB0cmFjZSBvciBudWxsIGlmIHRoZXJlIGlzIG5vIHRyYWNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFRyYWNlKCkge1xuICAgIGNvbnN0IGN1cnJlbnRUcmFjZSA9IGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmdldFN0b3JlKCk7XG4gICAgaWYgKGN1cnJlbnRUcmFjZT8udHJhY2UpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUcmFjZS50cmFjZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBnZXQgdGhlIGN1cnJlbnQgc3BhbiBmcm9tIHRoZSBleGVjdXRpb24gY29udGV4dC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgY3VycmVudCBzcGFuIG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gc3Bhbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTcGFuKCkge1xuICAgIGNvbnN0IGN1cnJlbnRTcGFuID0gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkuZ2V0U3RvcmUoKTtcbiAgICBpZiAoY3VycmVudFNwYW4/LnNwYW4pIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRTcGFuLnNwYW47XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBUaGlzIGlzIGFuIEFzeW5jTG9jYWxTdG9yYWdlIGluc3RhbmNlIHRoYXQgc3RvcmVzIHRoZSBjdXJyZW50IHRyYWNlLlxuICogSXQgd2lsbCBhdXRvbWF0aWNhbGx5IGhhbmRsZSB0aGUgZXhlY3V0aW9uIGNvbnRleHQgb2YgZGlmZmVyZW50IGV2ZW50IGxvb3AgZXhlY3V0aW9ucy5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGJlbG93IHNob3VsZCBiZSB0aGUgb25seSB3YXkgdGhhdCB0aGlzIGNvbnRleHQgZ2V0cyBpbnRlcmZhY2VkIHdpdGguXG4gKi9cbmZ1bmN0aW9uIF93cmFwRnVuY3Rpb25XaXRoVHJhY2VMaWZlY3ljbGUoZm4pIHtcbiAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0cmFjZSA9IGdldEN1cnJlbnRUcmFjZSgpO1xuICAgICAgICBpZiAoIXRyYWNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRyYWNlIGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdHJhY2Uuc3RhcnQoKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4odHJhY2UpO1xuICAgICAgICAvLyBJZiByZXN1bHQgaXMgYSBTdHJlYW1lZFJ1blJlc3VsdCwgZGVmZXIgdHJhY2UgZW5kIHVudGlsIHN0cmVhbSBsb29wIGNvbXBsZXRlc1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgU3RyZWFtZWRSdW5SZXN1bHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbUxvb3BQcm9taXNlID0gcmVzdWx0Ll9nZXRTdHJlYW1Mb29wUHJvbWlzZSgpO1xuICAgICAgICAgICAgaWYgKHN0cmVhbUxvb3BQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtTG9vcFByb21pc2UuZmluYWxseSgoKSA9PiB0cmFjZS5lbmQoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGb3Igbm9uLXN0cmVhbWluZyByZXN1bHRzLCBlbmQgdHJhY2Ugc3luY2hyb25vdXNseVxuICAgICAgICBhd2FpdCB0cmFjZS5lbmQoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIGEgbmV3IHRyYWNlIGFuZCBhc3NpZ24gaXQgdG8gdGhlIGV4ZWN1dGlvbiBjb250ZXh0IG9mIHRoZSBmdW5jdGlvblxuICogcGFzc2VkIHRvIGl0LlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiB0byBydW4gYW5kIGFzc2lnbiB0aGUgdHJhY2UgY29udGV4dCB0by5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGNyZWF0aW9uIG9mIHRoZSB0cmFjZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2l0aFRyYWNlKHRyYWNlLCBmbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbmV3VHJhY2UgPSB0eXBlb2YgdHJhY2UgPT09ICdzdHJpbmcnXG4gICAgICAgID8gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVRyYWNlKHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBuYW1lOiB0cmFjZSxcbiAgICAgICAgfSlcbiAgICAgICAgOiB0cmFjZTtcbiAgICByZXR1cm4gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkucnVuKHsgdHJhY2U6IG5ld1RyYWNlIH0sIF93cmFwRnVuY3Rpb25XaXRoVHJhY2VMaWZlY3ljbGUoZm4pKTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGNoZWNrIGlmIHRoZXJlIGlzIGFuIGV4aXN0aW5nIGFjdGl2ZSB0cmFjZSBpbiB0aGUgZXhlY3V0aW9uIGNvbnRleHQuIElmIHRoZXJlXG4gKiBpcywgaXQgd2lsbCBydW4gdGhlIGdpdmVuIGZ1bmN0aW9uIHdpdGggdGhlIGV4aXN0aW5nIHRyYWNlLiBJZiB0aGVyZSBpcyBubyB0cmFjZSwgaXQgd2lsbCBjcmVhdGVcbiAqIGEgbmV3IG9uZSBhbmQgYXNzaWduIGl0IHRvIHRoZSBleGVjdXRpb24gY29udGV4dCBvZiB0aGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIGZuIC0gVGhlIGZ6dW5jdGlvbiB0byBydW4gYW5kIGFzc2lnbiB0aGUgdHJhY2UgY29udGV4dCB0by5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGNyZWF0aW9uIG9mIHRoZSB0cmFjZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0T3JDcmVhdGVUcmFjZShmbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgY3VycmVudFRyYWNlID0gZ2V0Q3VycmVudFRyYWNlKCk7XG4gICAgaWYgKGN1cnJlbnRUcmFjZSkge1xuICAgICAgICAvLyBpZiB0aGlzIGV4ZWN1dGlvbiBjb250ZXh0IGFscmVhZHkgaGFzIGEgdHJhY2UgaW5zdGFuY2UgaW4gaXQgd2UganVzdCBjb250aW51ZVxuICAgICAgICByZXR1cm4gYXdhaXQgZm4oKTtcbiAgICB9XG4gICAgY29uc3QgbmV3VHJhY2UgPSBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlVHJhY2Uob3B0aW9ucyk7XG4gICAgcmV0dXJuIGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLnJ1bih7IHRyYWNlOiBuZXdUcmFjZSB9LCBfd3JhcEZ1bmN0aW9uV2l0aFRyYWNlTGlmZWN5Y2xlKGZuKSk7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBzZXQgdGhlIGN1cnJlbnQgc3BhbiBpbiB0aGUgZXhlY3V0aW9uIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIHNwYW4gLSBUaGUgc3BhbiB0byBzZXQgYXMgdGhlIGN1cnJlbnQgc3Bhbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEN1cnJlbnRTcGFuKHNwYW4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkuZ2V0U3RvcmUoKTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBleGlzdGluZyB0cmFjZSBmb3VuZCcpO1xuICAgIH1cbiAgICBpZiAoY29udGV4dC5zcGFuKSB7XG4gICAgICAgIGNvbnRleHQuc3Bhbi5wcmV2aW91c1NwYW4gPSBjb250ZXh0LnByZXZpb3VzU3BhbjtcbiAgICAgICAgY29udGV4dC5wcmV2aW91c1NwYW4gPSBjb250ZXh0LnNwYW47XG4gICAgfVxuICAgIGNvbnRleHQuc3BhbiA9IHNwYW47XG4gICAgZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkuZW50ZXJXaXRoKGNvbnRleHQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0Q3VycmVudFNwYW4oKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmdldFN0b3JlKCk7XG4gICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5zcGFuID0gY29udGV4dC5wcmV2aW91c1NwYW47XG4gICAgICAgIGNvbnRleHQucHJldmlvdXNTcGFuID0gY29udGV4dC5wcmV2aW91c1NwYW4/LnByZXZpb3VzU3BhbjtcbiAgICAgICAgZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkuZW50ZXJXaXRoKGNvbnRleHQpO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGFkZCBhbiBlcnJvciB0byB0aGUgY3VycmVudCBzcGFuLlxuICpcbiAqIEBwYXJhbSBzcGFuRXJyb3IgLSBUaGUgZXJyb3IgdG8gYWRkIHRvIHRoZSBjdXJyZW50IHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFcnJvclRvQ3VycmVudFNwYW4oc3BhbkVycm9yKSB7XG4gICAgY29uc3QgY3VycmVudFNwYW4gPSBnZXRDdXJyZW50U3BhbigpO1xuICAgIGlmIChjdXJyZW50U3Bhbikge1xuICAgICAgICBjdXJyZW50U3Bhbi5zZXRFcnJvcihzcGFuRXJyb3IpO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGNsb25lIHRoZSBjdXJyZW50IGNvbnRleHQgYnkgY3JlYXRpbmcgbmV3IGluc3RhbmNlcyBvZiB0aGUgdHJhY2UsIHNwYW4sIGFuZFxuICogcHJldmlvdXMgc3Bhbi5cbiAqXG4gKiBAcGFyYW0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIGNsb25lLlxuICogQHJldHVybnMgQSBjbG9uZSBvZiB0aGUgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lQ3VycmVudENvbnRleHQoY29udGV4dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRyYWNlOiBjb250ZXh0LnRyYWNlPy5jbG9uZSgpLFxuICAgICAgICBzcGFuOiBjb250ZXh0LnNwYW4/LmNsb25lKCksXG4gICAgICAgIHByZXZpb3VzU3BhbjogY29udGV4dC5wcmV2aW91c1NwYW4/LmNsb25lKCksXG4gICAgfTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIHJ1biB0aGUgZ2l2ZW4gZnVuY3Rpb24gd2l0aCBhIG5ldyBzcGFuIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHJ1biB3aXRoIHRoZSBuZXcgc3BhbiBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aE5ld1NwYW5Db250ZXh0KGZuKSB7XG4gICAgY29uc3QgY3VycmVudENvbnRleHQgPSBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5nZXRTdG9yZSgpO1xuICAgIGlmICghY3VycmVudENvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBleGlzdGluZyB0cmFjZSBmb3VuZCcpO1xuICAgIH1cbiAgICBjb25zdCBjb3B5T2ZDb250ZXh0ID0gY2xvbmVDdXJyZW50Q29udGV4dChjdXJyZW50Q29udGV4dCk7XG4gICAgcmV0dXJuIGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLnJ1bihjb3B5T2ZDb250ZXh0LCBmbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250ZXh0Lm1qcy5tYXAiLCJpbXBvcnQgbG9nZ2VyIGZyb20gXCIuLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyB0aW1lciBhcyBfdGltZXIsIGlzVHJhY2luZ0xvb3BSdW5uaW5nQnlEZWZhdWx0LCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmltcG9ydCB7IHRyYWNpbmcgfSBmcm9tIFwiLi4vY29uZmlnLm1qc1wiO1xuLyoqXG4gKiBQcmludHMgdGhlIHRyYWNlcyBhbmQgc3BhbnMgdG8gdGhlIGNvbnNvbGVcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnNvbGVTcGFuRXhwb3J0ZXIge1xuICAgIGFzeW5jIGV4cG9ydChpdGVtcykge1xuICAgICAgICBpZiAodHJhY2luZy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdUcmFjaW5nIGlzIGRpc2FibGVkLiBTa2lwcGluZyBleHBvcnQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0cmFjZScpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0V4cG9ydGVyXSBFeHBvcnQgdHJhY2UgdHJhY2VJZD0ke2l0ZW0udHJhY2VJZH0gbmFtZT0ke2l0ZW0ubmFtZX0ke2l0ZW0uZ3JvdXBJZCA/IGAgZ3JvdXBJZD0ke2l0ZW0uZ3JvdXBJZH1gIDogJyd9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0V4cG9ydGVyXSBFeHBvcnQgc3BhbjogJHtKU09OLnN0cmluZ2lmeShpdGVtKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXRjaFRyYWNlUHJvY2Vzc29yIHtcbiAgICAjbWF4UXVldWVTaXplO1xuICAgICNtYXhCYXRjaFNpemU7XG4gICAgI3NjaGVkdWxlRGVsYXk7XG4gICAgI2V4cG9ydFRyaWdnZXJTaXplO1xuICAgICNleHBvcnRlcjtcbiAgICAjYnVmZmVyID0gW107XG4gICAgI3RpbWVyO1xuICAgICN0aW1lb3V0ID0gbnVsbDtcbiAgICAjZXhwb3J0SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICN0aW1lb3V0QWJvcnRDb250cm9sbGVyID0gbnVsbDtcbiAgICBjb25zdHJ1Y3RvcihleHBvcnRlciwgeyBtYXhRdWV1ZVNpemUgPSAxMDAwLCBtYXhCYXRjaFNpemUgPSAxMDAsIHNjaGVkdWxlRGVsYXkgPSA1MDAwLCAvLyA1IHNlY29uZHNcbiAgICBleHBvcnRUcmlnZ2VyUmF0aW8gPSAwLjgsIH0gPSB7fSkge1xuICAgICAgICB0aGlzLiNtYXhRdWV1ZVNpemUgPSBtYXhRdWV1ZVNpemU7XG4gICAgICAgIHRoaXMuI21heEJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgdGhpcy4jc2NoZWR1bGVEZWxheSA9IHNjaGVkdWxlRGVsYXk7XG4gICAgICAgIHRoaXMuI2V4cG9ydFRyaWdnZXJTaXplID0gbWF4UXVldWVTaXplICogZXhwb3J0VHJpZ2dlclJhdGlvO1xuICAgICAgICB0aGlzLiNleHBvcnRlciA9IGV4cG9ydGVyO1xuICAgICAgICB0aGlzLiN0aW1lciA9IF90aW1lcjtcbiAgICAgICAgaWYgKGlzVHJhY2luZ0xvb3BSdW5uaW5nQnlEZWZhdWx0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnQXV0b21hdGljIHRyYWNlIGV4cG9ydCBsb29wIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC4gWW91IG5lZWQgdG8gbWFudWFsbHkgY2FsbCBgZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmZvcmNlRmx1c2goKWAgdG8gZXhwb3J0IHRyYWNlcy4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy4jdGltZW91dEFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgdGhpcy4jcnVuRXhwb3J0TG9vcCgpO1xuICAgIH1cbiAgICBhc3luYyAjc2FmZUFkZEl0ZW0oaXRlbSkge1xuICAgICAgICBpZiAodGhpcy4jYnVmZmVyLmxlbmd0aCArIDEgPiB0aGlzLiNtYXhRdWV1ZVNpemUpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRHJvcHBpbmcgdHJhY2UgYmVjYXVzZSBidWZmZXIgaXMgZnVsbCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0aGUgaXRlbSB0byB0aGUgYnVmZmVyXG4gICAgICAgIHRoaXMuI2J1ZmZlci5wdXNoKGl0ZW0pO1xuICAgICAgICBpZiAodGhpcy4jYnVmZmVyLmxlbmd0aCA+IHRoaXMuI2V4cG9ydFRyaWdnZXJTaXplKSB7XG4gICAgICAgICAgICAvLyBzdGFydCBleHBvcnRpbmcgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2V4cG9ydEJhdGNoZXMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjcnVuRXhwb3J0TG9vcCgpIHtcbiAgICAgICAgdGhpcy4jdGltZW91dCA9IHRoaXMuI3RpbWVyLnNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gc2NoZWR1bGVkIGV4cG9ydFxuICAgICAgICAgICAgYXdhaXQgdGhpcy4jZXhwb3J0QmF0Y2hlcygpO1xuICAgICAgICAgICAgdGhpcy4jcnVuRXhwb3J0TG9vcCgpO1xuICAgICAgICB9LCB0aGlzLiNzY2hlZHVsZURlbGF5KTtcbiAgICAgICAgLy8gV2Ugc2V0IHRoaXMgc28gdGhhdCBOb2RlIG5vIGxvbmdlciBjb25zaWRlcnMgdGhpcyBwYXJ0IG9mIHRoZSBldmVudCBsb29wIGFuZCBrZWVwcyB0aGVcbiAgICAgICAgLy8gcHJvY2VzcyBhbGl2ZSB1bnRpbCB0aGUgdGltZXIgaXMgZG9uZS5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLiN0aW1lb3V0LnVucmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLiN0aW1lb3V0LnVucmVmKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgI2V4cG9ydEJhdGNoZXMoZm9yY2UgPSBmYWxzZSkge1xuICAgICAgICBpZiAodGhpcy4jYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgRXhwb3J0aW5nIGJhdGNoZXMuIEZvcmNlOiAke2ZvcmNlfS4gQnVmZmVyIHNpemU6ICR7dGhpcy4jYnVmZmVyLmxlbmd0aH1gKTtcbiAgICAgICAgaWYgKGZvcmNlIHx8IHRoaXMuI2J1ZmZlci5sZW5ndGggPCB0aGlzLiNtYXhCYXRjaFNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvRXhwb3J0ID0gWy4uLnRoaXMuI2J1ZmZlcl07XG4gICAgICAgICAgICB0aGlzLiNidWZmZXIgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuI2V4cG9ydEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jZXhwb3J0ZXIuZXhwb3J0KHRvRXhwb3J0KTtcbiAgICAgICAgICAgIHRoaXMuI2V4cG9ydEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLiNidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLiNidWZmZXIuc3BsaWNlKDAsIHRoaXMuI21heEJhdGNoU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLiNleHBvcnRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2V4cG9ydGVyLmV4cG9ydChiYXRjaCk7XG4gICAgICAgICAgICB0aGlzLiNleHBvcnRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb25UcmFjZVN0YXJ0KHRyYWNlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuI3NhZmVBZGRJdGVtKHRyYWNlKTtcbiAgICB9XG4gICAgYXN5bmMgb25UcmFjZUVuZChfdHJhY2UpIHtcbiAgICAgICAgLy8gV2UgZG9uJ3Qgc2VuZCB0cmFjZXMgb24gZW5kIGJlY2F1c2Ugd2UgYWxyZWFkeSBzZW5kIHRoZW0gb24gc3RhcnRcbiAgICB9XG4gICAgYXN5bmMgb25TcGFuU3RhcnQoX3NwYW4pIHtcbiAgICAgICAgLy8gV2UgZG9uJ3Qgc2VuZCBzcGFucyBvbiBzdGFydCBiZWNhdXNlIHdlIHNlbmQgdGhlbSBhdCB0aGUgZW5kXG4gICAgfVxuICAgIGFzeW5jIG9uU3BhbkVuZChzcGFuKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuI3NhZmVBZGRJdGVtKHNwYW4pO1xuICAgIH1cbiAgICBhc3luYyBzaHV0ZG93bih0aW1lb3V0KSB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLiN0aW1lci5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSBzaHV0ZG93biB0aGUgSFRUUCByZXF1ZXN0XG4gICAgICAgICAgICAgICAgdGhpcy4jdGltZW91dEFib3J0Q29udHJvbGxlcj8uYWJvcnQoKTtcbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnU2h1dHRpbmcgZG93biBncmFjZWZ1bGx5Jyk7XG4gICAgICAgIHdoaWxlICh0aGlzLiNidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBXYWl0aW5nIGZvciBidWZmZXIgdG8gZW1wdHkuIEl0ZW1zIGxlZnQ6ICR7dGhpcy4jYnVmZmVyLmxlbmd0aH1gKTtcbiAgICAgICAgICAgIGlmICghdGhpcy4jZXhwb3J0SW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIC8vIG5vIGN1cnJlbnQgZXhwb3J0IGluIHByb2dyZXNzLiBGb3JjaW5nIGFsbCBpdGVtcyB0byBiZSBleHBvcnRlZFxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI2V4cG9ydEJhdGNoZXModHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy4jdGltZW91dEFib3J0Q29udHJvbGxlcj8uc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1RpbWVvdXQgcmVhY2hlZCwgZm9yY2UgZmx1c2hpbmcnKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRCYXRjaGVzKHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXNpbmcgc2V0VGltZW91dCB0byBhZGQgdG8gdGhlIGV2ZW50IGxvb3AgYW5kIGtlZXAgdGhpcyBhbGl2ZSB1bnRpbCBkb25lXG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gdGhpcy4jdGltZXIuc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZGVidWcoJ0J1ZmZlciBlbXB0eS4gRXhpdGluZycpO1xuICAgICAgICBpZiAodGhpcy4jdGltZXIgJiYgdGhpcy4jdGltZW91dCkge1xuICAgICAgICAgICAgLy8gbWFraW5nIHN1cmUgdGhlcmUgYXJlIG5vIG1vcmUgcmVxdWVzdHNcbiAgICAgICAgICAgIHRoaXMuI3RpbWVyLmNsZWFyVGltZW91dCh0aGlzLiN0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmb3JjZUZsdXNoKCkge1xuICAgICAgICBpZiAodGhpcy4jYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2V4cG9ydEJhdGNoZXModHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTXVsdGlUcmFjaW5nUHJvY2Vzc29yIHtcbiAgICAjcHJvY2Vzc29ycyA9IFtdO1xuICAgIHN0YXJ0KCkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzc29yLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc29yLnN0YXJ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkVHJhY2VQcm9jZXNzb3IocHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuI3Byb2Nlc3NvcnMucHVzaChwcm9jZXNzb3IpO1xuICAgIH1cbiAgICBzZXRQcm9jZXNzb3JzKHByb2Nlc3NvcnMpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdTaHV0dGluZyBkb3duIG9sZCBwcm9jZXNzb3JzJyk7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIHByb2Nlc3Nvci5zaHV0ZG93bigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3Byb2Nlc3NvcnMgPSBwcm9jZXNzb3JzO1xuICAgIH1cbiAgICBhc3luYyBvblRyYWNlU3RhcnQodHJhY2UpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc29yLm9uVHJhY2VTdGFydCh0cmFjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb25UcmFjZUVuZCh0cmFjZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzb3Iub25UcmFjZUVuZCh0cmFjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb25TcGFuU3RhcnQoc3Bhbikge1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzb3Iub25TcGFuU3RhcnQoc3Bhbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb25TcGFuRW5kKHNwYW4pIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc29yLm9uU3BhbkVuZChzcGFuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBzaHV0ZG93bih0aW1lb3V0KSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3Nvci5zaHV0ZG93bih0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmb3JjZUZsdXNoKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzb3IuZm9yY2VGbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxufVxubGV0IF9kZWZhdWx0RXhwb3J0ZXIgPSBudWxsO1xubGV0IF9kZWZhdWx0UHJvY2Vzc29yID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0RXhwb3J0ZXIoKSB7XG4gICAgaWYgKCFfZGVmYXVsdEV4cG9ydGVyKSB7XG4gICAgICAgIF9kZWZhdWx0RXhwb3J0ZXIgPSBuZXcgQ29uc29sZVNwYW5FeHBvcnRlcigpO1xuICAgIH1cbiAgICByZXR1cm4gX2RlZmF1bHRFeHBvcnRlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UHJvY2Vzc29yKCkge1xuICAgIGlmICghX2RlZmF1bHRQcm9jZXNzb3IpIHtcbiAgICAgICAgX2RlZmF1bHRQcm9jZXNzb3IgPSBuZXcgQmF0Y2hUcmFjZVByb2Nlc3NvcihkZWZhdWx0RXhwb3J0ZXIoKSk7XG4gICAgfVxuICAgIHJldHVybiBfZGVmYXVsdFByb2Nlc3Nvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2Nlc3Nvci5tanMubWFwIiwiaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbi8qKlxuICogR2VuZXJhdGUgYW4gSVNPIDg2MDEgdGltZXN0YW1wIG9mIHRoZSBjdXJyZW50IHRpbWUuXG4gKiBAcmV0dXJucyBBbiBJU08gODYwMSB0aW1lc3RhbXAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lSXNvKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG59XG4vKipcbiAqIEdlbmVyYXRlIGEgdHJhY2UgSUQgYnkgY3JlYXRpbmcgYSByYW5kb20gVVVJRCB2NCBhbmQgcmVtb3ZpbmcgdGhlIGRhc2hlcy4gVGhpcyBpcyB0aGUgZXF1aXZhbGVudFxuICogb2YgYHV1aWQ0KCkuaGV4YCBpbiBQeXRob24gYW5kIHByZWZpeGluZyBpdCB3aXRoIGB0cmFjZV9gLlxuICogQHJldHVybnMgQSB0cmFjZSBJRC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVHJhY2VJZCgpIHtcbiAgICByZXR1cm4gYHRyYWNlXyR7cmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZywgJycpfWA7XG59XG4vKipcbiAqIEdlbmVyYXRlIGEgc3BhbiBJRCBieSBjcmVhdGluZyBhIHJhbmRvbSBVVUlEIHY0IGFuZCByZW1vdmluZyB0aGUgZGFzaGVzLiBUaGlzIGlzIHRoZSBlcXVpdmFsZW50XG4gKiBvZiBgdXVpZDQoKS5oZXhgIGluIFB5dGhvbiBhbmQgcHJlZml4aW5nIGl0IHdpdGggYHNwYW5fYC5cbiAqIEByZXR1cm5zIEEgc3BhbiBJRC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlU3BhbklkKCkge1xuICAgIHJldHVybiBgc3Bhbl8ke3JhbmRvbVVVSUQoKS5yZXBsYWNlKC8tL2csICcnKS5zbGljZSgwLCAyNCl9YDtcbn1cbi8qKlxuICogR2VuZXJhdGUgYSBncm91cCBJRCBieSBjcmVhdGluZyBhIHJhbmRvbSBVVUlEIHY0IGFuZCByZW1vdmluZyB0aGUgZGFzaGVzLiBUaGlzIGlzIHRoZSBlcXVpdmFsZW50XG4gKiBvZiBgdXVpZDQoKS5oZXhgIGluIFB5dGhvbiBhbmQgcHJlZml4aW5nIGl0IHdpdGggYGdyb3VwX2AuXG4gKiBAcmV0dXJucyBBIGdyb3VwIElELlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVHcm91cElkKCkge1xuICAgIHJldHVybiBgZ3JvdXBfJHtyYW5kb21VVUlEKCkucmVwbGFjZSgvLS9nLCAnJykuc2xpY2UoMCwgMjQpfWA7XG59XG4vKipcbiAqIFJlbW92ZSBmaWVsZHMgdGhhdCBzdGFydCB3aXRoIGFuIHVuZGVyc2NvcmUgZnJvbSBhbiBvYmplY3QuXG4gKiBAcGFyYW0gb2JqIC0gVGhlIG9iamVjdCB0byByZW1vdmUgcHJpdmF0ZSBmaWVsZHMgZnJvbS5cbiAqIEByZXR1cm5zIEEgbmV3IG9iamVjdCB3aXRoIHByaXZhdGUgZmllbGRzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVQcml2YXRlRmllbGRzKG9iaikge1xuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMob2JqKS5maWx0ZXIoKFtrZXldKSA9PiAha2V5LnN0YXJ0c1dpdGgoJ18nKSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMubWpzLm1hcCIsImltcG9ydCBsb2dnZXIgZnJvbSBcIi4uL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IGdlbmVyYXRlU3BhbklkLCByZW1vdmVQcml2YXRlRmllbGRzLCB0aW1lSXNvIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5leHBvcnQgY2xhc3MgU3BhbiB7XG4gICAgdHlwZSA9ICd0cmFjZS5zcGFuJztcbiAgICAjZGF0YTtcbiAgICAjdHJhY2VJZDtcbiAgICAjc3BhbklkO1xuICAgICNwYXJlbnRJZDtcbiAgICAjcHJvY2Vzc29yO1xuICAgICNzdGFydGVkQXQ7XG4gICAgI2VuZGVkQXQ7XG4gICAgI2Vycm9yO1xuICAgICNwcmV2aW91c1NwYW47XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgcHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuI3RyYWNlSWQgPSBvcHRpb25zLnRyYWNlSWQ7XG4gICAgICAgIHRoaXMuI3NwYW5JZCA9IG9wdGlvbnMuc3BhbklkID8/IGdlbmVyYXRlU3BhbklkKCk7XG4gICAgICAgIHRoaXMuI2RhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgICAgIHRoaXMuI3Byb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgdGhpcy4jcGFyZW50SWQgPSBvcHRpb25zLnBhcmVudElkID8/IG51bGw7XG4gICAgICAgIHRoaXMuI2Vycm9yID0gb3B0aW9ucy5lcnJvciA/PyBudWxsO1xuICAgICAgICB0aGlzLiNzdGFydGVkQXQgPSBvcHRpb25zLnN0YXJ0ZWRBdCA/PyBudWxsO1xuICAgICAgICB0aGlzLiNlbmRlZEF0ID0gb3B0aW9ucy5lbmRlZEF0ID8/IG51bGw7XG4gICAgfVxuICAgIGdldCB0cmFjZUlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jdHJhY2VJZDtcbiAgICB9XG4gICAgZ2V0IHNwYW5EYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jZGF0YTtcbiAgICB9XG4gICAgZ2V0IHNwYW5JZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3NwYW5JZDtcbiAgICB9XG4gICAgZ2V0IHBhcmVudElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcGFyZW50SWQ7XG4gICAgfVxuICAgIGdldCBwcmV2aW91c1NwYW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNwcmV2aW91c1NwYW47XG4gICAgfVxuICAgIHNldCBwcmV2aW91c1NwYW4oc3Bhbikge1xuICAgICAgICB0aGlzLiNwcmV2aW91c1NwYW4gPSBzcGFuO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXJ0ZWRBdCkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1NwYW4gYWxyZWFkeSBzdGFydGVkJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhcnRlZEF0ID0gdGltZUlzbygpO1xuICAgICAgICB0aGlzLiNwcm9jZXNzb3Iub25TcGFuU3RhcnQodGhpcyk7XG4gICAgfVxuICAgIGVuZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI2VuZGVkQXQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnU3BhbiBhbHJlYWR5IGZpbmlzaGVkJywgdGhpcy5zcGFuRGF0YSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jZW5kZWRBdCA9IHRpbWVJc28oKTtcbiAgICAgICAgdGhpcy4jcHJvY2Vzc29yLm9uU3BhbkVuZCh0aGlzKTtcbiAgICB9XG4gICAgc2V0RXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdGhpcy4jZXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gICAgZ2V0IGVycm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jZXJyb3I7XG4gICAgfVxuICAgIGdldCBzdGFydGVkQXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdGFydGVkQXQ7XG4gICAgfVxuICAgIGdldCBlbmRlZEF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jZW5kZWRBdDtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IHNwYW4gPSBuZXcgU3Bhbih7XG4gICAgICAgICAgICB0cmFjZUlkOiB0aGlzLnRyYWNlSWQsXG4gICAgICAgICAgICBzcGFuSWQ6IHRoaXMuc3BhbklkLFxuICAgICAgICAgICAgcGFyZW50SWQ6IHRoaXMucGFyZW50SWQgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5zcGFuRGF0YSxcbiAgICAgICAgICAgIHN0YXJ0ZWRBdDogdGhpcy4jc3RhcnRlZEF0ID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuZGVkQXQ6IHRoaXMuI2VuZGVkQXQgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgZXJyb3I6IHRoaXMuI2Vycm9yID8/IHVuZGVmaW5lZCxcbiAgICAgICAgfSwgdGhpcy4jcHJvY2Vzc29yKTtcbiAgICAgICAgc3Bhbi5wcmV2aW91c1NwYW4gPSB0aGlzLnByZXZpb3VzU3Bhbj8uY2xvbmUoKTtcbiAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9iamVjdDogdGhpcy50eXBlLFxuICAgICAgICAgICAgaWQ6IHRoaXMuc3BhbklkLFxuICAgICAgICAgICAgdHJhY2VfaWQ6IHRoaXMudHJhY2VJZCxcbiAgICAgICAgICAgIHBhcmVudF9pZDogdGhpcy5wYXJlbnRJZCxcbiAgICAgICAgICAgIHN0YXJ0ZWRfYXQ6IHRoaXMuc3RhcnRlZEF0LFxuICAgICAgICAgICAgZW5kZWRfYXQ6IHRoaXMuZW5kZWRBdCxcbiAgICAgICAgICAgIHNwYW5fZGF0YTogcmVtb3ZlUHJpdmF0ZUZpZWxkcyh0aGlzLnNwYW5EYXRhKSxcbiAgICAgICAgICAgIGVycm9yOiB0aGlzLmVycm9yLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb29wU3BhbiBleHRlbmRzIFNwYW4ge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHByb2Nlc3Nvcikge1xuICAgICAgICBzdXBlcih7IHRyYWNlSWQ6ICduby1vcCcsIHNwYW5JZDogJ25vLW9wJywgZGF0YSB9LCBwcm9jZXNzb3IpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbmQoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0RXJyb3IoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcGFucy5tanMubWFwIiwiaW1wb3J0IHsgZGVmYXVsdFByb2Nlc3NvciB9IGZyb20gXCIuL3Byb2Nlc3Nvci5tanNcIjtcbmltcG9ydCB7IGdlbmVyYXRlVHJhY2VJZCB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFRyYWNlIHtcbiAgICB0eXBlID0gJ3RyYWNlJztcbiAgICB0cmFjZUlkO1xuICAgIG5hbWU7XG4gICAgZ3JvdXBJZCA9IG51bGw7XG4gICAgbWV0YWRhdGE7XG4gICAgI3Byb2Nlc3NvcjtcbiAgICAjc3RhcnRlZDtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBwcm9jZXNzb3IpIHtcbiAgICAgICAgdGhpcy50cmFjZUlkID0gb3B0aW9ucy50cmFjZUlkID8/IGdlbmVyYXRlVHJhY2VJZCgpO1xuICAgICAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWUgPz8gJ0FnZW50IHdvcmtmbG93JztcbiAgICAgICAgdGhpcy5ncm91cElkID0gb3B0aW9ucy5ncm91cElkID8/IG51bGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhID8/IHt9O1xuICAgICAgICB0aGlzLiNwcm9jZXNzb3IgPSBwcm9jZXNzb3IgPz8gZGVmYXVsdFByb2Nlc3NvcigpO1xuICAgICAgICB0aGlzLiNzdGFydGVkID0gb3B0aW9ucy5zdGFydGVkID8/IGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgdGhpcy4jcHJvY2Vzc29yLm9uVHJhY2VTdGFydCh0aGlzKTtcbiAgICB9XG4gICAgYXN5bmMgZW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuI3N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGF3YWl0IHRoaXMuI3Byb2Nlc3Nvci5vblRyYWNlRW5kKHRoaXMpO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFjZSh7XG4gICAgICAgICAgICB0cmFjZUlkOiB0aGlzLnRyYWNlSWQsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBncm91cElkOiB0aGlzLmdyb3VwSWQgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHRoaXMubWV0YWRhdGEsXG4gICAgICAgICAgICBzdGFydGVkOiB0aGlzLiNzdGFydGVkLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2JqZWN0OiB0aGlzLnR5cGUsXG4gICAgICAgICAgICBpZDogdGhpcy50cmFjZUlkLFxuICAgICAgICAgICAgd29ya2Zsb3dfbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgZ3JvdXBfaWQ6IHRoaXMuZ3JvdXBJZCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB0aGlzLm1ldGFkYXRhLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb29wVHJhY2UgZXh0ZW5kcyBUcmFjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKHt9KTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXN5bmMgZW5kKCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2VzLm1qcy5tYXAiLCJpbXBvcnQgeyBnZXRDdXJyZW50U3BhbiwgZ2V0Q3VycmVudFRyYWNlIH0gZnJvbSBcIi4vY29udGV4dC5tanNcIjtcbmltcG9ydCB7IHRyYWNpbmcgfSBmcm9tIFwiLi4vY29uZmlnLm1qc1wiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgTXVsdGlUcmFjaW5nUHJvY2Vzc29yIH0gZnJvbSBcIi4vcHJvY2Vzc29yLm1qc1wiO1xuaW1wb3J0IHsgTm9vcFNwYW4sIFNwYW4gfSBmcm9tIFwiLi9zcGFucy5tanNcIjtcbmltcG9ydCB7IE5vb3BUcmFjZSwgVHJhY2UgfSBmcm9tIFwiLi90cmFjZXMubWpzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVRyYWNlSWQgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmV4cG9ydCBjbGFzcyBUcmFjZVByb3ZpZGVyIHtcbiAgICAjbXVsdGlQcm9jZXNzb3I7XG4gICAgI2Rpc2FibGVkO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLiNtdWx0aVByb2Nlc3NvciA9IG5ldyBNdWx0aVRyYWNpbmdQcm9jZXNzb3IoKTtcbiAgICAgICAgdGhpcy4jZGlzYWJsZWQgPSB0cmFjaW5nLmRpc2FibGVkO1xuICAgICAgICB0aGlzLiNhZGRDbGVhbnVwTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHByb2Nlc3NvciB0byB0aGUgbGlzdCBvZiBwcm9jZXNzb3JzLiBFYWNoIHByb2Nlc3NvciB3aWxsIHJlY2VpdmUgYWxsIHRyYWNlcy9zcGFucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9jZXNzb3IgLSBUaGUgcHJvY2Vzc29yIHRvIGFkZC5cbiAgICAgKi9cbiAgICByZWdpc3RlclByb2Nlc3Nvcihwcm9jZXNzb3IpIHtcbiAgICAgICAgdGhpcy4jbXVsdGlQcm9jZXNzb3IuYWRkVHJhY2VQcm9jZXNzb3IocHJvY2Vzc29yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsaXN0IG9mIHByb2Nlc3NvcnMuIFRoaXMgd2lsbCByZXBsYWNlIGFueSBleGlzdGluZyBwcm9jZXNzb3JzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByb2Nlc3NvcnMgLSBUaGUgbGlzdCBvZiBwcm9jZXNzb3JzIHRvIHNldC5cbiAgICAgKi9cbiAgICBzZXRQcm9jZXNzb3JzKHByb2Nlc3NvcnMpIHtcbiAgICAgICAgdGhpcy4jbXVsdGlQcm9jZXNzb3Iuc2V0UHJvY2Vzc29ycyhwcm9jZXNzb3JzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHRyYWNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIGN1cnJlbnQgdHJhY2UuXG4gICAgICovXG4gICAgZ2V0Q3VycmVudFRyYWNlKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q3VycmVudFRyYWNlKCk7XG4gICAgfVxuICAgIGdldEN1cnJlbnRTcGFuKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q3VycmVudFNwYW4oKTtcbiAgICB9XG4gICAgc2V0RGlzYWJsZWQoZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy4jZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICB9XG4gICAgc3RhcnRFeHBvcnRMb29wKCkge1xuICAgICAgICB0aGlzLiNtdWx0aVByb2Nlc3Nvci5zdGFydCgpO1xuICAgIH1cbiAgICBjcmVhdGVUcmFjZSh0cmFjZU9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuI2Rpc2FibGVkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1RyYWNpbmcgaXMgZGlzYWJsZWQsIE5vdCBjcmVhdGluZyB0cmFjZSAlbycsIHRyYWNlT3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vb3BUcmFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYWNlSWQgPSB0cmFjZU9wdGlvbnMudHJhY2VJZCA/PyBnZW5lcmF0ZVRyYWNlSWQoKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRyYWNlT3B0aW9ucy5uYW1lID8/ICdBZ2VudCB3b3JrZmxvdyc7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnQ3JlYXRpbmcgdHJhY2UgJXMgd2l0aCBuYW1lICVzJywgdHJhY2VJZCwgbmFtZSk7XG4gICAgICAgIHJldHVybiBuZXcgVHJhY2UoeyAuLi50cmFjZU9wdGlvbnMsIG5hbWUsIHRyYWNlSWQgfSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgIH1cbiAgICBjcmVhdGVTcGFuKHNwYW5PcHRpb25zLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuI2Rpc2FibGVkIHx8IHNwYW5PcHRpb25zLmRpc2FibGVkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1RyYWNpbmcgaXMgZGlzYWJsZWQsIE5vdCBjcmVhdGluZyBzcGFuICVvJywgc3Bhbk9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb29wU3BhbihzcGFuT3B0aW9ucy5kYXRhLCB0aGlzLiNtdWx0aVByb2Nlc3Nvcik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcmVudElkO1xuICAgICAgICBsZXQgdHJhY2VJZDtcbiAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUcmFjZSA9IGdldEN1cnJlbnRUcmFjZSgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNwYW4gPSBnZXRDdXJyZW50U3BhbigpO1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50VHJhY2UpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ05vIGFjdGl2ZSB0cmFjZS4gTWFrZSBzdXJlIHRvIHN0YXJ0IGEgdHJhY2Ugd2l0aCBgd2l0aFRyYWNlKClgIGZpcnN0LiBSZXR1cm5pbmcgTm9vcFNwYW4uJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBOb29wU3BhbihzcGFuT3B0aW9ucy5kYXRhLCB0aGlzLiNtdWx0aVByb2Nlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudFNwYW4gaW5zdGFuY2VvZiBOb29wU3BhbiB8fFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUcmFjZSBpbnN0YW5jZW9mIE5vb3BUcmFjZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgUGFyZW50ICR7Y3VycmVudFNwYW59IG9yICR7Y3VycmVudFRyYWNlfSBpcyBuby1vcCwgcmV0dXJuaW5nIE5vb3BTcGFuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBOb29wU3BhbihzcGFuT3B0aW9ucy5kYXRhLCB0aGlzLiNtdWx0aVByb2Nlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFjZUlkID0gY3VycmVudFRyYWNlLnRyYWNlSWQ7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNwYW4pIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1VzaW5nIHBhcmVudCBzcGFuICVzJywgY3VycmVudFNwYW4uc3BhbklkKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRJZCA9IGN1cnJlbnRTcGFuLnNwYW5JZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnTm8gcGFyZW50IHNwYW4sIHVzaW5nIGN1cnJlbnQgdHJhY2UgJXMnLCBjdXJyZW50VHJhY2UudHJhY2VJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgVHJhY2UpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBOb29wVHJhY2UpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1BhcmVudCB0cmFjZSBpcyBuby1vcCwgcmV0dXJuaW5nIE5vb3BTcGFuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBOb29wU3BhbihzcGFuT3B0aW9ucy5kYXRhLCB0aGlzLiNtdWx0aVByb2Nlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFjZUlkID0gcGFyZW50LnRyYWNlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyZW50IGluc3RhbmNlb2YgU3Bhbikge1xuICAgICAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIE5vb3BTcGFuKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdQYXJlbnQgc3BhbiBpcyBuby1vcCwgcmV0dXJuaW5nIE5vb3BTcGFuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBOb29wU3BhbihzcGFuT3B0aW9ucy5kYXRhLCB0aGlzLiNtdWx0aVByb2Nlc3Nvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnRJZCA9IHBhcmVudC5zcGFuSWQ7XG4gICAgICAgICAgICB0cmFjZUlkID0gcGFyZW50LnRyYWNlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0cmFjZUlkKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ05vIHRyYWNlSWQgZm91bmQuIE1ha2Ugc3VyZSB0byBzdGFydCBhIHRyYWNlIHdpdGggYHdpdGhUcmFjZSgpYCBmaXJzdC4gUmV0dXJuaW5nIE5vb3BTcGFuLicpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb29wU3BhbihzcGFuT3B0aW9ucy5kYXRhLCB0aGlzLiNtdWx0aVByb2Nlc3Nvcik7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBzcGFuICR7SlNPTi5zdHJpbmdpZnkoc3Bhbk9wdGlvbnMuZGF0YSl9IHdpdGggaWQgJHtzcGFuT3B0aW9ucy5zcGFuSWQgPz8gdHJhY2VJZH1gKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTcGFuKHtcbiAgICAgICAgICAgIC4uLnNwYW5PcHRpb25zLFxuICAgICAgICAgICAgdHJhY2VJZCxcbiAgICAgICAgICAgIHBhcmVudElkLFxuICAgICAgICB9LCB0aGlzLiNtdWx0aVByb2Nlc3Nvcik7XG4gICAgfVxuICAgIGFzeW5jIHNodXRkb3duKHRpbWVvdXQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnU2h1dHRpbmcgZG93biB0cmFjaW5nIHByb3ZpZGVyJyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNtdWx0aVByb2Nlc3Nvci5zaHV0ZG93bih0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3Igc2h1dHRpbmcgZG93biB0cmFjaW5nIHByb3ZpZGVyICVvJywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBBZGRzIGxpc3RlbmVycyB0byBgcHJvY2Vzc2AgdG8gZW5zdXJlIGBzaHV0ZG93bmAgb2NjdXJzIGJlZm9yZSBleGl0LiAqL1xuICAgICNhZGRDbGVhbnVwTGlzdGVuZXJzKCkge1xuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBoYW5kbGluZyBOb2RlLmpzIHByb2Nlc3MgdGVybWluYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGNsZWFudXAgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NsZWFudXAgdGltZW91dCwgZm9yY2luZyBleGl0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgICAgICAgICB9LCA1MDAwKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNodXRkb3duKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBub3JtYWwgdGVybWluYXRpb25cbiAgICAgICAgICAgIHByb2Nlc3Mub24oJ2JlZm9yZUV4aXQnLCBjbGVhbnVwKTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBDVFJMK0MgKFNJR0lOVClcbiAgICAgICAgICAgIHByb2Nlc3Mub24oJ1NJR0lOVCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPdGhlckxpc3RlbmVyc0ZvclNpZ25hbHMoJ1NJR0lOVCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgd2hlbiB0aGVyZSBhcmUgbm8gb3RoZXIgbGlzdGVuZXJzLCBleGl0IHRoZSBwcm9jZXNzIG9uIHRoaXMgU0RLIHNpZGVcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDEzMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgdGVybWluYXRpb24gKFNJR1RFUk0pXG4gICAgICAgICAgICBwcm9jZXNzLm9uKCdTSUdURVJNJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc090aGVyTGlzdGVuZXJzRm9yU2lnbmFscygnU0lHVEVSTScpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgd2hlbiB0aGVyZSBhcmUgbm8gb3RoZXIgbGlzdGVuZXJzLCBleGl0IHRoZSBwcm9jZXNzIG9uIHRoaXMgU0RLIHNpZGVcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgYXN5bmMgKHJlYXNvbiwgcHJvbWlzZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcignVW5oYW5kbGVkIHJlamVjdGlvbicsIHJlYXNvbiwgcHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3RoZXJMaXN0ZW5lcnNGb3JFdmVudHMoJ3VuaGFuZGxlZFJlamVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgd2hlbiB0aGVyZSBhcmUgbm8gb3RoZXIgbGlzdGVuZXJzLCBleGl0IHRoZSBwcm9jZXNzIG9uIHRoaXMgU0RLIHNpZGVcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5leGl0KDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZvcmNlRmx1c2goKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuI211bHRpUHJvY2Vzc29yLmZvcmNlRmx1c2goKTtcbiAgICB9XG59XG5mdW5jdGlvbiBoYXNPdGhlckxpc3RlbmVyc0ZvclNpZ25hbHMoZXZlbnQpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aCA+IDE7XG59XG5mdW5jdGlvbiBoYXNPdGhlckxpc3RlbmVyc0ZvckV2ZW50cyhldmVudCkge1xuICAgIHJldHVybiBwcm9jZXNzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoID4gMTtcbn1cbmxldCBHTE9CQUxfVFJBQ0VfUFJPVklERVIgPSB1bmRlZmluZWQ7XG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpIHtcbiAgICBpZiAoIUdMT0JBTF9UUkFDRV9QUk9WSURFUikge1xuICAgICAgICBHTE9CQUxfVFJBQ0VfUFJPVklERVIgPSBuZXcgVHJhY2VQcm92aWRlcigpO1xuICAgIH1cbiAgICByZXR1cm4gR0xPQkFMX1RSQUNFX1BST1ZJREVSO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdmlkZXIubWpzLm1hcCIsImltcG9ydCB7IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlci5tanNcIjtcbmV4cG9ydCB7IGdldEN1cnJlbnRTcGFuLCBnZXRDdXJyZW50VHJhY2UsIGdldE9yQ3JlYXRlVHJhY2UsIHJlc2V0Q3VycmVudFNwYW4sIHNldEN1cnJlbnRTcGFuLCB3aXRoVHJhY2UsIH0gZnJvbSBcIi4vY29udGV4dC5tanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NyZWF0ZVNwYW5zLm1qc1wiO1xuZXhwb3J0IHsgQmF0Y2hUcmFjZVByb2Nlc3NvciwgQ29uc29sZVNwYW5FeHBvcnRlciwgfSBmcm9tIFwiLi9wcm9jZXNzb3IubWpzXCI7XG5leHBvcnQgeyBOb29wU3BhbiwgU3BhbiB9IGZyb20gXCIuL3NwYW5zLm1qc1wiO1xuZXhwb3J0IHsgTm9vcFRyYWNlLCBUcmFjZSB9IGZyb20gXCIuL3RyYWNlcy5tanNcIjtcbmV4cG9ydCB7IGdlbmVyYXRlR3JvdXBJZCwgZ2VuZXJhdGVTcGFuSWQsIGdlbmVyYXRlVHJhY2VJZCB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuLyoqXG4gKiBBZGQgYSBwcm9jZXNzb3IgdG8gdGhlIGxpc3Qgb2YgcHJvY2Vzc29ycy4gRWFjaCBwcm9jZXNzb3Igd2lsbCByZWNlaXZlIGFsbCB0cmFjZXMvc3BhbnMuXG4gKlxuICogQHBhcmFtIHByb2Nlc3NvciAtIFRoZSBwcm9jZXNzb3IgdG8gYWRkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkVHJhY2VQcm9jZXNzb3IocHJvY2Vzc29yKSB7XG4gICAgZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLnJlZ2lzdGVyUHJvY2Vzc29yKHByb2Nlc3Nvcik7XG59XG4vKipcbiAqIFNldCB0aGUgbGlzdCBvZiBwcm9jZXNzb3JzLiBUaGlzIHdpbGwgcmVwbGFjZSBhbnkgZXhpc3RpbmcgcHJvY2Vzc29ycy5cbiAqXG4gKiBAcGFyYW0gcHJvY2Vzc29ycyAtIFRoZSBsaXN0IG9mIHByb2Nlc3NvcnMgdG8gc2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VHJhY2VQcm9jZXNzb3JzKHByb2Nlc3NvcnMpIHtcbiAgICBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuc2V0UHJvY2Vzc29ycyhwcm9jZXNzb3JzKTtcbn1cbi8qKlxuICogU2V0IHRoZSBkaXNhYmxlZCBzdGF0ZSBvZiB0aGUgdHJhY2luZyBwcm92aWRlci5cbiAqXG4gKiBAcGFyYW0gZGlzYWJsZWQgLSBXaGV0aGVyIHRvIGRpc2FibGUgdHJhY2luZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRyYWNpbmdEaXNhYmxlZChkaXNhYmxlZCkge1xuICAgIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5zZXREaXNhYmxlZChkaXNhYmxlZCk7XG59XG4vKipcbiAqIFN0YXJ0IHRoZSB0cmFjZSBleHBvcnQgbG9vcC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VHJhY2VFeHBvcnRMb29wKCkge1xuICAgIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5zdGFydEV4cG9ydExvb3AoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiLCJpbXBvcnQgeyBhZGRUcmFjZVByb2Nlc3NvciB9IGZyb20gXCIuL3RyYWNpbmcvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0UHJvY2Vzc29yIH0gZnJvbSBcIi4vdHJhY2luZy9wcm9jZXNzb3IubWpzXCI7XG5leHBvcnQgeyBSdW50aW1lRXZlbnRFbWl0dGVyIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuZXhwb3J0IHsgQWdlbnQsIH0gZnJvbSBcIi4vYWdlbnQubWpzXCI7XG5leHBvcnQgeyBBZ2VudHNFcnJvciwgR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IsIElucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQsIE1heFR1cm5zRXhjZWVkZWRFcnJvciwgTW9kZWxCZWhhdmlvckVycm9yLCBPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCwgVG9vbENhbGxFcnJvciwgVXNlckVycm9yLCBTeXN0ZW1FcnJvciwgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5leHBvcnQgeyBSdW5BZ2VudFVwZGF0ZWRTdHJlYW1FdmVudCwgUnVuUmF3TW9kZWxTdHJlYW1FdmVudCwgUnVuSXRlbVN0cmVhbUV2ZW50LCB9IGZyb20gXCIuL2V2ZW50cy5tanNcIjtcbmV4cG9ydCB7IGRlZmluZU91dHB1dEd1YXJkcmFpbCwgfSBmcm9tIFwiLi9ndWFyZHJhaWwubWpzXCI7XG5leHBvcnQgeyBnZXRIYW5kb2ZmLCBnZXRUcmFuc2Zlck1lc3NhZ2UsIEhhbmRvZmYsIGhhbmRvZmYsIH0gZnJvbSBcIi4vaGFuZG9mZi5tanNcIjtcbmV4cG9ydCB7IGFzc2lzdGFudCwgc3lzdGVtLCB1c2VyIH0gZnJvbSBcIi4vaGVscGVycy9tZXNzYWdlLm1qc1wiO1xuZXhwb3J0IHsgZXh0cmFjdEFsbFRleHRPdXRwdXQsIFJ1bkhhbmRvZmZDYWxsSXRlbSwgUnVuSGFuZG9mZk91dHB1dEl0ZW0sIFJ1bk1lc3NhZ2VPdXRwdXRJdGVtLCBSdW5SZWFzb25pbmdJdGVtLCBSdW5Ub29sQXBwcm92YWxJdGVtLCBSdW5Ub29sQ2FsbEl0ZW0sIFJ1blRvb2xDYWxsT3V0cHV0SXRlbSwgfSBmcm9tIFwiLi9pdGVtcy5tanNcIjtcbmV4cG9ydCB7IEFnZW50SG9va3MgfSBmcm9tIFwiLi9saWZlY3ljbGUubWpzXCI7XG5leHBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5leHBvcnQgeyBnZXRBbGxNY3BUb29scywgaW52YWxpZGF0ZVNlcnZlclRvb2xzQ2FjaGUsIG1jcFRvRnVuY3Rpb25Ub29sLCBNQ1BTZXJ2ZXJTdGRpbywgTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAsIE1DUFNlcnZlclNTRSwgfSBmcm9tIFwiLi9tY3AubWpzXCI7XG5leHBvcnQgeyBjcmVhdGVNQ1BUb29sU3RhdGljRmlsdGVyLCB9IGZyb20gXCIuL21jcFV0aWwubWpzXCI7XG5leHBvcnQgeyBPUEVOQUlfREVGQVVMVF9NT0RFTF9FTlZfVkFSSUFCTEVfTkFNRSwgZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQsIGdldERlZmF1bHRNb2RlbCwgZ2V0RGVmYXVsdE1vZGVsU2V0dGluZ3MsIGlzR3B0NURlZmF1bHQsIH0gZnJvbSBcIi4vZGVmYXVsdE1vZGVsLm1qc1wiO1xuZXhwb3J0IHsgc2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIgfSBmcm9tIFwiLi9wcm92aWRlcnMubWpzXCI7XG5leHBvcnQgeyBSdW5SZXN1bHQsIFN0cmVhbWVkUnVuUmVzdWx0IH0gZnJvbSBcIi4vcmVzdWx0Lm1qc1wiO1xuZXhwb3J0IHsgcnVuLCBSdW5uZXIsIH0gZnJvbSBcIi4vcnVuLm1qc1wiO1xuZXhwb3J0IHsgUnVuQ29udGV4dCB9IGZyb20gXCIuL3J1bkNvbnRleHQubWpzXCI7XG5leHBvcnQgeyBSdW5TdGF0ZSB9IGZyb20gXCIuL3J1blN0YXRlLm1qc1wiO1xuZXhwb3J0IHsgY29tcHV0ZXJUb29sLCBob3N0ZWRNY3BUb29sLCB0b29sLCB9IGZyb20gXCIuL3Rvb2wubWpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi90cmFjaW5nL2luZGV4Lm1qc1wiO1xuZXhwb3J0IHsgZ2V0R2xvYmFsVHJhY2VQcm92aWRlciwgVHJhY2VQcm92aWRlciB9IGZyb20gXCIuL3RyYWNpbmcvcHJvdmlkZXIubWpzXCI7XG5leHBvcnQgeyBVc2FnZSB9IGZyb20gXCIuL3VzYWdlLm1qc1wiO1xuZXhwb3J0ICogYXMgcHJvdG9jb2wgZnJvbSBcIi4vdHlwZXMvcHJvdG9jb2wubWpzXCI7XG4vKipcbiAqIEFkZCB0aGUgZGVmYXVsdCBwcm9jZXNzb3IsIHdoaWNoIGV4cG9ydHMgdHJhY2VzIGFuZCBzcGFucyB0byB0aGUgYmFja2VuZCBpbiBiYXRjaGVzLiBZb3UgY2FuXG4gKiBjaGFuZ2UgdGhlIGRlZmF1bHQgYmVoYXZpb3IgYnkgZWl0aGVyOlxuICogMS4gY2FsbGluZyBhZGRUcmFjZVByb2Nlc3Nvciwgd2hpY2ggYWRkcyBhZGRpdGlvbmFsIHByb2Nlc3NvcnMsIG9yXG4gKiAyLiBjYWxsaW5nIHNldFRyYWNlUHJvY2Vzc29ycywgd2hpY2ggc2V0cyB0aGUgcHJvY2Vzc29ycyBhbmQgZGlzY2FyZHMgdGhlIGRlZmF1bHQgb25lXG4gKi9cbmFkZFRyYWNlUHJvY2Vzc29yKGRlZmF1bHRQcm9jZXNzb3IoKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwiaW1wb3J0IE1FVEFEQVRBIGZyb20gXCIuL21ldGFkYXRhLm1qc1wiO1xuaW1wb3J0IHsgUnVuVG9vbEFwcHJvdmFsSXRlbSB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuLyoqXG4gKiBDb252ZXJ0cyBhIGJhc2U2NCBzdHJpbmcgdG8gYW4gQXJyYXlCdWZmZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlNjRcbiAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFRvQXJyYXlCdWZmZXIoYmFzZTY0KSB7XG4gICAgY29uc3QgYmluYXJ5U3RyaW5nID0gYXRvYihiYXNlNjQpO1xuICAgIGNvbnN0IGxlbiA9IGJpbmFyeVN0cmluZy5sZW5ndGg7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzLmJ1ZmZlcjtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gQXJyYXlCdWZmZXIgdG8gYSBiYXNlNjQgc3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlclxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CYXNlNjQoYXJyYXlCdWZmZXIpIHtcbiAgICBjb25zdCBiaW5hcnlTdHJpbmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLm5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgcmV0dXJuIGJ0b2EoYmluYXJ5U3RyaW5nKTtcbn1cbi8qKlxuICogR2V0IHRoZSBsYXN0IHRleHQgZnJvbSBhbiBhdWRpbyBvdXRwdXQgbWVzc2FnZVxuICogQHBhcmFtIGl0ZW1cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXN0VGV4dEZyb21BdWRpb091dHB1dE1lc3NhZ2UoaXRlbSkge1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgaXRlbSA9PT0gbnVsbCB8fFxuICAgICAgICB0eXBlb2YgaXRlbSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgISgndHlwZScgaW4gaXRlbSkgfHxcbiAgICAgICAgdHlwZW9mIGl0ZW0udHlwZSAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgIWl0ZW0udHlwZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoaXRlbS50eXBlICE9PSAnbWVzc2FnZScpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCEoJ2NvbnRlbnQnIGluIGl0ZW0pIHx8XG4gICAgICAgICFBcnJheS5pc0FycmF5KGl0ZW0uY29udGVudCkgfHxcbiAgICAgICAgaXRlbS5jb250ZW50Lmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgbGFzdENvbnRlbnRJdGVtID0gaXRlbS5jb250ZW50W2l0ZW0uY29udGVudC5sZW5ndGggLSAxXTtcbiAgICBpZiAoISgndHlwZScgaW4gbGFzdENvbnRlbnRJdGVtKSB8fFxuICAgICAgICB0eXBlb2YgbGFzdENvbnRlbnRJdGVtLnR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChsYXN0Q29udGVudEl0ZW0udHlwZSA9PT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGxhc3RDb250ZW50SXRlbS50ZXh0ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBsYXN0Q29udGVudEl0ZW0udGV4dFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChsYXN0Q29udGVudEl0ZW0udHlwZSA9PT0gJ291dHB1dF9hdWRpbycpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBsYXN0Q29udGVudEl0ZW0udHJhbnNjcmlwdCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gbGFzdENvbnRlbnRJdGVtLnRyYW5zY3JpcHRcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBDb21wYXJlIHR3byBjb252ZXJzYXRpb24gaGlzdG9yaWVzIHRvIGRldGVybWluZSB0aGUgcmVtb3ZhbHMsIGFkZGl0aW9ucywgYW5kIHVwZGF0ZXMuXG4gKiBAcGFyYW0gb2xkSGlzdG9yeSAtIFRoZSBvbGQgaGlzdG9yeS5cbiAqIEBwYXJhbSBuZXdIaXN0b3J5IC0gVGhlIG5ldyBoaXN0b3J5LlxuICogQHJldHVybnMgQSBkaWZmIG9mIHRoZSB0d28gaGlzdG9yaWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZlJlYWx0aW1lSGlzdG9yeShvbGRIaXN0b3J5LCBuZXdIaXN0b3J5KSB7XG4gICAgY29uc3QgcmVtb3ZhbHMgPSBvbGRIaXN0b3J5LmZpbHRlcigoaXRlbSkgPT4gIW5ld0hpc3Rvcnkuc29tZSgobmV3SXRlbSkgPT4gbmV3SXRlbS5pdGVtSWQgPT09IGl0ZW0uaXRlbUlkKSk7XG4gICAgY29uc3QgYWRkaXRpb25zID0gbmV3SGlzdG9yeS5maWx0ZXIoKGl0ZW0pID0+ICFvbGRIaXN0b3J5LnNvbWUoKG9sZEl0ZW0pID0+IG9sZEl0ZW0uaXRlbUlkID09PSBpdGVtLml0ZW1JZCkpO1xuICAgIGNvbnN0IHVwZGF0ZXMgPSBuZXdIaXN0b3J5LmZpbHRlcigoaXRlbSkgPT4gb2xkSGlzdG9yeS5zb21lKChvbGRJdGVtKSA9PiBvbGRJdGVtLml0ZW1JZCA9PT0gaXRlbS5pdGVtSWQgJiZcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkob2xkSXRlbSkgIT09IEpTT04uc3RyaW5naWZ5KGl0ZW0pKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZhbHMsXG4gICAgICAgIGFkZGl0aW9ucyxcbiAgICAgICAgdXBkYXRlcyxcbiAgICB9O1xufVxuLyoqXG4gKiBDaGVjayBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBXZWJSVEMuXG4gKiBAcmV0dXJucyBUcnVlIGlmIFdlYlJUQyBpcyBzdXBwb3J0ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1dlYlJUQ1N1cHBvcnQoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3dbJ1JUQ1BlZXJDb25uZWN0aW9uJ10gIT09ICd1bmRlZmluZWQnO1xufVxuLyoqXG4gKiBSZW1vdmVzIHRoZSBhdWRpbyBkYXRhIGZyb20gYWxsIGNvbnRlbnQgaW4gYSBtZXNzYWdlIGJ5IHNldHRpbmcgaXQgdG8gbnVsbC5cbiAqIEBwYXJhbSBpdGVtXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQXVkaW9Gcm9tQ29udGVudChpdGVtKSB7XG4gICAgaWYgKGl0ZW0ucm9sZSA9PT0gJ3N5c3RlbScpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuICAgIGlmIChpdGVtLnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgY29udGVudDogaXRlbS5jb250ZW50Lm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ291dHB1dF9hdWRpbycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXRlbS5yb2xlID09PSAndXNlcicpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS50eXBlID09PSAnaW5wdXRfYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG59XG4vKipcbiAqIFVwZGF0ZXMgdGhlIHJlYWx0aW1lIGhpc3RvcnkgYXJyYXkgYmFzZWQgb24gdGhlIGluY29taW5nIGV2ZW50IGFuZCBvcHRpb25zLlxuICogQHBhcmFtIGhpc3RvcnkgLSBUaGUgY3VycmVudCBoaXN0b3J5IGFycmF5LlxuICogQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRvIHByb2Nlc3MgKFJlYWx0aW1lSXRlbSkuXG4gKiBAcGFyYW0gc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSAtIFdoZXRoZXIgdG8gaW5jbHVkZSBhdWRpbyBkYXRhIGluIG1lc3NhZ2UgaXRlbXMuXG4gKiBAcmV0dXJucyBUaGUgdXBkYXRlZCBoaXN0b3J5IGFycmF5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUmVhbHRpbWVIaXN0b3J5KGhpc3RvcnksIGV2ZW50LCBzaG91bGRJbmNsdWRlQXVkaW9EYXRhKSB7XG4gICAgLy8gTWVyZ2UgdHJhbnNjcmlwdCBpbnRvIHBsYWNlaG9sZGVyIGlucHV0X2F1ZGlvIG1lc3NhZ2VcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24uY29tcGxldGVkJykge1xuICAgICAgICByZXR1cm4gaGlzdG9yeS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLml0ZW1JZCA9PT0gZXZlbnQuaXRlbV9pZCAmJlxuICAgICAgICAgICAgICAgIGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnICYmXG4gICAgICAgICAgICAgICAgJ3JvbGUnIGluIGl0ZW0gJiZcbiAgICAgICAgICAgICAgICBpdGVtLnJvbGUgPT09ICd1c2VyJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDb250ZW50ID0gaXRlbS5jb250ZW50Lm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdpbnB1dF9hdWRpbycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdDogZXZlbnQudHJhbnNjcmlwdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHVwZGF0ZWRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG5ld0V2ZW50ID0gIXNob3VsZEluY2x1ZGVBdWRpb0RhdGEgJiYgZXZlbnQudHlwZSA9PT0gJ21lc3NhZ2UnXG4gICAgICAgID8gcmVtb3ZlQXVkaW9Gcm9tQ29udGVudChldmVudClcbiAgICAgICAgOiBldmVudDtcbiAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gaGlzdG9yeS5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkID09PSBldmVudC5pdGVtSWQpO1xuICAgIGlmIChleGlzdGluZ0luZGV4ICE9PSAtMSkge1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgaXRlbVxuICAgICAgICByZXR1cm4gaGlzdG9yeS5tYXAoKGl0ZW0sIGlkeCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gZXhpc3RpbmdJbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSAmJiBpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVBdWRpb0Zyb21Db250ZW50KGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudC5wcmV2aW91c0l0ZW1JZCkge1xuICAgICAgICAvLyBJbnNlcnQgYWZ0ZXIgcHJldmlvdXNJdGVtSWQgaWYgZm91bmQsIGVsc2UgYXQgZW5kXG4gICAgICAgIGNvbnN0IHByZXZJbmRleCA9IGhpc3RvcnkuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLml0ZW1JZCA9PT0gZXZlbnQucHJldmlvdXNJdGVtSWQpO1xuICAgICAgICBpZiAocHJldkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAuLi5oaXN0b3J5LnNsaWNlKDAsIHByZXZJbmRleCArIDEpLFxuICAgICAgICAgICAgICAgIG5ld0V2ZW50LFxuICAgICAgICAgICAgICAgIC4uLmhpc3Rvcnkuc2xpY2UocHJldkluZGV4ICsgMSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFsuLi5oaXN0b3J5LCBuZXdFdmVudF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbLi4uaGlzdG9yeSwgbmV3RXZlbnRdO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIGhlYWRlcnMgdG8gdXNlIGZvciB0aGUgUmVhbHRpbWUgQVBJLlxuICovXG5leHBvcnQgY29uc3QgSEVBREVSUyA9IHtcbiAgICAnVXNlci1BZ2VudCc6IGBBZ2VudHMvSmF2YVNjcmlwdCAke01FVEFEQVRBLnZlcnNpb259YCxcbiAgICAnWC1PcGVuQUktQWdlbnRzLVNESyc6IGBvcGVuYWktYWdlbnRzLXNkay4ke01FVEFEQVRBLnZlcnNpb259YCxcbn07XG4vKipcbiAqIEJyb3dzZXIgd2Vic29ja2V0IGhlYWRlclxuICovXG5leHBvcnQgY29uc3QgV0VCU09DS0VUX01FVEEgPSBgb3BlbmFpLWFnZW50cy1zZGsuJHtNRVRBREFUQS52ZXJzaW9ufWA7XG5leHBvcnQgZnVuY3Rpb24gcmVhbHRpbWVBcHByb3ZhbEl0ZW1Ub0FwcHJvdmFsSXRlbShhZ2VudCwgaXRlbSkge1xuICAgIGNvbnN0IHsgbmFtZSwgYXJndW1lbnRzOiBhcmdzLCAuLi5yZXN0IH0gPSBpdGVtO1xuICAgIHJldHVybiBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbSh7XG4gICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbF9jYWxsJyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYXJndW1lbnRzOiBKU09OLnN0cmluZ2lmeShhcmdzKSxcbiAgICAgICAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLFxuICAgICAgICBwcm92aWRlckRhdGE6IHtcbiAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgIH0sXG4gICAgfSwgYWdlbnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFwcHJvdmFsSXRlbVRvUmVhbHRpbWVBcHByb3ZhbEl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IHsgbmFtZSwgYXJndW1lbnRzOiBhcmdzLCBwcm92aWRlckRhdGEgfSA9IGl0ZW0ucmF3SXRlbTtcbiAgICBjb25zdCB7IGl0ZW1JZCwgc2VydmVyTGFiZWwsIC4uLnJlc3QgfSA9IHByb3ZpZGVyRGF0YSA/PyB7fTtcbiAgICBpZiAoIWl0ZW1JZCB8fCAhc2VydmVyTGFiZWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFwcHJvdmFsIGl0ZW0gZm9yIFJlYWx0aW1lIE1DUCBhcHByb3ZhbCByZXF1ZXN0Jyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdtY3BfYXBwcm92YWxfcmVxdWVzdCcsXG4gICAgICAgIGl0ZW1JZCxcbiAgICAgICAgc2VydmVyTGFiZWwsXG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFyZ3VtZW50czogYXJncyA/IEpTT04ucGFyc2UoYXJncykgOiB7fSxcbiAgICAgICAgYXBwcm92ZWQ6IG51bGwsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLm1qcy5tYXAiLCJpbXBvcnQgeyBBZ2VudCwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbi8qKlxuICogQSBzcGVjaWFsaXplZCBhZ2VudCBpbnN0YW5jZSB0aGF0IGlzIG1lYW50IHRvIGJlIHVzZWQgd2l0aGluIGEgYFJlYWx0aW1lU2Vzc2lvbmAgdG8gYnVpbGRcbiAqIHZvaWNlIGFnZW50cy4gRHVlIHRvIHRoZSBuYXR1cmUgb2YgdGhpcyBhZ2VudCwgc29tZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWRcbiAqIHRoYXQgYXJlIHN1cHBvcnRlZCBieSByZWd1bGFyIGBBZ2VudGAgaW5zdGFuY2VzLiBGb3IgZXhhbXBsZTpcbiAqIC0gYG1vZGVsYCBjaG9pY2UgaXMgbm90IHN1cHBvcnRlZCBhcyBhbGwgUmVhbHRpbWVBZ2VudHMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBzYW1lIG1vZGVsIHdpdGhpblxuICogICBhIGBSZWFsdGltZVNlc3Npb25gXG4gKiAtIGBtb2RlbFNldHRpbmdzYCBpcyBub3Qgc3VwcG9ydGVkIGFzIGFsbCBSZWFsdGltZUFnZW50cyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHNhbWUgbW9kZWwgd2l0aGluXG4gKiAgIGEgYFJlYWx0aW1lU2Vzc2lvbmBcbiAqIC0gYG91dHB1dFR5cGVgIGlzIG5vdCBzdXBwb3J0ZWQgYXMgUmVhbHRpbWVBZ2VudHMgZG8gbm90IHN1cHBvcnQgc3RydWN0dXJlZCBvdXRwdXRzXG4gKiAtIGB0b29sVXNlQmVoYXZpb3JgIGlzIG5vdCBzdXBwb3J0ZWQgYXMgYWxsIFJlYWx0aW1lQWdlbnRzIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgc2FtZSBtb2RlbCB3aXRoaW5cbiAqICAgYSBgUmVhbHRpbWVTZXNzaW9uYFxuICogLSBgdm9pY2VgIGNhbiBiZSBjb25maWd1cmVkIG9uIGFuIGBBZ2VudGAgbGV2ZWwgaG93ZXZlciBpdCBjYW5ub3QgYmUgY2hhbmdlZCBhZnRlciB0aGUgZmlyc3RcbiAqICAgIGFnZW50IHdpdGhpbiBhIGBSZWFsdGltZVNlc3Npb25gIHNwb2tlXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBjb25zdCBhZ2VudCA9IG5ldyBSZWFsdGltZUFnZW50KHtcbiAqICAgbmFtZTogJ215LWFnZW50JyxcbiAqICAgaW5zdHJ1Y3Rpb25zOiAnWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50IHRoYXQgY2FuIGFuc3dlciBxdWVzdGlvbnMgYW5kIGhlbHAgd2l0aCB0YXNrcy4nLFxuICogfSlcbiAqXG4gKiBjb25zdCBzZXNzaW9uID0gbmV3IFJlYWx0aW1lU2Vzc2lvbihhZ2VudCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFJlYWx0aW1lQWdlbnQgZXh0ZW5kcyBBZ2VudCB7XG4gICAgLyoqXG4gICAgICogVGhlIHZvaWNlIGludGVuZGVkIHRvIGJlIHVzZWQgYnkgdGhlIGFnZW50LiBJZiBhbm90aGVyIGFnZW50IGFscmVhZHkgc3Bva2UgZHVyaW5nIHRoZVxuICAgICAqIFJlYWx0aW1lU2Vzc2lvbiwgY2hhbmdpbmcgdGhlIHZvaWNlIGR1cmluZyBhIGhhbmRvZmYgd2lsbCBmYWlsLlxuICAgICAqL1xuICAgIHZvaWNlO1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgICAgICB0aGlzLnZvaWNlID0gY29uZmlnLnZvaWNlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWx0aW1lQWdlbnQubWpzLm1hcCIsImltcG9ydCB7IGRlZmluZU91dHB1dEd1YXJkcmFpbCwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWFsdGltZUd1YXJkcmFpbFNldHRpbmdzKHNldHRpbmdzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVib3VuY2VUZXh0TGVuZ3RoOiBzZXR0aW5ncy5kZWJvdW5jZVRleHRMZW5ndGggPz8gMTAwLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lUmVhbHRpbWVPdXRwdXRHdWFyZHJhaWwoeyBwb2xpY3lIaW50OiBwb2xpY3lIaW50SW5wdXQsIC4uLm9wdGlvbnMgfSkge1xuICAgIGNvbnN0IGJhc2VHdWFyZHJhaWwgPSBkZWZpbmVPdXRwdXRHdWFyZHJhaWwob3B0aW9ucyk7XG4gICAgY29uc3QgcG9saWN5SGludCA9IHBvbGljeUhpbnRJbnB1dCA/PyBiYXNlR3VhcmRyYWlsLm5hbWU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZUd1YXJkcmFpbCxcbiAgICAgICAgcG9saWN5SGludCxcbiAgICAgICAgcnVuOiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYmFzZUd1YXJkcmFpbC5ydW4oYXJncyk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICBndWFyZHJhaWw6IHsgLi4ucmVzdWx0Lmd1YXJkcmFpbCwgcG9saWN5SGludCB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBtZXNzYWdlIHRoYXQgaW5mb3JtcyB0aGUgbW9kZWwgYWJvdXQgd2h5IHRoZSBndWFyZHJhaWwgd2FzIHRyaWdnZXJlZCBhbmQgdG9cbiAqIGNvcnJlY3QgdGhlIGJlaGF2aW9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVhbHRpbWVHdWFyZHJhaWxGZWVkYmFja01lc3NhZ2UocmVzdWx0KSB7XG4gICAgcmV0dXJuIGBcbuKaoO+4jyBZb3VyIGxhc3QgYW5zd2VyIHdhcyBibG9ja2VkLiBcbkZhaWxlZCBHdWFyZHJhaWwgUmVhc29uOiAke3Jlc3VsdC5ndWFyZHJhaWwucG9saWN5SGludH0uIFxuRmFpbHVyZSBEZXRhaWxzOiAke0pTT04uc3RyaW5naWZ5KHJlc3VsdC5vdXRwdXQub3V0cHV0SW5mbyA/PyB7fSl9LiBcblBsZWFzZSByZXNwb25kIGFnYWluIGZvbGxvd2luZyBwb2xpY3kuIEFwb2xvZ2l6ZSBmb3Igbm90IGJlaW5nIGFibGUgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbiAod2hpbGUgYXZvaWRpbmcgdGhlIHNwZWNpZmljIHJlYXNvbikgYW5kIGRpdmVydCBkaXNjdXNzaW9uIGJhY2sgdG8gYW4gYXBwcm92ZWQgdG9waWMgaW1tZWRpYXRlbHkgYW5kIG5vdCBpbnZpdGUgbW9yZSBkaXNjdXNzaW9uLlxuYC50cmltKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ndWFyZHJhaWwubWpzLm1hcCIsImZ1bmN0aW9uIGlzRGVmaW5lZChrZXksIG9iamVjdCkge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZnVkZ2luZyB3aXRoIHR5cGVzIGhlcmUgZm9yIHRoZSBpbmRleCB0eXBlc1xuICAgIHJldHVybiBrZXkgaW4gb2JqZWN0ICYmIHR5cGVvZiBvYmplY3Rba2V5XSAhPT0gJ3VuZGVmaW5lZCc7XG59XG5mdW5jdGlvbiBpc0RlcHJlY2F0ZWRDb25maWcoY29uZmlnKSB7XG4gICAgcmV0dXJuIChpc0RlZmluZWQoJ21vZGFsaXRpZXMnLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgnaW5wdXRBdWRpb0Zvcm1hdCcsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCdvdXRwdXRBdWRpb0Zvcm1hdCcsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCdpbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbicsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCd0dXJuRGV0ZWN0aW9uJywgY29uZmlnKSB8fFxuICAgICAgICBpc0RlZmluZWQoJ2lucHV0QXVkaW9Ob2lzZVJlZHVjdGlvbicsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCdzcGVlZCcsIGNvbmZpZykpO1xufVxuLyoqXG4gKiBDb252ZXJ0IGFueSBnaXZlbiBjb25maWcgKG9sZCBvciBuZXcpIHRvIHRoZSBuZXcgR0EgY29uZmlnIHNoYXBlLlxuICogSWYgYSBuZXcgY29uZmlnIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHJldHVybmVkIGFzLWlzIChub3JtYWxpemVkIHNoYWxsb3dseSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b05ld1Nlc3Npb25Db25maWcoY29uZmlnKSB7XG4gICAgaWYgKCFpc0RlcHJlY2F0ZWRDb25maWcoY29uZmlnKSkge1xuICAgICAgICBjb25zdCBpbnB1dENvbmZpZyA9IGNvbmZpZy5hdWRpbz8uaW5wdXRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogbm9ybWFsaXplQXVkaW9Gb3JtYXQoY29uZmlnLmF1ZGlvLmlucHV0LmZvcm1hdCksXG4gICAgICAgICAgICAgICAgbm9pc2VSZWR1Y3Rpb246IGNvbmZpZy5hdWRpby5pbnB1dC5ub2lzZVJlZHVjdGlvbiA/PyBudWxsLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IGNvbmZpZy5hdWRpby5pbnB1dC50cmFuc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIHR1cm5EZXRlY3Rpb246IGNvbmZpZy5hdWRpby5pbnB1dC50dXJuRGV0ZWN0aW9uLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZE91dHB1dFZvaWNlID0gY29uZmlnLmF1ZGlvPy5vdXRwdXQ/LnZvaWNlID8/IGNvbmZpZy52b2ljZTtcbiAgICAgICAgY29uc3Qgb3V0cHV0Q29uZmlnID0gY29uZmlnLmF1ZGlvPy5vdXRwdXQgfHwgdHlwZW9mIHJlcXVlc3RlZE91dHB1dFZvaWNlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBub3JtYWxpemVBdWRpb0Zvcm1hdChjb25maWcuYXVkaW8/Lm91dHB1dD8uZm9ybWF0KSxcbiAgICAgICAgICAgICAgICB2b2ljZTogcmVxdWVzdGVkT3V0cHV0Vm9pY2UsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IGNvbmZpZy5hdWRpbz8ub3V0cHV0Py5zcGVlZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9kZWw6IGNvbmZpZy5tb2RlbCxcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogY29uZmlnLmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIHRvb2xDaG9pY2U6IGNvbmZpZy50b29sQ2hvaWNlLFxuICAgICAgICAgICAgdG9vbHM6IGNvbmZpZy50b29scyxcbiAgICAgICAgICAgIHRyYWNpbmc6IGNvbmZpZy50cmFjaW5nLFxuICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiBjb25maWcucHJvdmlkZXJEYXRhLFxuICAgICAgICAgICAgcHJvbXB0OiBjb25maWcucHJvbXB0LFxuICAgICAgICAgICAgb3V0cHV0TW9kYWxpdGllczogY29uZmlnLm91dHB1dE1vZGFsaXRpZXMsXG4gICAgICAgICAgICBhdWRpbzogaW5wdXRDb25maWcgfHwgb3V0cHV0Q29uZmlnXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBpbnB1dENvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBvdXRwdXRDb25maWcsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBtb2RlbDogY29uZmlnLm1vZGVsLFxuICAgICAgICBpbnN0cnVjdGlvbnM6IGNvbmZpZy5pbnN0cnVjdGlvbnMsXG4gICAgICAgIHRvb2xDaG9pY2U6IGNvbmZpZy50b29sQ2hvaWNlLFxuICAgICAgICB0b29sczogY29uZmlnLnRvb2xzLFxuICAgICAgICB0cmFjaW5nOiBjb25maWcudHJhY2luZyxcbiAgICAgICAgcHJvdmlkZXJEYXRhOiBjb25maWcucHJvdmlkZXJEYXRhLFxuICAgICAgICBwcm9tcHQ6IGNvbmZpZy5wcm9tcHQsXG4gICAgICAgIG91dHB1dE1vZGFsaXRpZXM6IGNvbmZpZy5tb2RhbGl0aWVzLFxuICAgICAgICBhdWRpbzoge1xuICAgICAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IG5vcm1hbGl6ZUF1ZGlvRm9ybWF0KGNvbmZpZy5pbnB1dEF1ZGlvRm9ybWF0KSxcbiAgICAgICAgICAgICAgICBub2lzZVJlZHVjdGlvbjogY29uZmlnLmlucHV0QXVkaW9Ob2lzZVJlZHVjdGlvbiA/PyBudWxsLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IGNvbmZpZy5pbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICB0dXJuRGV0ZWN0aW9uOiBjb25maWcudHVybkRldGVjdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvdXRwdXQ6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IG5vcm1hbGl6ZUF1ZGlvRm9ybWF0KGNvbmZpZy5vdXRwdXRBdWRpb0Zvcm1hdCksXG4gICAgICAgICAgICAgICAgdm9pY2U6IGNvbmZpZy52b2ljZSxcbiAgICAgICAgICAgICAgICBzcGVlZDogY29uZmlnLnNwZWVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUF1ZGlvRm9ybWF0KGZvcm1hdCkge1xuICAgIGlmICghZm9ybWF0KVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICBjb25zdCBmID0gU3RyaW5nKGZvcm1hdCk7XG4gICAgaWYgKGYgPT09ICdwY20xNicpXG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdhdWRpby9wY20nLCByYXRlOiAyNDAwMCB9O1xuICAgIGlmIChmID09PSAnZzcxMV91bGF3JylcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2F1ZGlvL3BjbXUnIH07XG4gICAgaWYgKGYgPT09ICdnNzExX2FsYXcnKVxuICAgICAgICByZXR1cm4geyB0eXBlOiAnYXVkaW8vcGNtYScgfTtcbiAgICAvLyBEZWZhdWx0IGZhbGxiYWNrOiBhc3N1bWUgMjRrSHogUENNIGlmIHVua25vd24gc3RyaW5nXG4gICAgcmV0dXJuIHsgdHlwZTogJ2F1ZGlvL3BjbScsIHJhdGU6IDI0MDAwIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnRNZXNzYWdlcy5tanMubWFwIiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5leHBvcnQgY29uc3QgYmFzZUl0ZW1TY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgaXRlbUlkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVhbHRpbWVNZXNzYWdlSXRlbVNjaGVtYSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCdyb2xlJywgW1xuICAgIHoub2JqZWN0KHtcbiAgICAgICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgICAgICBwcmV2aW91c0l0ZW1JZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZScpLFxuICAgICAgICByb2xlOiB6LmxpdGVyYWwoJ3N5c3RlbScpLFxuICAgICAgICBjb250ZW50OiB6LmFycmF5KHoub2JqZWN0KHsgdHlwZTogei5saXRlcmFsKCdpbnB1dF90ZXh0JyksIHRleHQ6IHouc3RyaW5nKCkgfSkpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgICAgICBwcmV2aW91c0l0ZW1JZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZScpLFxuICAgICAgICByb2xlOiB6LmxpdGVyYWwoJ3VzZXInKSxcbiAgICAgICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnXSksXG4gICAgICAgIGNvbnRlbnQ6IHouYXJyYXkoei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X3RleHQnKSwgdGV4dDogei5zdHJpbmcoKSB9KS5vcih6Lm9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvJyksXG4gICAgICAgICAgICBhdWRpbzogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgICAgIH0pKSksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICBpdGVtSWQ6IHouc3RyaW5nKCksXG4gICAgICAgIHByZXZpb3VzSXRlbUlkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdtZXNzYWdlJyksXG4gICAgICAgIHJvbGU6IHoubGl0ZXJhbCgnYXNzaXN0YW50JyksXG4gICAgICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJywgJ2luY29tcGxldGUnXSksXG4gICAgICAgIGNvbnRlbnQ6IHouYXJyYXkoei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF90ZXh0JyksIHRleHQ6IHouc3RyaW5nKCkgfSkub3Ioei5vYmplY3Qoe1xuICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfYXVkaW8nKSxcbiAgICAgICAgICAgIGF1ZGlvOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICB9KSkpLFxuICAgIH0pLFxuXSk7XG5leHBvcnQgY29uc3QgcmVhbHRpbWVUb29sQ2FsbEl0ZW0gPSB6Lm9iamVjdCh7XG4gICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgIHByZXZpb3VzSXRlbUlkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2Z1bmN0aW9uX2NhbGwnKSxcbiAgICBzdGF0dXM6IHouZW51bShbJ2luX3Byb2dyZXNzJywgJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJ10pLFxuICAgIGFyZ3VtZW50czogei5zdHJpbmcoKSxcbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIG91dHB1dDogei5zdHJpbmcoKS5udWxsYWJsZSgpLFxufSk7XG5leHBvcnQgY29uc3QgcmVhbHRpbWVNY3BDYWxsSXRlbSA9IHoub2JqZWN0KHtcbiAgICBpdGVtSWQ6IHouc3RyaW5nKCksXG4gICAgcHJldmlvdXNJdGVtSWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHR5cGU6IHouZW51bShbJ21jcF9jYWxsJywgJ21jcF90b29sX2NhbGwnXSksXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICBhcmd1bWVudHM6IHouc3RyaW5nKCksXG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICBvdXRwdXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lTWNwQ2FsbEFwcHJvdmFsUmVxdWVzdEl0ZW0gPSB6Lm9iamVjdCh7XG4gICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgIHR5cGU6IHoubGl0ZXJhbCgnbWNwX2FwcHJvdmFsX3JlcXVlc3QnKSxcbiAgICBzZXJ2ZXJMYWJlbDogei5zdHJpbmcoKSxcbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIGFyZ3VtZW50czogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG4gICAgYXBwcm92ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlbXMubWpzLm1hcCIsImltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKCdvcGVuYWktYWdlbnRzOnJlYWx0aW1lJyk7XG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnZXIubWpzLm1hcCIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuLy8gRXZlbnQgc2NoZW1hcyBtaXJyb3JpbmcgdGhlIHN0cnVjdHVyZXMgZGVmaW5lZCBpbiB0aGUgT3BlbkFJIFNESyB0eXBpbmdzLlxuLy8gTW9zdCBmaWVsZHMgZnJvbSB0aGUgaW50ZXJmYWNlcyBpbiBgcmVhbHRpbWUuZC50c2AgYXJlIGNhcHR1cmVkIGhlcmUgdG9cbi8vIHByb3ZpZGUgYmV0dGVyIHJ1bnRpbWUgdmFsaWRhdGlvbiB3aGVuIHBhcnNpbmcgZXZlbnRzIGZyb20gdGhlIHNlcnZlci5cbmV4cG9ydCBjb25zdCByZWFsdGltZVJlc3BvbnNlID0gei5vYmplY3Qoe1xuICAgIGlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICBjb252ZXJzYXRpb25faWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgIG1heF9vdXRwdXRfdG9rZW5zOiB6Lm51bWJlcigpLm9yKHoubGl0ZXJhbCgnaW5mJykpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICBtZXRhZGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgIC8vIEdBIHJlbmFtZTogbW9kYWxpdGllcyAtPiBvdXRwdXRfbW9kYWxpdGllc1xuICAgIG91dHB1dF9tb2RhbGl0aWVzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICBvYmplY3Q6IHoubGl0ZXJhbCgncmVhbHRpbWUucmVzcG9uc2UnKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgb3V0cHV0OiB6LmFycmF5KHouYW55KCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAvLyBHQSBncm91cGluZzogYXVkaW8ub3V0cHV0Lntmb3JtYXQsdm9pY2V9XG4gICAgYXVkaW86IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIG91dHB1dDogelxuICAgICAgICAgICAgLm9iamVjdCh7XG4gICAgICAgICAgICBmb3JtYXQ6IHouYW55KCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgICAgICAgICAgdm9pY2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLm9wdGlvbmFsKClcbiAgICAgICAgICAgIC5udWxsYWJsZSgpLFxuICAgIH0pXG4gICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgIC5udWxsYWJsZSgpLFxuICAgIHN0YXR1czogelxuICAgICAgICAuZW51bShbJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJywgJ2ZhaWxlZCcsICdjYW5jZWxsZWQnLCAnaW5fcHJvZ3Jlc3MnXSlcbiAgICAgICAgLm9wdGlvbmFsKClcbiAgICAgICAgLm51bGxhYmxlKCksXG4gICAgc3RhdHVzX2RldGFpbHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICB1c2FnZTogelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgaW5wdXRfdG9rZW5zOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgIGlucHV0X3Rva2VuX2RldGFpbHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAgICAgb3V0cHV0X3Rva2Vuczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICBvdXRwdXRfdG9rZW5fZGV0YWlsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgIH0pXG4gICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgIC5udWxsYWJsZSgpLFxufSk7XG4vLyBCYXNpYyBjb250ZW50IHNjaGVtYSB1c2VkIGJ5IENvbnZlcnNhdGlvbkl0ZW0uXG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbUNvbnRlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBhdWRpbzogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdGV4dDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdHJhbnNjcmlwdDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdHlwZTogei51bmlvbihbXG4gICAgICAgIHoubGl0ZXJhbCgnaW5wdXRfdGV4dCcpLFxuICAgICAgICB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvJyksXG4gICAgICAgIHoubGl0ZXJhbCgnaXRlbV9yZWZlcmVuY2UnKSxcbiAgICAgICAgei5saXRlcmFsKCdvdXRwdXRfdGV4dCcpLFxuICAgICAgICB6LmxpdGVyYWwoJ291dHB1dF9hdWRpbycpLFxuICAgIF0pLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGFyZ3VtZW50czogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGNhbGxfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBjb250ZW50OiB6LmFycmF5KGNvbnZlcnNhdGlvbkl0ZW1Db250ZW50U2NoZW1hKS5vcHRpb25hbCgpLFxuICAgIG5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBvdXRwdXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHJvbGU6IHouZW51bShbJ3VzZXInLCAnYXNzaXN0YW50JywgJ3N5c3RlbSddKS5vcHRpb25hbCgpLFxuICAgIHN0YXR1czogei5lbnVtKFsnY29tcGxldGVkJywgJ2luY29tcGxldGUnLCAnaW5fcHJvZ3Jlc3MnXSkub3B0aW9uYWwoKSxcbiAgICB0eXBlOiB6XG4gICAgICAgIC5lbnVtKFtcbiAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICAnZnVuY3Rpb25fY2FsbCcsXG4gICAgICAgICdmdW5jdGlvbl9jYWxsX291dHB1dCcsXG4gICAgICAgICdtY3BfbGlzdF90b29scycsXG4gICAgICAgICdtY3BfdG9vbF9jYWxsJyxcbiAgICAgICAgJ21jcF9jYWxsJyxcbiAgICAgICAgJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyxcbiAgICAgICAgJ21jcF9hcHByb3ZhbF9yZXNwb25zZScsXG4gICAgXSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgYXBwcm92YWxfcmVxdWVzdF9pZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgYXBwcm92ZTogei5ib29sZWFuKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHJlYXNvbjogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgc2VydmVyX2xhYmVsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZXJyb3I6IHouYW55KCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHRvb2xzOiB6XG4gICAgICAgIC5hcnJheSh6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgICAgICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKSxcbiAgICAgICAgaW5wdXRfc2NoZW1hOiB6LnJlY29yZCh6LmFueSgpKS5vcHRpb25hbCgpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpKVxuICAgICAgICAub3B0aW9uYWwoKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLmNyZWF0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBjb252ZXJzYXRpb246IHoub2JqZWN0KHtcbiAgICAgICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgb2JqZWN0OiB6LmxpdGVyYWwoJ3JlYWx0aW1lLmNvbnZlcnNhdGlvbicpLm9wdGlvbmFsKCksXG4gICAgfSksXG59KTtcbi8vIEdBIHJlbmFtZTogY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlZCAtPiBjb252ZXJzYXRpb24uaXRlbS5hZGRlZFxuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1BZGRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uYWRkZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtOiBjb252ZXJzYXRpb25JdGVtU2NoZW1hLFxuICAgIHByZXZpb3VzX2l0ZW1faWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG4vLyBHQSBhZGRpdGlvbjogY29udmVyc2F0aW9uLml0ZW0uZG9uZVxuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1Eb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBwcmV2aW91c19pdGVtX2lkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1EZWxldGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5kZWxldGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkNvbXBsZXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5jb21wbGV0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgdHJhbnNjcmlwdDogei5zdHJpbmcoKSxcbiAgICBsb2dwcm9iczogei5hcnJheSh6LmFueSgpKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25EZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5kZWx0YScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgbG9ncHJvYnM6IHouYXJyYXkoei5hbnkoKSkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmZhaWxlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBlcnJvcjogei5vYmplY3Qoe1xuICAgICAgICBjb2RlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIG1lc3NhZ2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgcGFyYW06IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdHlwZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVJldHJpZXZlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fZW5kX21zOiB6Lm51bWJlcigpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtQ3JlYXRlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGUnKSxcbiAgICBpdGVtOiBjb252ZXJzYXRpb25JdGVtU2NoZW1hLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgcHJldmlvdXNfaXRlbV9pZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtRGVsZXRlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5kZWxldGUnKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtUmV0cmlldmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlJyksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVRydW5jYXRlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZScpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fZW5kX21zOiB6Lm51bWJlcigpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGVycm9yRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdlcnJvcicpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZXJyb3I6IHouYW55KCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGlucHV0QXVkaW9CdWZmZXJDbGVhcmVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpb19idWZmZXIuY2xlYXJlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgaW5wdXRBdWRpb0J1ZmZlckFwcGVuZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfYXVkaW9fYnVmZmVyLmFwcGVuZCcpLFxuICAgIGF1ZGlvOiB6LnN0cmluZygpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5jbGVhcicpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpb19idWZmZXIuY29tbWl0JyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGlucHV0QXVkaW9CdWZmZXJDb21taXR0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5jb21taXR0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIHByZXZpb3VzX2l0ZW1faWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgaW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0YXJ0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RhcnRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fc3RhcnRfbXM6IHoubnVtYmVyKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RvcHBlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfYXVkaW9fYnVmZmVyLnNwZWVjaF9zdG9wcGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBhdWRpb19lbmRfbXM6IHoubnVtYmVyKCksXG59KTtcbmV4cG9ydCBjb25zdCBvdXRwdXRBdWRpb0J1ZmZlclN0YXJ0ZWRFdmVudFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF9hdWRpb19idWZmZXIuc3RhcnRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCBvdXRwdXRBdWRpb0J1ZmZlclN0b3BwZWRFdmVudFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF9hdWRpb19idWZmZXIuc3RvcHBlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCBvdXRwdXRBdWRpb0J1ZmZlckNsZWFyZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF9hdWRpb19idWZmZXIuY2xlYXJlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmF0ZUxpbWl0c1VwZGF0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JhdGVfbGltaXRzLnVwZGF0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICByYXRlX2xpbWl0czogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIGxpbWl0OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgIG5hbWU6IHouZW51bShbJ3JlcXVlc3RzJywgJ3Rva2VucyddKS5vcHRpb25hbCgpLFxuICAgICAgICByZW1haW5pbmc6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgcmVzZXRfc2Vjb25kczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIH0pKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQXVkaW9EZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X2F1ZGlvLmRlbHRhJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQXVkaW9Eb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfYXVkaW8uZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kZWx0YScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvLyAgR0EgbWF5IGludHJvZHVjZSByZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kb25lXG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VDb250ZW50UGFydEFkZGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jb250ZW50X3BhcnQuYWRkZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxuICAgIHBhcnQ6IHoub2JqZWN0KHtcbiAgICAgICAgYXVkaW86IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdGV4dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHouZW51bShbJ3RleHQnLCAnYXVkaW8nXSkub3B0aW9uYWwoKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQ29udGVudFBhcnREb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jb250ZW50X3BhcnQuZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG4gICAgcGFydDogei5vYmplY3Qoe1xuICAgICAgICBhdWRpbzogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB0ZXh0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdHlwZTogei5lbnVtKFsndGV4dCcsICdhdWRpbyddKS5vcHRpb25hbCgpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VDcmVhdGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jcmVhdGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgcmVzcG9uc2U6IHJlYWx0aW1lUmVzcG9uc2UsXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZURvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLmRvbmUnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICByZXNwb25zZTogcmVhbHRpbWVSZXNwb25zZSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjYWxsX2lkOiB6LnN0cmluZygpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY2FsbF9pZDogei5zdHJpbmcoKSxcbiAgICBhcmd1bWVudHM6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZU91dHB1dEl0ZW1Eb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZVRleHREZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgZGVsdGE6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VUZXh0RG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC8vIE5vIHJlbmFtZSBzcGVjaWZpZWQgZm9yIGRvbmU7IGtlZXAgcmVzcG9uc2UudGV4dC5kb25lXG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfdGV4dC5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHRleHQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3Qgc2Vzc2lvbkNyZWF0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Nlc3Npb24uY3JlYXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIHNlc3Npb246IHouYW55KCksXG59KTtcbmV4cG9ydCBjb25zdCBzZXNzaW9uVXBkYXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc2Vzc2lvbi51cGRhdGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgc2Vzc2lvbjogei5hbnkoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQ2FuY2VsRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jYW5jZWwnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUNyZWF0ZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuY3JlYXRlJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICByZXNwb25zZTogei5hbnkoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3Qgc2Vzc2lvblVwZGF0ZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc2Vzc2lvbi51cGRhdGUnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHNlc3Npb246IHouYW55KCksXG59KTtcbmV4cG9ydCBjb25zdCBtY3BMaXN0VG9vbHNJblByb2dyZXNzRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdtY3BfbGlzdF90b29scy5pbl9wcm9ncmVzcycpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgbWNwTGlzdFRvb2xzQ29tcGxldGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdtY3BfbGlzdF90b29scy5jb21wbGV0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5tY3BfY2FsbF9hcmd1bWVudHMuZGVsdGEnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBvYmZ1c2NhdGlvbjogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm1jcF9jYWxsX2FyZ3VtZW50cy5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgYXJndW1lbnRzOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VNY3BDYWxsSW5Qcm9ncmVzc0V2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UubWNwX2NhbGwuaW5fcHJvZ3Jlc3MnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbENvbXBsZXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UubWNwX2NhbGwuY29tcGxldGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBtY3BMaXN0VG9vbHNGYWlsZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21jcF9saXN0X3Rvb2xzLmZhaWxlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG4vKipcbiAqIFRoaXMgc2NoZW1hIGlzIHVzZWQgaWYgYW4gZXZlbnQgaXMgdW5rbm93biB0byB0aGUgY2xpZW50LiBUaGUgUmVhbHRpbWUgQVBJIG1pZ2h0IGludHJvZHVjZVxuICogbmV3IGV2ZW50cyBhdCBzb21lIHBvaW50IGFuZCB3ZSBzaG91bGQgaGFuZGxlIHRoZW0gZ3JhY2VmdWxseSBieSB0cmVhdGluZyB0aGVtIGFzIGdlbmVyaWMgZXZlbnRzXG4gKiBvbmx5IHJlcXVpcmluZyBhIHR5cGUgYW5kIGFuIG9wdGlvbmFsIGV2ZW50X2lkLlxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJpY0V2ZW50U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIHR5cGU6IHouc3RyaW5nKCksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCByZWFsdGltZVNlcnZlckV2ZW50U2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgY29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1BZGRlZEV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1Eb25lRXZlbnRTY2hlbWEsXG4gICAgY29udmVyc2F0aW9uSXRlbURlbGV0ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25Db21wbGV0ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25EZWx0YUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1SZXRyaWV2ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtVHJ1bmNhdGVkRXZlbnRTY2hlbWEsXG4gICAgZXJyb3JFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50U2NoZW1hLFxuICAgIGlucHV0QXVkaW9CdWZmZXJDb21taXR0ZWRFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RhcnRlZEV2ZW50U2NoZW1hLFxuICAgIGlucHV0QXVkaW9CdWZmZXJTcGVlY2hTdG9wcGVkRXZlbnRTY2hlbWEsXG4gICAgb3V0cHV0QXVkaW9CdWZmZXJTdGFydGVkRXZlbnRTY2hlbWEsXG4gICAgb3V0cHV0QXVkaW9CdWZmZXJTdG9wcGVkRXZlbnRTY2hlbWEsXG4gICAgb3V0cHV0QXVkaW9CdWZmZXJDbGVhcmVkRXZlbnRTY2hlbWEsXG4gICAgcmF0ZUxpbWl0c1VwZGF0ZWRFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvRGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvRG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNvbnRlbnRQYXJ0QWRkZWRFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNvbnRlbnRQYXJ0RG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlRG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZU91dHB1dEl0ZW1BZGRlZEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlT3V0cHV0SXRlbURvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZVRleHREZWx0YUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlVGV4dERvbmVFdmVudFNjaGVtYSxcbiAgICBzZXNzaW9uQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIHNlc3Npb25VcGRhdGVkRXZlbnRTY2hlbWEsXG4gICAgbWNwTGlzdFRvb2xzSW5Qcm9ncmVzc0V2ZW50U2NoZW1hLFxuICAgIG1jcExpc3RUb29sc0NvbXBsZXRlZEV2ZW50U2NoZW1hLFxuICAgIG1jcExpc3RUb29sc0ZhaWxlZEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VNY3BDYWxsQXJndW1lbnRzRG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlTWNwQ2FsbEluUHJvZ3Jlc3NFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZU1jcENhbGxDb21wbGV0ZWRFdmVudFNjaGVtYSxcbl0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lQ2xpZW50RXZlbnRTY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBjb252ZXJzYXRpb25JdGVtQ3JlYXRlRXZlbnRTY2hlbWEsXG4gICAgY29udmVyc2F0aW9uSXRlbURlbGV0ZUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1SZXRyaWV2ZUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZUV2ZW50U2NoZW1hLFxuICAgIGlucHV0QXVkaW9CdWZmZXJBcHBlbmRFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VDYW5jZWxFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNyZWF0ZUV2ZW50U2NoZW1hLFxuICAgIHNlc3Npb25VcGRhdGVFdmVudFNjaGVtYSxcbl0pO1xuLyoqXG4gKiBQYXJzZXMgYSByZWFsdGltZSBldmVudCBmcm9tIHRoZSBzZXJ2ZXIuIElmIHRoZSBldmVudCBpcyB1bmtub3duIHRvIHRoZSBjbGllbnQsIGl0IHdpbGwgYmUgdHJlYXRlZCBhcyBhIGdlbmVyaWMgZXZlbnQuXG4gKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gcGFyc2UuXG4gKiBAcmV0dXJucyBUaGUgcGFyc2VkIGV2ZW50IG9yIG51bGwgaWYgdGhlIGV2ZW50IGlzIHVua25vd24gdG8gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVhbHRpbWVFdmVudChldmVudCkge1xuICAgIGNvbnN0IHJhdyA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YS50b1N0cmluZygpKTtcbiAgICBjb25zdCBwYXJzZWQgPSByZWFsdGltZVNlcnZlckV2ZW50U2NoZW1hLnNhZmVQYXJzZShyYXcpO1xuICAgIGlmICghcGFyc2VkLnN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgZ2VuZXJpY1BhcnNlZCA9IGdlbmVyaWNFdmVudFNjaGVtYS5zYWZlUGFyc2UocmF3KTtcbiAgICAgICAgaWYgKGdlbmVyaWNQYXJzZWQuc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2VuZXJpY1BhcnNlZC5kYXRhLCBpc0dlbmVyaWM6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBpc0dlbmVyaWM6IHRydWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZGF0YTogcGFyc2VkLmRhdGEsIGlzR2VuZXJpYzogZmFsc2UgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5haVJlYWx0aW1lRXZlbnRzLm1qcy5tYXAiLCJpbXBvcnQgeyBSdW50aW1lRXZlbnRFbWl0dGVyLCBVc2FnZSB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuaW1wb3J0IHsgdG9OZXdTZXNzaW9uQ29uZmlnLCB9IGZyb20gXCIuL2NsaWVudE1lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgcmVhbHRpbWVNY3BDYWxsQXBwcm92YWxSZXF1ZXN0SXRlbSwgcmVhbHRpbWVNY3BDYWxsSXRlbSwgcmVhbHRpbWVNZXNzYWdlSXRlbVNjaGVtYSwgcmVhbHRpbWVUb29sQ2FsbEl0ZW0sIH0gZnJvbSBcIi4vaXRlbXMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVhbHRpbWVFdmVudCwgcmVzcG9uc2VEb25lRXZlbnRTY2hlbWEsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzXCI7XG5pbXBvcnQgeyBhcnJheUJ1ZmZlclRvQmFzZTY0LCBkaWZmUmVhbHRpbWVIaXN0b3J5IH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvdXRpbHMnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBtb2RlbCB0aGF0IGlzIHVzZWQgZHVyaW5nIHRoZSBjb25uZWN0aW9uIGlmIG5vIG1vZGVsIGlzIHByb3ZpZGVkLlxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfTU9ERUwgPSAnZ3B0LXJlYWx0aW1lJztcbi8qKlxuICogVGhlIGRlZmF1bHQgc2Vzc2lvbiBjb25maWcgdGhhdCBnZXRzIHNlbmQgb3ZlciBkdXJpbmcgc2Vzc2lvbiBjb25uZWN0aW9uIHVubGVzcyBvdmVycmlkZGVuXG4gKiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHID0ge1xuICAgIG91dHB1dE1vZGFsaXRpZXM6IFsnYXVkaW8nXSxcbiAgICBhdWRpbzoge1xuICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgZm9ybWF0OiB7IHR5cGU6ICdhdWRpby9wY20nLCByYXRlOiAyNDAwMCB9LFxuICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogeyBtb2RlbDogJ2dwdC00by1taW5pLXRyYW5zY3JpYmUnIH0sXG4gICAgICAgICAgICB0dXJuRGV0ZWN0aW9uOiB7IHR5cGU6ICdzZW1hbnRpY192YWQnIH0sXG4gICAgICAgICAgICBub2lzZVJlZHVjdGlvbjogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICBmb3JtYXQ6IHsgdHlwZTogJ2F1ZGlvL3BjbScsIHJhdGU6IDI0MDAwIH0sXG4gICAgICAgICAgICBzcGVlZDogMSxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBjbGFzcyBPcGVuQUlSZWFsdGltZUJhc2UgZXh0ZW5kcyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB7XG4gICAgI21vZGVsO1xuICAgICNhcGlLZXk7XG4gICAgI3RyYWNpbmdDb25maWcgPSBudWxsO1xuICAgICNyYXdTZXNzaW9uQ29uZmlnID0gbnVsbDtcbiAgICBldmVudEVtaXR0ZXIgPSBuZXcgUnVudGltZUV2ZW50RW1pdHRlcigpO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLiNtb2RlbCA9IG9wdGlvbnMubW9kZWwgPz8gREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfTU9ERUw7XG4gICAgICAgIHRoaXMuI2FwaUtleSA9IG9wdGlvbnMuYXBpS2V5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBtb2RlbCB0aGF0IGlzIGJlaW5nIHVzZWQgYnkgdGhlIHRyYW5zcG9ydCBsYXllci5cbiAgICAgKi9cbiAgICBnZXQgY3VycmVudE1vZGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbW9kZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IG1vZGVsIHRoYXQgaXMgYmVpbmcgdXNlZCBieSB0aGUgdHJhbnNwb3J0IGxheWVyLlxuICAgICAqICoqTm90ZSoqOiBUaGUgbW9kZWwgY2Fubm90IGJlIGNoYW5nZWQgbWlkIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBzZXQgY3VycmVudE1vZGVsKG1vZGVsKSB7XG4gICAgICAgIHRoaXMuI21vZGVsID0gbW9kZWw7XG4gICAgfVxuICAgIGdldCBfcmF3U2Vzc2lvbkNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Jhd1Nlc3Npb25Db25maWcgPz8gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgX2dldEFwaUtleShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGFwaUtleSA9IG9wdGlvbnMuYXBpS2V5ID8/IHRoaXMuI2FwaUtleTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcGlLZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBhcGlLZXkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBpS2V5O1xuICAgIH1cbiAgICBfb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcGFyc2VkLCBpc0dlbmVyaWMgfSA9IHBhcnNlUmVhbHRpbWVFdmVudChldmVudCk7XG4gICAgICAgIGlmIChwYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJyonLCBwYXJzZWQpO1xuICAgICAgICBpZiAoaXNHZW5lcmljKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgeyB0eXBlOiAnZXJyb3InLCBlcnJvcjogcGFyc2VkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbWl0KHBhcnNlZC50eXBlLCBwYXJzZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmNyZWF0ZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3R1cm5fc3RhcnRlZCcsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2Vfc3RhcnRlZCcsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBhcnNlZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnc2Vzc2lvbi51cGRhdGVkJykge1xuICAgICAgICAgICAgdGhpcy4jcmF3U2Vzc2lvbkNvbmZpZyA9IHBhcnNlZC5zZXNzaW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmRvbmUnKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlRG9uZUV2ZW50U2NoZW1hLnNhZmVQYXJzZShwYXJzZWQpO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBwYXJzaW5nIHJlc3BvbnNlIGRvbmUgZXZlbnQnLCByZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5wdXRUb2tlbnMgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbnMgPz8gMDtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dFRva2VucyA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UudXNhZ2U/Lm91dHB1dF90b2tlbnMgPz8gMDtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsVG9rZW5zID0gaW5wdXRUb2tlbnMgKyBvdXRwdXRUb2tlbnM7XG4gICAgICAgICAgICBjb25zdCB1c2FnZSA9IG5ldyBVc2FnZSh7XG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbnNEZXRhaWxzOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbl9kZXRhaWxzID8/IHt9LFxuICAgICAgICAgICAgICAgIG91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbnNEZXRhaWxzOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5vdXRwdXRfdG9rZW5fZGV0YWlscyA/PyB7fSxcbiAgICAgICAgICAgICAgICB0b3RhbFRva2VucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1c2FnZV91cGRhdGUnLCB1c2FnZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3R1cm5fZG9uZScsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2VfZG9uZScsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UuaWQgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogcmVzcG9uc2UuZGF0YS5yZXNwb25zZS5vdXRwdXQgPz8gW10sXG4gICAgICAgICAgICAgICAgICAgIHVzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5zRGV0YWlsczogcmVzcG9uc2UuZGF0YS5yZXNwb25zZS51c2FnZT8uaW5wdXRfdG9rZW5fZGV0YWlscyA/PyB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2Vuc0RldGFpbHM6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UudXNhZ2U/Lm91dHB1dF90b2tlbl9kZXRhaWxzID8/IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9hdWRpby5kb25lJykge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19kb25lJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZGVsZXRlZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV9kZWxldGVkJywge1xuICAgICAgICAgICAgICAgIGl0ZW1JZDogcGFyc2VkLml0ZW1faWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmNvbXBsZXRlZCcgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0udHJ1bmNhdGVkJykge1xuICAgICAgICAgICAgLy8gcmlnaHQgbm93IHJhdGhlciB0aGFuIGtlZXBpbmcgdHJhY2sgb2YgcGFydGlhbHMgYW5kIHJlYnVpbGRpbmcgdGhlIGl0ZW0gd2VcbiAgICAgICAgICAgIC8vIHdpbGwgcmV0cmlldmUgaXQgaW5zdGVhZCB3aGljaCB0cmlnZ2VycyB0aGUgYGNvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlZGAgZXZlbnQgYmVsb3dcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmUnLFxuICAgICAgICAgICAgICAgIGl0ZW1faWQ6IHBhcnNlZC5pdGVtX2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5kZWx0YScgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnIHx8XG4gICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9hdWRpb190cmFuc2NyaXB0LmRlbHRhJyB8fFxuICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5mdW5jdGlvbl9jYWxsX2FyZ3VtZW50cy5kZWx0YScpIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9hdWRpb190cmFuc2NyaXB0LmRlbHRhJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYXVkaW9fdHJhbnNjcmlwdF9kZWx0YScsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RyYW5zY3JpcHRfZGVsdGEnLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YTogcGFyc2VkLmRlbHRhLFxuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IHBhcnNlZC5pdGVtX2lkLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUlkOiBwYXJzZWQucmVzcG9uc2VfaWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBubyBzdXBwb3J0IGZvciBwYXJ0aWFsIHRyYW5zY3JpcHRzIHlldC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5hZGRlZCcgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZScgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmVkJykge1xuICAgICAgICAgICAgLy8gSGFuZGxlIE1DUCBsaXN0IHRvb2xzIGl0ZW1zIChvbmx5IGFjdCB3aGVuIGRvbmUgdG8gZW5zdXJlIHRvb2xzIGFyZSBwcmVzZW50KVxuICAgICAgICAgICAgaWYgKHBhcnNlZC5pdGVtLnR5cGUgPT09ICdtY3BfbGlzdF90b29scycgJiZcbiAgICAgICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmRvbmUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyTGFiZWwgPSBwYXJzZWQuaXRlbS5zZXJ2ZXJfbGFiZWwgPz8gJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbHMgPSAocGFyc2VkLml0ZW0udG9vbHMgPz8gW10pO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbWNwX3Rvb2xzX2xpc3RlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZW1pdHRpbmcgbWNwX3Rvb2xzX2xpc3RlZCcsIGVyciwgcGFyc2VkLml0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBXZSBkbyBub3QgYWRkIHRoaXMgaXRlbSB0byBoaXN0b3J5OyBpdCdzIGEgdHJhbnNwb3J0LWxldmVsIHNpZGUtY2hhbm5lbC5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyc2VkLml0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNJdGVtSWQgPSBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmFkZGVkJyB8fFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmRvbmUnXG4gICAgICAgICAgICAgICAgICAgID8gcGFyc2VkLnByZXZpb3VzX2l0ZW1faWRcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSByZWFsdGltZU1lc3NhZ2VJdGVtU2NoZW1hLnBhcnNlKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBwYXJzZWQuaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNJdGVtSWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhcnNlZC5pdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IHBhcnNlZC5pdGVtLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhcnNlZC5pdGVtLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcGFyc2VkLml0ZW0uc3RhdHVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnaXRlbV91cGRhdGUnLCBpdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyc2VkLml0ZW0udHlwZSA9PT0gJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyAmJlxuICAgICAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gcGFyc2VkLml0ZW07XG4gICAgICAgICAgICAgICAgY29uc3QgbWNwQXBwcm92YWxSZXF1ZXN0ID0gcmVhbHRpbWVNY3BDYWxsQXBwcm92YWxSZXF1ZXN0SXRlbS5wYXJzZSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogaXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJMYWJlbDogaXRlbS5zZXJ2ZXJfbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBKU09OLnBhcnNlKGl0ZW0uYXJndW1lbnRzIHx8ICd7fScpLFxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZDogaXRlbS5hcHByb3ZlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgbWNwQXBwcm92YWxSZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JywgbWNwQXBwcm92YWxSZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyc2VkLml0ZW0udHlwZSA9PT0gJ21jcF90b29sX2NhbGwnIHx8XG4gICAgICAgICAgICAgICAgcGFyc2VkLml0ZW0udHlwZSA9PT0gJ21jcF9jYWxsJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZSdcbiAgICAgICAgICAgICAgICAgICAgPyAnY29tcGxldGVkJ1xuICAgICAgICAgICAgICAgICAgICA6ICdpbl9wcm9ncmVzcyc7XG4gICAgICAgICAgICAgICAgY29uc3QgbWNwQ2FsbCA9IHJlYWx0aW1lTWNwQ2FsbEl0ZW0ucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IHBhcnNlZC5pdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXJzZWQuaXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogcGFyc2VkLml0ZW0uYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXJzZWQuaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHBhcnNlZC5pdGVtLm91dHB1dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgbWNwQ2FsbCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uZG9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfdG9vbF9jYWxsX2NvbXBsZXRlZCcsIG1jcENhbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UubWNwX2NhbGwuaW5fcHJvZ3Jlc3MnKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gcGFyc2VkO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5yZXRyaWV2ZScsXG4gICAgICAgICAgICAgICAgaXRlbV9pZDogaXRlbS5pdGVtX2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnbWNwX2xpc3RfdG9vbHMuaW5fcHJvZ3Jlc3MnKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gcGFyc2VkO1xuICAgICAgICAgICAgaWYgKGl0ZW0uaXRlbV9pZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlJyxcbiAgICAgICAgICAgICAgICAgICAgaXRlbV9pZDogaXRlbS5pdGVtX2lkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmUnIHx8XG4gICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkJykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHBhcnNlZC5pdGVtO1xuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnICYmIGl0ZW0uc3RhdHVzID09PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gcmVhbHRpbWVUb29sQ2FsbEl0ZW0ucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLCAvLyB3ZSBzZXQgaXQgdG8gaW5fcHJvZ3Jlc3MgZm9yIHRoZSBVSSBhcyBpdCB3aWxsIG9ubHkgYmUgY29tcGxldGVkIHdpdGggdGhlIG91dHB1dFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGl0ZW0uYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgdG9vbENhbGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZnVuY3Rpb25fY2FsbCcsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9jYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgY2FsbElkOiBpdGVtLmNhbGxfaWQgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogaXRlbS5hcmd1bWVudHMgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSA/PyAnJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWNwX3Rvb2xfY2FsbCcgfHwgaXRlbS50eXBlID09PSAnbWNwX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWNwQ2FsbCA9IHJlYWx0aW1lTWNwQ2FsbEl0ZW0ucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmRvbmUnXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdjb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdpbl9wcm9ncmVzcycsIC8vIHdlIHNldCBpdCB0byBpbl9wcm9ncmVzcyBmb3IgdGhlIFVJIGFzIGl0IHdpbGwgb25seSBiZSBjb21wbGV0ZWQgd2l0aCB0aGUgb3V0cHV0XG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogaXRlbS5hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBpdGVtLm91dHB1dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgbWNwQ2FsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhbHRpbWVJdGVtID0gcmVhbHRpbWVNZXNzYWdlSXRlbVNjaGVtYS5wYXJzZSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogcGFyc2VkLml0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBhcnNlZC5pdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IHBhcnNlZC5pdGVtLnJvbGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhcnNlZC5pdGVtLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAoaXRlbS5zdGF0dXMgPz8gJ2NvbXBsZXRlZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IChpdGVtLnN0YXR1cyA/PyAnaW5fcHJvZ3Jlc3MnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgcmVhbHRpbWVJdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX29uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHtcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9vbk9wZW4oKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgfVxuICAgIF9vbkNsb3NlKCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgbWVzc2FnZSB0byB0aGUgUmVhbHRpbWUgQVBJLiBUaGlzIHdpbGwgY3JlYXRlIGEgbmV3IGl0ZW0gaW4gdGhlIGNvbnZlcnNhdGlvbiBhbmRcbiAgICAgKiB0cmlnZ2VyIGEgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHNlbmQuXG4gICAgICogQHBhcmFtIG90aGVyRXZlbnREYXRhIC0gQWRkaXRpb25hbCBldmVudCBkYXRhIHRvIHNlbmQuXG4gICAgICovXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSwgb3RoZXJFdmVudERhdGEsIHsgdHJpZ2dlclJlc3BvbnNlID0gdHJ1ZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5wdXRfdGV4dCcsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDogbWVzc2FnZS5jb250ZW50Lm1hcCgoY29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdpbnB1dF9pbWFnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbnB1dF9pbWFnZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZV91cmw6IGNvbnRlbnQuaW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oY29udGVudC5wcm92aWRlckRhdGEgPz8ge30pLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlJyxcbiAgICAgICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLi4ub3RoZXJFdmVudERhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHJpZ2dlclJlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNyZWF0ZScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRJbWFnZShpbWFnZSwgeyB0cmlnZ2VyUmVzcG9uc2UgPSB0cnVlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgIHR5cGU6ICdtZXNzYWdlJyxcbiAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6ICdpbnB1dF9pbWFnZScsIGltYWdlIH1dLFxuICAgICAgICB9LCB7fSwgeyB0cmlnZ2VyUmVzcG9uc2UgfSk7XG4gICAgfVxuICAgIF9nZXRNZXJnZWRTZXNzaW9uQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBjb25zdCBuZXdDb25maWcgPSB0b05ld1Nlc3Npb25Db25maWcoY29uZmlnKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSB7XG4gICAgICAgICAgICB0eXBlOiAncmVhbHRpbWUnLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zOiBuZXdDb25maWcuaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgbW9kZWw6IG5ld0NvbmZpZy5tb2RlbCA/PyB0aGlzLiNtb2RlbCxcbiAgICAgICAgICAgIG91dHB1dF9tb2RhbGl0aWVzOiBuZXdDb25maWcub3V0cHV0TW9kYWxpdGllcyA/P1xuICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLm91dHB1dE1vZGFsaXRpZXMsXG4gICAgICAgICAgICBhdWRpbzoge1xuICAgICAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogbmV3Q29uZmlnLmF1ZGlvPy5pbnB1dD8uZm9ybWF0ID8/XG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5hdWRpbz8uaW5wdXQ/LmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgbm9pc2VfcmVkdWN0aW9uOiBuZXdDb25maWcuYXVkaW8/LmlucHV0Py5ub2lzZVJlZHVjdGlvbiA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/LmlucHV0Py5ub2lzZVJlZHVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogbmV3Q29uZmlnLmF1ZGlvPy5pbnB1dD8udHJhbnNjcmlwdGlvbiA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/LmlucHV0Py50cmFuc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICB0dXJuX2RldGVjdGlvbjogT3BlbkFJUmVhbHRpbWVCYXNlLmJ1aWxkVHVybkRldGVjdGlvbkNvbmZpZyhuZXdDb25maWcuYXVkaW8/LmlucHV0Py50dXJuRGV0ZWN0aW9uKSA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/LmlucHV0Py50dXJuRGV0ZWN0aW9uLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogbmV3Q29uZmlnLmF1ZGlvPy5vdXRwdXQ/LmZvcm1hdCA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/Lm91dHB1dD8uZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB2b2ljZTogbmV3Q29uZmlnLmF1ZGlvPy5vdXRwdXQ/LnZvaWNlID8/XG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5hdWRpbz8ub3V0cHV0Py52b2ljZSxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IG5ld0NvbmZpZy5hdWRpbz8ub3V0cHV0Py5zcGVlZCA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/Lm91dHB1dD8uc3BlZWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sX2Nob2ljZTogbmV3Q29uZmlnLnRvb2xDaG9pY2UgPz9cbiAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy50b29sQ2hvaWNlLFxuICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgc2V0IHRyYWNpbmcgaGVyZSB0byBtYWtlIHN1cmUgdGhhdCB3ZSBkb24ndCB0cnkgdG8gb3ZlcnJpZGUgaXQgb24gZXZlcnlcbiAgICAgICAgICAgIC8vIHNlc3Npb24udXBkYXRlIGFzIGl0IG1pZ2h0IGxlYWQgdG8gZXJyb3JzXG4gICAgICAgICAgICAuLi4obmV3Q29uZmlnLnByb3ZpZGVyRGF0YSA/PyB7fSksXG4gICAgICAgIH07XG4gICAgICAgIGlmIChuZXdDb25maWcucHJvbXB0KSB7XG4gICAgICAgICAgICBzZXNzaW9uRGF0YS5wcm9tcHQgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG5ld0NvbmZpZy5wcm9tcHQucHJvbXB0SWQsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogbmV3Q29uZmlnLnByb21wdC52ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlczogbmV3Q29uZmlnLnByb21wdC52YXJpYWJsZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdDb25maWcudG9vbHMgJiYgbmV3Q29uZmlnLnRvb2xzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlc3Npb25EYXRhLnRvb2xzID0gbmV3Q29uZmlnLnRvb2xzLm1hcCgodG9vbCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50b29sLFxuICAgICAgICAgICAgICAgIHN0cmljdDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXNzaW9uRGF0YTtcbiAgICB9XG4gICAgc3RhdGljIGJ1aWxkVHVybkRldGVjdGlvbkNvbmZpZyhjKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyB0eXBlLCBjcmVhdGVSZXNwb25zZSwgY3JlYXRlX3Jlc3BvbnNlLCBlYWdlcm5lc3MsIGludGVycnVwdFJlc3BvbnNlLCBpbnRlcnJ1cHRfcmVzcG9uc2UsIHByZWZpeFBhZGRpbmdNcywgcHJlZml4X3BhZGRpbmdfbXMsIHNpbGVuY2VEdXJhdGlvbk1zLCBzaWxlbmNlX2R1cmF0aW9uX21zLCB0aHJlc2hvbGQsIGlkbGVUaW1lb3V0TXMsIGlkbGVfdGltZW91dF9tcywgLi4ucmVzdCB9ID0gYztcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGNyZWF0ZV9yZXNwb25zZTogY3JlYXRlUmVzcG9uc2UgPyBjcmVhdGVSZXNwb25zZSA6IGNyZWF0ZV9yZXNwb25zZSxcbiAgICAgICAgICAgIGVhZ2VybmVzcyxcbiAgICAgICAgICAgIGludGVycnVwdF9yZXNwb25zZTogaW50ZXJydXB0UmVzcG9uc2VcbiAgICAgICAgICAgICAgICA/IGludGVycnVwdFJlc3BvbnNlXG4gICAgICAgICAgICAgICAgOiBpbnRlcnJ1cHRfcmVzcG9uc2UsXG4gICAgICAgICAgICBwcmVmaXhfcGFkZGluZ19tczogcHJlZml4UGFkZGluZ01zID8gcHJlZml4UGFkZGluZ01zIDogcHJlZml4X3BhZGRpbmdfbXMsXG4gICAgICAgICAgICBzaWxlbmNlX2R1cmF0aW9uX21zOiBzaWxlbmNlRHVyYXRpb25Nc1xuICAgICAgICAgICAgICAgID8gc2lsZW5jZUR1cmF0aW9uTXNcbiAgICAgICAgICAgICAgICA6IHNpbGVuY2VfZHVyYXRpb25fbXMsXG4gICAgICAgICAgICBpZGxlX3RpbWVvdXRfbXM6IGlkbGVUaW1lb3V0TXMgPyBpZGxlVGltZW91dE1zIDogaWRsZV90aW1lb3V0X21zLFxuICAgICAgICAgICAgdGhyZXNob2xkLFxuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUmVtb3ZlIHVuZGVmaW5lZCB2YWx1ZXMgZnJvbSB0aGUgY29uZmlnXG4gICAgICAgIE9iamVjdC5rZXlzKGNvbmZpZykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoY29uZmlnW2tleV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBkZWxldGUgY29uZmlnW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoY29uZmlnKS5sZW5ndGggPiAwID8gY29uZmlnIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbnRlcm5hbCB0cmFjaW5nIGNvbmZpZy4gVGhpcyBpcyB1c2VkIHRvIHRyYWNrIHRoZSB0cmFjaW5nIGNvbmZpZyB0aGF0IGhhcyBiZWVuIHNldFxuICAgICAqIGR1cmluZyB0aGUgc2Vzc2lvbi5jcmVhdGUgZXZlbnQuXG4gICAgICovXG4gICAgc2V0IF90cmFjaW5nQ29uZmlnKHRyYWNpbmdDb25maWcpIHtcbiAgICAgICAgdGhpcy4jdHJhY2luZ0NvbmZpZyA9IHRyYWNpbmdDb25maWc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYWNpbmcgY29uZmlnIGZvciB0aGUgc2Vzc2lvbi4gVGhpcyB3aWxsIHNlbmQgdGhlIHRyYWNpbmcgY29uZmlnIHRvIHRoZSBSZWFsdGltZSBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhY2luZ0NvbmZpZyAtIFRoZSB0cmFjaW5nIGNvbmZpZyB0byBzZXQuIFdlIGRvbid0IHN1cHBvcnQgJ2F1dG8nIGhlcmUgYXMgdGhlIFNESyB3aWxsIGFsd2F5cyBjb25maWd1cmUgYSBXb3JrZmxvdyBOYW1lIHVubGVzcyBpdCBleGlzdHNcbiAgICAgKi9cbiAgICBfdXBkYXRlVHJhY2luZ0NvbmZpZyh0cmFjaW5nQ29uZmlnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy4jdHJhY2luZ0NvbmZpZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIHRyZWF0aW5nIGl0IGFzIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgICAgIHRoaXMuI3RyYWNpbmdDb25maWcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFjaW5nQ29uZmlnID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgIC8vIHR1cm4gb24gdHJhY2luZyBpbiBhdXRvIG1vZGVcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYWx0aW1lJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2luZzogJ2F1dG8nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jdHJhY2luZ0NvbmZpZyAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuI3RyYWNpbmdDb25maWcgIT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICB0eXBlb2YgdHJhY2luZ0NvbmZpZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIHRyYWNpbmcgaXMgYWxyZWFkeSBzZXQsIHdlIGNhbid0IGNoYW5nZSBpdFxuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1RyYWNpbmcgY29uZmlnIGlzIGFscmVhZHkgc2V0LCBza2lwcGluZyBzZXR0aW5nIGl0IGFnYWluLiBUaGlzIGxpa2VseSBoYXBwZW5zIHdoZW4geW91IGFscmVhZHkgc2V0IGEgdHJhY2luZyBjb25maWcgb24gc2Vzc2lvbiBjcmVhdGlvbi4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2luZ0NvbmZpZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdEaXNhYmxpbmcgdHJhY2luZyBmb3IgdGhpcyBzZXNzaW9uLiBJdCBjYW5ub3QgYmUgdHVybmVkIG9uIGZvciB0aGlzIHNlc3Npb24gZnJvbSB0aGlzIHBvaW50IG9uLicpO1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzZXNzaW9uLnVwZGF0ZScsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhbHRpbWUnLFxuICAgICAgICAgICAgICAgICAgICB0cmFjaW5nOiBudWxsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jdHJhY2luZ0NvbmZpZyA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuI3RyYWNpbmdDb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyB0cmFjaW5nIGlzIGN1cnJlbnRseSBub3Qgc2V0IHNvIHdlIGNhbiBzZXQgaXQgdG8gdGhlIG5ldyB2YWx1ZVxuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzZXNzaW9uLnVwZGF0ZScsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncmVhbHRpbWUnLFxuICAgICAgICAgICAgICAgICAgICB0cmFjaW5nOiB0cmFjaW5nQ29uZmlnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2luZ0NvbmZpZz8uZ3JvdXBfaWQgIT09IHRoaXMuI3RyYWNpbmdDb25maWc/Lmdyb3VwX2lkIHx8XG4gICAgICAgICAgICB0cmFjaW5nQ29uZmlnPy5tZXRhZGF0YSAhPT0gdGhpcy4jdHJhY2luZ0NvbmZpZz8ubWV0YWRhdGEgfHxcbiAgICAgICAgICAgIHRyYWNpbmdDb25maWc/LndvcmtmbG93X25hbWUgIT09IHRoaXMuI3RyYWNpbmdDb25maWc/LndvcmtmbG93X25hbWUpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdNaXNtYXRjaCBpbiB0cmFjaW5nIGNvbmZpZy4gSWdub3JpbmcgdGhlIG5ldyB0cmFjaW5nIGNvbmZpZy4gVGhpcyBsaWtlbHkgaGFwcGVucyB3aGVuIHlvdSBhbHJlYWR5IHNldCBhIHRyYWNpbmcgY29uZmlnIG9uIHNlc3Npb24gY3JlYXRpb24uIEN1cnJlbnQgdHJhY2luZyBjb25maWc6ICVzLCBuZXcgdHJhY2luZyBjb25maWc6ICVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy4jdHJhY2luZ0NvbmZpZyksIEpTT04uc3RyaW5naWZ5KHRyYWNpbmdDb25maWcpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnLFxuICAgICAgICAgICAgc2Vzc2lvbjoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFsdGltZScsXG4gICAgICAgICAgICAgICAgdHJhY2luZzogdHJhY2luZ0NvbmZpZyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzZXNzaW9uIGNvbmZpZy4gVGhpcyB3aWxsIG1lcmdlIGl0IHdpdGggdGhlIGN1cnJlbnQgc2Vzc2lvbiBjb25maWcgd2l0aCB0aGUgZGVmYXVsdFxuICAgICAqIHZhbHVlcyBhbmQgc2VuZCBpdCB0byB0aGUgUmVhbHRpbWUgQVBJLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIFRoZSBzZXNzaW9uIGNvbmZpZyB0byB1cGRhdGUuXG4gICAgICovXG4gICAgdXBkYXRlU2Vzc2lvbkNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkRhdGEgPSB0aGlzLl9nZXRNZXJnZWRTZXNzaW9uQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdzZXNzaW9uLnVwZGF0ZScsXG4gICAgICAgICAgICBzZXNzaW9uOiBzZXNzaW9uRGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgdGhlIG91dHB1dCBvZiBhIGZ1bmN0aW9uIGNhbGwgdG8gdGhlIFJlYWx0aW1lIEFQSS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0b29sQ2FsbCAtIFRoZSB0b29sIGNhbGwgdG8gc2VuZCB0aGUgb3V0cHV0IGZvci5cbiAgICAgKiBAcGFyYW0gb3V0cHV0IC0gVGhlIG91dHB1dCBvZiB0aGUgZnVuY3Rpb24gY2FsbC5cbiAgICAgKiBAcGFyYW0gc3RhcnRSZXNwb25zZSAtIFdoZXRoZXIgdG8gc3RhcnQgYSBuZXcgcmVzcG9uc2UgYWZ0ZXIgc2VuZGluZyB0aGUgb3V0cHV0LlxuICAgICAqL1xuICAgIHNlbmRGdW5jdGlvbkNhbGxPdXRwdXQodG9vbENhbGwsIG91dHB1dCwgc3RhcnRSZXNwb25zZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZScsXG4gICAgICAgICAgICBpdGVtOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2NhbGxfb3V0cHV0JyxcbiAgICAgICAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAgICAgICAgY2FsbF9pZDogdG9vbENhbGwuY2FsbElkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gcmVhbHRpbWVUb29sQ2FsbEl0ZW0ucGFyc2Uoe1xuICAgICAgICAgICAgICAgIGl0ZW1JZDogdG9vbENhbGwuaWQsXG4gICAgICAgICAgICAgICAgcHJldmlvdXNJdGVtSWQ6IHRvb2xDYWxsLnByZXZpb3VzSXRlbUlkLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9jYWxsJyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50czogdG9vbENhbGwuYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIG5hbWU6IHRvb2xDYWxsLm5hbWUsXG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgdG9vbCBjYWxsIGl0ZW0nLCBlcnJvciwgdG9vbENhbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydFJlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNyZWF0ZScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGFuIGF1ZGlvIGJ1ZmZlciB0byB0aGUgUmVhbHRpbWUgQVBJLiBJZiBgeyBjb21taXQ6IHRydWUgfWAgaXMgcGFzc2VkLCB0aGUgYXVkaW8gYnVmZmVyXG4gICAgICogd2lsbCBiZSBjb21taXR0ZWQgYW5kIHRoZSBtb2RlbCB3aWxsIHN0YXJ0IHByb2Nlc3NpbmcgaXQuIFRoaXMgaXMgbmVjZXNzYXJ5IGlmIHlvdSBoYXZlXG4gICAgICogZGlzYWJsZWQgdHVybiBkZXRlY3Rpb24gLyB2b2ljZSBhY3Rpdml0eSBkZXRlY3Rpb24gKFZBRCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXVkaW8gLSBUaGUgYXVkaW8gYnVmZmVyIHRvIHNlbmQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGF1ZGlvIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBzZW5kQXVkaW8oYXVkaW8sIHsgY29tbWl0ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnB1dF9hdWRpb19idWZmZXIuYXBwZW5kJyxcbiAgICAgICAgICAgIGF1ZGlvOiBhcnJheUJ1ZmZlclRvQmFzZTY0KGF1ZGlvKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb21taXQpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnaW5wdXRfYXVkaW9fYnVmZmVyLmNvbW1pdCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgaGlzdG9yeSBvZiB0aGUgY29udmVyc2F0aW9uLiBUaGlzIHdpbGwgY3JlYXRlIGEgZGlmZiBiZXR3ZWVuIHRoZSBvbGQgYW5kIG5ldyBoaXN0b3J5XG4gICAgICogYW5kIHNlbmQgdGhlIG5lY2Vzc2FyeSBldmVudHMgdG8gdGhlIFJlYWx0aW1lIEFQSSB0byB1cGRhdGUgdGhlIGhpc3RvcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2xkSGlzdG9yeSAtIFRoZSBvbGQgaGlzdG9yeSBvZiB0aGUgY29udmVyc2F0aW9uLlxuICAgICAqIEBwYXJhbSBuZXdIaXN0b3J5IC0gVGhlIG5ldyBoaXN0b3J5IG9mIHRoZSBjb252ZXJzYXRpb24uXG4gICAgICovXG4gICAgcmVzZXRIaXN0b3J5KG9sZEhpc3RvcnksIG5ld0hpc3RvcnkpIHtcbiAgICAgICAgY29uc3QgeyByZW1vdmFscywgYWRkaXRpb25zLCB1cGRhdGVzIH0gPSBkaWZmUmVhbHRpbWVIaXN0b3J5KG9sZEhpc3RvcnksIG5ld0hpc3RvcnkpO1xuICAgICAgICBjb25zdCByZW1vdmFsSWRzID0gbmV3IFNldChyZW1vdmFscy5tYXAoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkKSk7XG4gICAgICAgIC8vIHdlIGRvbid0IGhhdmUgYW4gdXBkYXRlIGV2ZW50IGZvciBpdGVtcyBzbyB3ZSB3aWxsIHJlbW92ZSBhbmQgcmUtYWRkIHdoYXQncyB0aGVyZVxuICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZSBvZiB1cGRhdGVzKSB7XG4gICAgICAgICAgICByZW1vdmFsSWRzLmFkZCh1cGRhdGUuaXRlbUlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZhbElkcy5zaXplID4gMCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtSWQgb2YgcmVtb3ZhbElkcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmRlbGV0ZScsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1faWQ6IGl0ZW1JZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhZGRpdGlvbnNBbmRVcGRhdGVzID0gWy4uLmFkZGl0aW9ucywgLi4udXBkYXRlc107XG4gICAgICAgIGZvciAoY29uc3QgYWRkaXRpb24gb2YgYWRkaXRpb25zQW5kVXBkYXRlcykge1xuICAgICAgICAgICAgaWYgKGFkZGl0aW9uLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ21lc3NhZ2UnLFxuICAgICAgICAgICAgICAgICAgICByb2xlOiBhZGRpdGlvbi5yb2xlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBhZGRpdGlvbi5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBpZDogYWRkaXRpb24uaXRlbUlkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGFkZGl0aW9uLnJvbGUgIT09ICdzeXN0ZW0nICYmIGFkZGl0aW9uLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtRW50cnkuc3RhdHVzID0gYWRkaXRpb24uc3RhdHVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGUnLFxuICAgICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtRW50cnksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhZGRpdGlvbi50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybignRnVuY3Rpb24gY2FsbHMgY2Fubm90IGJlIG1hbnVhbGx5IGFkZGVkIG9yIHVwZGF0ZWQgYXQgdGhlIG1vbWVudC4gSWdub3JpbmcuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VuZE1jcFJlc3BvbnNlKGFwcHJvdmFsUmVxdWVzdCwgYXBwcm92ZWQpIHtcbiAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZScsXG4gICAgICAgICAgICBwcmV2aW91c19pdGVtX2lkOiBhcHByb3ZhbFJlcXVlc3QuaXRlbUlkLFxuICAgICAgICAgICAgaXRlbToge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3BfYXBwcm92YWxfcmVzcG9uc2UnLFxuICAgICAgICAgICAgICAgIGFwcHJvdmFsX3JlcXVlc3RfaWQ6IGFwcHJvdmFsUmVxdWVzdC5pdGVtSWQsXG4gICAgICAgICAgICAgICAgYXBwcm92ZTogYXBwcm92ZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVuYWlSZWFsdGltZUJhc2UubWpzLm1hcCIsIi8vLyA8cmVmZXJlbmNlIGxpYj1cImRvbVwiIC8+XG5pbXBvcnQgeyBpc0Jyb3dzZXJFbnZpcm9ubWVudCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBPcGVuQUlSZWFsdGltZUJhc2UsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWFsdGltZUV2ZW50IH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzXCI7XG5pbXBvcnQgeyBIRUFERVJTIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG4vKipcbiAqIFRyYW5zcG9ydCBsYXllciB0aGF0J3MgaGFuZGxpbmcgdGhlIGNvbm5lY3Rpb24gYmV0d2VlbiB0aGUgY2xpZW50IGFuZCBPcGVuQUkncyBSZWFsdGltZSBBUElcbiAqIHZpYSBXZWJSVEMuIFdoaWxlIHRoaXMgdHJhbnNwb3J0IGxheWVyIGlzIGRlc2lnbmVkIHRvIGJlIHVzZWQgd2l0aGluIGEgUmVhbHRpbWVTZXNzaW9uLCBpdCBjYW5cbiAqIGFsc28gYmUgdXNlZCBzdGFuZGFsb25lIGlmIHlvdSB3YW50IHRvIGhhdmUgYSBkaXJlY3QgY29ubmVjdGlvbiB0byB0aGUgUmVhbHRpbWUgQVBJLlxuICpcbiAqIFVubGVzcyB5b3Ugc3BlY2lmeSBhIGBtZWRpYVN0cmVhbWAgb3IgYGF1ZGlvRWxlbWVudGAgb3B0aW9uLCB0aGUgdHJhbnNwb3J0IGxheWVyIHdpbGxcbiAqIGF1dG9tYXRpY2FsbHkgY29uZmlndXJlIHRoZSBtaWNyb3Bob25lIGFuZCBhdWRpbyBvdXRwdXQgdG8gYmUgdXNlZCBieSB0aGUgc2Vzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSVJlYWx0aW1lV2ViUlRDIGV4dGVuZHMgT3BlbkFJUmVhbHRpbWVCYXNlIHtcbiAgICBvcHRpb25zO1xuICAgICN1cmw7XG4gICAgI3N0YXRlID0ge1xuICAgICAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnLFxuICAgICAgICBwZWVyQ29ubmVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICBkYXRhQ2hhbm5lbDogdW5kZWZpbmVkLFxuICAgICAgICBjYWxsSWQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgICN1c2VJbnNlY3VyZUFwaUtleTtcbiAgICAjb25nb2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgI211dGVkID0gZmFsc2U7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmICh0eXBlb2YgUlRDUGVlckNvbm5lY3Rpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlJUQyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy4jdXJsID0gb3B0aW9ucy5iYXNlVXJsID8/IGBodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL3JlYWx0aW1lL2NhbGxzYDtcbiAgICAgICAgdGhpcy4jdXNlSW5zZWN1cmVBcGlLZXkgPSBvcHRpb25zLnVzZUluc2VjdXJlQXBpS2V5ID8/IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBjYWxsIElEIG9mIHRoZSBXZWJSVEMgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgY2FsbElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RhdGUuY2FsbElkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIFdlYlJUQyBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdGF0ZS5zdGF0dXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGNvbm5lY3Rpb24gc3RhdGUgb2YgdGhlIFdlYlJUQyBjb25uZWN0aW9uIGluY2x1ZGluZyB0aGUgcGVlciBjb25uZWN0aW9uIGFuZCBkYXRhXG4gICAgICogY2hhbm5lbC5cbiAgICAgKi9cbiAgICBnZXQgY29ubmVjdGlvblN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHNlc3Npb24gaXMgbXV0ZWQuXG4gICAgICovXG4gICAgZ2V0IG11dGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbXV0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdG8gdGhlIFJlYWx0aW1lIEFQSS4gVGhpcyB3aWxsIGVzdGFibGlzaCB0aGUgY29ubmVjdGlvbiB0byB0aGUgT3BlbkFJIFJlYWx0aW1lIEFQSVxuICAgICAqIHZpYSBXZWJSVEMuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgYXJlIHVzaW5nIGEgYnJvd3NlciwgdGhlIHRyYW5zcG9ydCBsYXllciB3aWxsIGFsc28gYXV0b21hdGljYWxseSBjb25maWd1cmUgdGhlXG4gICAgICogbWljcm9waG9uZSBhbmQgYXVkaW8gb3V0cHV0IHRvIGJlIHVzZWQgYnkgdGhlIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLnN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jc3RhdGUuc3RhdHVzID09PSAnY29ubmVjdGluZycpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdSZWFsdGltZSBjb25uZWN0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MuIFBsZWFzZSBhd2FpdCBvcmlnaW5hbCBwcm9taXNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZWwgPSBvcHRpb25zLm1vZGVsID8/IHRoaXMuY3VycmVudE1vZGVsO1xuICAgICAgICB0aGlzLmN1cnJlbnRNb2RlbCA9IG1vZGVsO1xuICAgICAgICBjb25zdCBiYXNlVXJsID0gb3B0aW9ucy51cmwgPz8gdGhpcy4jdXJsO1xuICAgICAgICBjb25zdCBhcGlLZXkgPSBhd2FpdCB0aGlzLl9nZXRBcGlLZXkob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGlzQ2xpZW50S2V5ID0gdHlwZW9mIGFwaUtleSA9PT0gJ3N0cmluZycgJiYgYXBpS2V5LnN0YXJ0c1dpdGgoJ2VrXycpO1xuICAgICAgICBpZiAoaXNCcm93c2VyRW52aXJvbm1lbnQoKSAmJiAhdGhpcy4jdXNlSW5zZWN1cmVBcGlLZXkgJiYgIWlzQ2xpZW50S2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdVc2luZyB0aGUgV2ViUlRDIGNvbm5lY3Rpb24gaW4gYSBicm93c2VyIGVudmlyb25tZW50IHJlcXVpcmVzIGFuIGVwaGVtZXJhbCBjbGllbnQga2V5LiBJZiB5b3UgbmVlZCB0byB1c2UgYSByZWd1bGFyIEFQSSBrZXksIHVzZSB0aGUgV2ViU29ja2V0IHRyYW5zcG9ydCBvciBzZXQgdGhlIGB1c2VJbnNlY3VyZUFwaUtleWAgb3B0aW9uIHRvIHRydWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFzeW5jLXByb21pc2UtZXhlY3V0b3JcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlclNlc3Npb25Db25maWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLihvcHRpb25zLmluaXRpYWxTZXNzaW9uQ29uZmlnIHx8IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHRoaXMuY3VycmVudE1vZGVsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvblVybCA9IG5ldyBVUkwoYmFzZVVybCk7XG4gICAgICAgICAgICAgICAgbGV0IHBlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUNoYW5uZWwgPSBwZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbCgnb2FpLWV2ZW50cycpO1xuICAgICAgICAgICAgICAgIGxldCBjYWxsSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Nvbm5lY3RpbmcnLFxuICAgICAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxJZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlbmRpbmcgdGhlIHNlc3Npb24gY29uZmlnIGFnYWluIGhlcmUgb25jZSB0aGUgY2hhbm5lbCBpcyBjb25uZWN0ZWQgdG8gZW5zdXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgdGhlIHNlc3Npb24gY29uZmlnIGlzIHNlbnQgdG8gdGhlIHNlcnZlciBiZWZvcmUgdGhlIGZpcnN0IHJlc3BvbnNlIGlzIHJlY2VpdmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldHRpbmcgaXQgb24gY29ubmVjdGlvbiBzaG91bGQgd29yayBidXQgdGhlIGNvbmZpZyBpcyBub3QgYmVpbmcgdmFsaWRhdGVkIG9uIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBzZXJ2ZXIuIFRoaXMgdHJpZ2dlcnMgYSB2YWxpZGF0aW9uIGVycm9yIGlmIHRoZSBjb25maWcgaXMgbm90IHZhbGlkLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNlc3Npb25Db25maWcodXNlclNlc3Npb25Db25maWcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25PcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25NZXNzYWdlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBwYXJzZWQsIGlzR2VuZXJpYyB9ID0gcGFyc2VSZWFsdGltZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJzZWQgfHwgaXNHZW5lcmljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UuY3JlYXRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5kb25lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jb25nb2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnc2Vzc2lvbi5jcmVhdGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhY2luZ0NvbmZpZyA9IHBhcnNlZC5zZXNzaW9uLnRyYWNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnlpbmcgdG8gdHVybiBvbiB0cmFjaW5nIGFmdGVyIHRoZSBzZXNzaW9uIGlzIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVRyYWNpbmdDb25maWcodXNlclNlc3Npb25Db25maWcudHJhY2luZyA/PyAnYXV0bycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gc2V0IHVwIGF1ZGlvIHBsYXliYWNrXG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW9FbGVtZW50ID0gdGhpcy5vcHRpb25zLmF1ZGlvRWxlbWVudCA/PyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24ub250cmFjayA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0VsZW1lbnQuc3JjT2JqZWN0ID0gZXZlbnQuc3RyZWFtc1swXTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGdldCBtaWNyb3Bob25lIHN0cmVhbVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMub3B0aW9ucy5tZWRpYVN0cmVhbSA/P1xuICAgICAgICAgICAgICAgICAgICAoYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5hZGRUcmFjayhzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jaGFuZ2VQZWVyQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm9wdGlvbnMuY2hhbmdlUGVlckNvbm5lY3Rpb24ocGVlckNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNzdGF0ZSA9IHsgLi4udGhpcy4jc3RhdGUsIHBlZXJDb25uZWN0aW9uIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZmVyID0gYXdhaXQgcGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBwZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9mZmVyLnNkcCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgb2ZmZXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc2RwUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjb25uZWN0aW9uVXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBvZmZlci5zZHAsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vc2RwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthcGlLZXl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdYLU9wZW5BSS1BZ2VudHMtU0RLJzogSEVBREVSU1snWC1PcGVuQUktQWdlbnRzLVNESyddLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNhbGxJZCA9IHNkcFJlc3BvbnNlLmhlYWRlcnM/LmdldCgnTG9jYXRpb24nKT8uc3BsaXQoJy8nKS5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLiNzdGF0ZSA9IHsgLi4udGhpcy4jc3RhdGUsIGNhbGxJZCB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuc3dlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Fuc3dlcicsXG4gICAgICAgICAgICAgICAgICAgIHNkcDogYXdhaXQgc2RwUmVzcG9uc2UudGV4dCgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYXdhaXQgcGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oYW5zd2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBldmVudCB0byB0aGUgUmVhbHRpbWUgQVBJLiBUaGlzIHdpbGwgc3RyaW5naWZ5IHRoZSBldmVudCBhbmQgc2VuZCBpdCBkaXJlY3RseSB0byB0aGVcbiAgICAgKiBBUEkuIFRoaXMgY2FuIGJlIHVzZWQgaWYgeW91IHdhbnQgdG8gdGFrZSBjb250cm9sIG92ZXIgdGhlIGNvbm5lY3Rpb24gYW5kIHNlbmQgZXZlbnRzIG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRvIHNlbmQuXG4gICAgICovXG4gICAgc2VuZEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy4jc3RhdGUuZGF0YUNoYW5uZWwgfHxcbiAgICAgICAgICAgIHRoaXMuI3N0YXRlLmRhdGFDaGFubmVsLnJlYWR5U3RhdGUgIT09ICdvcGVuJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJSVEMgZGF0YSBjaGFubmVsIGlzIG5vdCBjb25uZWN0ZWQuIE1ha2Ugc3VyZSB5b3UgY2FsbCBgY29ubmVjdCgpYCBiZWZvcmUgc2VuZGluZyBldmVudHMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhdGUuZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeShldmVudCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdXRlIG9yIHVubXV0ZSB0aGUgc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0gbXV0ZWQgLSBXaGV0aGVyIHRvIG11dGUgdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgbXV0ZShtdXRlZCkge1xuICAgICAgICB0aGlzLiNtdXRlZCA9IG11dGVkO1xuICAgICAgICBpZiAodGhpcy4jc3RhdGUucGVlckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHBlZXJDb25uZWN0aW9uID0gdGhpcy4jc3RhdGUucGVlckNvbm5lY3Rpb247XG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZm9yRWFjaCgoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbmRlci50cmFjaykge1xuICAgICAgICAgICAgICAgICAgICBzZW5kZXIudHJhY2suZW5hYmxlZCA9ICFtdXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY29ubmVjdGlvbiB0byB0aGUgUmVhbHRpbWUgQVBJIGFuZCBkaXNjb25uZWN0cyB0aGUgdW5kZXJseWluZyBXZWJSVEMgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLmRhdGFDaGFubmVsKSB7XG4gICAgICAgICAgICB0aGlzLiNzdGF0ZS5kYXRhQ2hhbm5lbC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiNzdGF0ZS5wZWVyQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgcGVlckNvbm5lY3Rpb24gPSB0aGlzLiNzdGF0ZS5wZWVyQ29ubmVjdGlvbjtcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5mb3JFYWNoKChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgICAgICBzZW5kZXIudHJhY2s/LnN0b3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jc3RhdGUuc3RhdHVzICE9PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY2FsbElkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9uX2NoYW5nZScsIHRoaXMuI3N0YXRlLnN0YXR1cyk7XG4gICAgICAgICAgICB0aGlzLl9vbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJydXB0IHRoZSBjdXJyZW50IHJlc3BvbnNlIGlmIG9uZSBpcyBvbmdvaW5nIGFuZCBjbGVhciB0aGUgYXVkaW8gYnVmZmVyIHNvIHRoYXQgdGhlIGFnZW50XG4gICAgICogc3RvcHMgdGFsa2luZy5cbiAgICAgKi9cbiAgICBpbnRlcnJ1cHQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNvbmdvaW5nUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2UuY2FuY2VsJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy4jb25nb2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ291dHB1dF9hdWRpb19idWZmZXIuY2xlYXInLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGVuYWlSZWFsdGltZVdlYlJ0Yy5tanMubWFwIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZG9tXCIgLz5cbmV4cG9ydCBjb25zdCBXZWJTb2NrZXQgPSBnbG9iYWxUaGlzLldlYlNvY2tldDtcbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXJFbnZpcm9ubWVudCgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBjb25zdCB1c2VXZWJTb2NrZXRQcm90b2NvbHMgPSB0cnVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hpbXMtYnJvd3Nlci5tanMubWFwIiwiaW1wb3J0IHsgaXNCcm93c2VyRW52aXJvbm1lbnQsIHVzZVdlYlNvY2tldFByb3RvY29scywgV2ViU29ja2V0LCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLXJlYWx0aW1lL19zaGltcyc7XG5pbXBvcnQgeyBPcGVuQUlSZWFsdGltZUJhc2UsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qc1wiO1xuaW1wb3J0IHsgYmFzZTY0VG9BcnJheUJ1ZmZlciwgSEVBREVSUywgV0VCU09DS0VUX01FVEEgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuaW1wb3J0IHsgcGFyc2VSZWFsdGltZUV2ZW50IH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzXCI7XG4vKipcbiAqIFRyYW5zcG9ydCBsYXllciB0aGF0J3MgaGFuZGxpbmcgdGhlIGNvbm5lY3Rpb24gYmV0d2VlbiB0aGUgY2xpZW50IGFuZCBPcGVuQUkncyBSZWFsdGltZSBBUElcbiAqIHZpYSBXZWJTb2NrZXRzLiBXaGlsZSB0aGlzIHRyYW5zcG9ydCBsYXllciBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIHdpdGhpbiBhIFJlYWx0aW1lU2Vzc2lvbiwgaXRcbiAqIGNhbiBhbHNvIGJlIHVzZWQgc3RhbmRhbG9uZSBpZiB5b3Ugd2FudCB0byBoYXZlIGEgZGlyZWN0IGNvbm5lY3Rpb24gdG8gdGhlIFJlYWx0aW1lIEFQSS5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5BSVJlYWx0aW1lV2ViU29ja2V0IGV4dGVuZHMgT3BlbkFJUmVhbHRpbWVCYXNlIHtcbiAgICAjYXBpS2V5O1xuICAgICN1cmw7XG4gICAgI3N0YXRlID0ge1xuICAgICAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnLFxuICAgICAgICB3ZWJzb2NrZXQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgICN1c2VJbnNlY3VyZUFwaUtleTtcbiAgICAjY3VycmVudEl0ZW1JZDtcbiAgICAjY3VycmVudEF1ZGlvQ29udGVudEluZGV4O1xuICAgIC8qKlxuICAgICAqIFRpbWVzdGFtcCBtYWludGFpbmVkIGJ5IHRoZSB0cmFuc3BvcnQgbGF5ZXIgdG8gYWlkIHdpdGggdGhlIGNhbGN1bGF0aW9uIG9mIHRoZSBlbGFwc2VkIHRpbWVcbiAgICAgKiBzaW5jZSB0aGUgcmVzcG9uc2Ugc3RhcnRlZCB0byBjb21wdXRlIHRoZSByaWdodCBpbnRlcnJ1cHRpb24gdGltZS5cbiAgICAgKlxuICAgICAqIE1vc3RseSBpbnRlcm5hbCBidXQgbWlnaHQgYmUgdXNlZCBieSBleHRlbmRlZCB0cmFuc3BvcnQgbGF5ZXJzIGZvciB0aGVpciBpbnRlcnJ1cHRpb25cbiAgICAgKiBjYWxjdWxhdGlvbi5cbiAgICAgKi9cbiAgICBfZmlyc3RBdWRpb1RpbWVzdGFtcDtcbiAgICBfYXVkaW9MZW5ndGhNcyA9IDA7XG4gICAgI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICNjcmVhdGVXZWJTb2NrZXQ7XG4gICAgI3NraXBPcGVuRXZlbnRMaXN0ZW5lcnM7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLiN1cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgdGhpcy4jdXNlSW5zZWN1cmVBcGlLZXkgPSBvcHRpb25zLnVzZUluc2VjdXJlQXBpS2V5ID8/IGZhbHNlO1xuICAgICAgICB0aGlzLiNjcmVhdGVXZWJTb2NrZXQgPSBvcHRpb25zLmNyZWF0ZVdlYlNvY2tldDtcbiAgICAgICAgdGhpcy4jc2tpcE9wZW5FdmVudExpc3RlbmVycyA9IG9wdGlvbnMuc2tpcE9wZW5FdmVudExpc3RlbmVycyA/PyBmYWxzZTtcbiAgICB9XG4gICAgZ2V0Q29tbW9uUmVxdWVzdEhlYWRlcnMoKSB7XG4gICAgICAgIHJldHVybiBIRUFERVJTO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdGF0ZS5zdGF0dXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGNvbm5lY3Rpb24gc3RhdGUgb2YgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uLlxuICAgICAqL1xuICAgIGdldCBjb25uZWN0aW9uU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWx3YXlzIHJldHVybnMgYG51bGxgIGFzIHRoZSBXZWJTb2NrZXQgdHJhbnNwb3J0IGxheWVyIGRvZXMgbm90IGhhbmRsZSBtdXRpbmcuIEluc3RlYWQsXG4gICAgICogdGhpcyBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGUgY2xpZW50IGJ5IG5vdCB0cmlnZ2VyaW5nIHRoZSBgc2VuZEF1ZGlvYCBtZXRob2QuXG4gICAgICovXG4gICAgZ2V0IG11dGVkKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgaXRlbSBJRCBvZiB0aGUgb25nb2luZyByZXNwb25zZS5cbiAgICAgKi9cbiAgICBnZXQgY3VycmVudEl0ZW1JZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2N1cnJlbnRJdGVtSWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIHRoZSBgYXVkaW9gIGV2ZW50IHRoYXQgYSBjbGllbnQgbWlnaHQgbGlzdGVuIHRvIHRvIHJlY2VpdmUgdGhlIGF1ZGlvIGJ1ZmZlci5cbiAgICAgKiBQcm90ZWN0ZWQgZm9yIHlvdSB0byBiZSBhYmxlIHRvIG92ZXJyaWRlIGFuZCBkaXNhYmxlIGVtaXR0aW5nIHRoaXMgZXZlbnQgaW4gY2FzZSB5b3VyIGV4dGVuZGVkXG4gICAgICogdHJhbnNwb3J0IGxheWVyIGhhbmRsZXMgYXVkaW8gaW50ZXJuYWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhdWRpb0V2ZW50IC0gVGhlIGF1ZGlvIGV2ZW50IHRvIGVtaXQuXG4gICAgICovXG4gICAgX29uQXVkaW8oYXVkaW9FdmVudCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2F1ZGlvJywgYXVkaW9FdmVudCk7XG4gICAgfVxuICAgIGFzeW5jICNzZXR1cFdlYlNvY2tldChyZXNvbHZlLCByZWplY3QsIHNlc3Npb25Db25maWcpIHtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLndlYnNvY2tldCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy4jYXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdBUEkga2V5IGlzIG5vdCBzZXQuIFBsZWFzZSBjYWxsIGBjb25uZWN0KClgIHdpdGggYW4gQVBJIGtleSBmaXJzdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCcm93c2VyRW52aXJvbm1lbnQoKSAmJlxuICAgICAgICAgICAgIXRoaXMuI2FwaUtleS5zdGFydHNXaXRoKCdla18nKSAmJlxuICAgICAgICAgICAgIXRoaXMuI3VzZUluc2VjdXJlQXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKCdVc2luZyB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gaW4gYSBicm93c2VyIGVudmlyb25tZW50IHJlcXVpcmVzIGFuIGVwaGVtZXJhbCBjbGllbnQga2V5LiBJZiB5b3UgaGF2ZSB0byB1c2UgYSByZWd1bGFyIEFQSSBrZXksIHNldCB0aGUgYHVzZUluc2VjdXJlQXBpS2V5YCBvcHRpb24gdG8gdHJ1ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd3MgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy4jY3JlYXRlV2ViU29ja2V0KSB7XG4gICAgICAgICAgICB3cyA9IGF3YWl0IHRoaXMuI2NyZWF0ZVdlYlNvY2tldCh7XG4gICAgICAgICAgICAgICAgdXJsOiB0aGlzLiN1cmwsXG4gICAgICAgICAgICAgICAgYXBpS2V5OiB0aGlzLiNhcGlLZXksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGJyb3dzZXJzIGFuZCB3b3JrZXJkIHNob3VsZCB1c2UgdGhlIHByb3RvY29scyBhcmd1bWVudCwgbm9kZSBzaG91bGQgdXNlIHRoZSBoZWFkZXJzIGFyZ3VtZW50XG4gICAgICAgICAgICBjb25zdCB3ZWJzb2NrZXRBcmd1bWVudHMgPSB1c2VXZWJTb2NrZXRQcm90b2NvbHNcbiAgICAgICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAgICAgJ3JlYWx0aW1lJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gQXV0aFxuICAgICAgICAgICAgICAgICAgICAnb3BlbmFpLWluc2VjdXJlLWFwaS1rZXkuJyArIHRoaXMuI2FwaUtleSxcbiAgICAgICAgICAgICAgICAgICAgLy8gVmVyc2lvbiBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgV0VCU09DS0VUX01FVEEsXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4jYXBpS2V5fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmdldENvbW1vblJlcXVlc3RIZWFkZXJzKCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdzID0gbmV3IFdlYlNvY2tldCh0aGlzLiN1cmwsIHdlYnNvY2tldEFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICBzdGF0dXM6ICdjb25uZWN0aW5nJyxcbiAgICAgICAgICAgIHdlYnNvY2tldDogd3MsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICBjb25zdCBvblNvY2tldE9wZW5SZWFkeSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Nvbm5lY3RlZCcsXG4gICAgICAgICAgICAgICAgd2Vic29ja2V0OiB3cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgIHRoaXMuX29uT3BlbigpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy4jc2tpcE9wZW5FdmVudExpc3RlbmVycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgb25Tb2NrZXRPcGVuUmVhZHkoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCBvblNvY2tldE9wZW5SZWFkeSk7XG4gICAgICAgIH1cbiAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICB3ZWJzb2NrZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgICB3cy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogcGFyc2VkLCBpc0dlbmVyaWMgfSA9IHBhcnNlUmVhbHRpbWVFdmVudChtZXNzYWdlKTtcbiAgICAgICAgICAgIGlmICghcGFyc2VkIHx8IGlzR2VuZXJpYykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF9hdWRpby5kZWx0YScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50QXVkaW9Db250ZW50SW5kZXggPSBwYXJzZWQuY29udGVudF9pbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50SXRlbUlkID0gcGFyc2VkLml0ZW1faWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZpcnN0QXVkaW9UaW1lc3RhbXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVzcG9uc2Ugc3RhcnQgdGltZXN0YW1wIGlzIG5vdCBzZXQsIHdlIHNldCBpdCB0byB0aGUgY3VycmVudCB0aW1lLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBlbGFwc2VkIHRpbWUgZm9yIGludGVycnVwdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyc3RBdWRpb1RpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBidWZmID0gYmFzZTY0VG9BcnJheUJ1ZmZlcihwYXJzZWQuZGVsdGEpO1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgYXVkaW8gbGVuZ3RoIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgICAgIC8vIEdBIGZvcm1hdDogc2Vzc2lvbi5hdWRpby5vdXRwdXQuZm9ybWF0IHN1cHBvcnRzIHN0cnVjdHVyZWQgeyB0eXBlOiBcImF1ZGlvL3BjbVwiLCByYXRlIH0gb3IgXCJhdWRpby9wY211XCIgZXRjLlxuICAgICAgICAgICAgICAgIGNvbnN0IGZtdCA9IHRoaXMuX3Jhd1Nlc3Npb25Db25maWc/LmF1ZGlvPy5vdXRwdXQ/LmZvcm1hdDtcbiAgICAgICAgICAgICAgICBpZiAoZm10ICYmIHR5cGVvZiBmbXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0cnVjdHVyZWQgZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBmbXQudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09ICdhdWRpby9wY211JyB8fCB0ID09PSAnYXVkaW8vcGNtYScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDhrSHosIDEgYnl0ZSBwZXIgc2FtcGxlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zICs9IGJ1ZmYuYnl0ZUxlbmd0aCAvIDg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodCA9PT0gJ2F1ZGlvL3BjbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGUgPSBmbXQucmF0ZSA/PyAyNDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ5dGVzIC0+IHNhbXBsZXMgKDIgYnl0ZXMgcGVyIHNhbXBsZSkgLT4gbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgKz0gKGJ1ZmYuYnl0ZUxlbmd0aCAvIDIgLyByYXRlKSAqIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayBhc3N1bXB0aW9uIHNpbWlsYXIgdG8gbGVnYWN5XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zICs9IGJ1ZmYuYnl0ZUxlbmd0aCAvIDI0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZm10ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm10LnN0YXJ0c1dpdGgoJ2c3MTFfJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgKz0gYnVmZi5ieXRlTGVuZ3RoIC8gODtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFzc3VtZSAyNGtIeiBQQ00xNlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyArPSBidWZmLmJ5dGVMZW5ndGggLyAyNCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gMjRrSHogUENNMTYgYmVoYXZpb3IgaWYgdW5zcGVjaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyArPSBidWZmLmJ5dGVMZW5ndGggLyAyNCAvIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvRXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhdWRpbycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGJ1ZmYsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHBhcnNlZC5yZXNwb25zZV9pZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuX29uQXVkaW8oYXVkaW9FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJzZWQudHlwZSA9PT0gJ2lucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RhcnRlZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRvbWF0aWNSZXNwb25zZUNhbmNlbGxhdGlvbkVuYWJsZWQgPSB0aGlzLl9yYXdTZXNzaW9uQ29uZmlnPy5hdWRpbz8uaW5wdXQ/LnR1cm5fZGV0ZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgID8uaW50ZXJydXB0X3Jlc3BvbnNlID8/IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJydXB0KCFhdXRvbWF0aWNSZXNwb25zZUNhbmNlbGxhdGlvbkVuYWJsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5jcmVhdGVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmRvbmUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jb25nb2luZ1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Nlc3Npb24uY3JlYXRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFjaW5nQ29uZmlnID0gcGFyc2VkLnNlc3Npb24udHJhY2luZztcbiAgICAgICAgICAgICAgICAvLyBUcnlpbmcgdG8gdHVybiBvbiB0cmFjaW5nIGFmdGVyIHRoZSBzZXNzaW9uIGlzIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVUcmFjaW5nQ29uZmlnKHNlc3Npb25Db25maWcudHJhY2luZyA/PyAnYXV0bycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnLFxuICAgICAgICAgICAgICAgIHdlYnNvY2tldDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy5fb25DbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gb3B0aW9ucy5tb2RlbCA/PyB0aGlzLmN1cnJlbnRNb2RlbDtcbiAgICAgICAgdGhpcy5jdXJyZW50TW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy4jYXBpS2V5ID0gYXdhaXQgdGhpcy5fZ2V0QXBpS2V5KG9wdGlvbnMpO1xuICAgICAgICBjb25zdCB1cmwgPSBvcHRpb25zLnVybCA/P1xuICAgICAgICAgICAgdGhpcy4jdXJsID8/XG4gICAgICAgICAgICBgd3NzOi8vYXBpLm9wZW5haS5jb20vdjEvcmVhbHRpbWU/bW9kZWw9JHt0aGlzLmN1cnJlbnRNb2RlbH1gO1xuICAgICAgICB0aGlzLiN1cmwgPSB1cmw7XG4gICAgICAgIGNvbnN0IHNlc3Npb25Db25maWcgPSB7XG4gICAgICAgICAgICAuLi4ob3B0aW9ucy5pbml0aWFsU2Vzc2lvbkNvbmZpZyB8fCB7fSksXG4gICAgICAgICAgICBtb2RlbDogdGhpcy5jdXJyZW50TW9kZWwsXG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3NldHVwV2ViU29ja2V0KHJlc29sdmUsIHJlamVjdCwgc2Vzc2lvbkNvbmZpZykuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMudXBkYXRlU2Vzc2lvbkNvbmZpZyhzZXNzaW9uQ29uZmlnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBldmVudCB0byB0aGUgUmVhbHRpbWUgQVBJLiBUaGlzIHdpbGwgc3RyaW5naWZ5IHRoZSBldmVudCBhbmQgc2VuZCBpdCBkaXJlY3RseSB0byB0aGVcbiAgICAgKiBBUEkuIFRoaXMgY2FuIGJlIHVzZWQgaWYgeW91IHdhbnQgdG8gdGFrZSBjb250cm9sIG92ZXIgdGhlIGNvbm5lY3Rpb24gYW5kIHNlbmQgZXZlbnRzIG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRvIHNlbmQuXG4gICAgICovXG4gICAgc2VuZEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy4jc3RhdGUud2Vic29ja2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYlNvY2tldCBpcyBub3QgY29ubmVjdGVkLiBNYWtlIHN1cmUgeW91IGNhbGwgYGNvbm5lY3QoKWAgYmVmb3JlIHNlbmRpbmcgZXZlbnRzLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3N0YXRlLndlYnNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KGV2ZW50KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgd2lsbCBhbHNvIHJlc2V0IGFueSBpbnRlcm5hbCBjb25uZWN0aW9uIHRyYWNraW5nIHVzZWQgZm9yIGludGVycnVwdGlvbiBoYW5kbGluZy5cbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy4jc3RhdGUud2Vic29ja2V0Py5jbG9zZSgpO1xuICAgICAgICB0aGlzLiNjdXJyZW50SXRlbUlkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9maXJzdEF1ZGlvVGltZXN0YW1wID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zID0gMDtcbiAgICAgICAgdGhpcy4jY3VycmVudEF1ZGlvQ29udGVudEluZGV4ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWxsIHRocm93IGFuIGVycm9yIGFzIHRoZSBXZWJTb2NrZXQgdHJhbnNwb3J0IGxheWVyIGRvZXMgbm90IHN1cHBvcnQgbXV0aW5nLlxuICAgICAqL1xuICAgIG11dGUoX211dGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTXV0ZSBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGUgV2ViU29ja2V0IHRyYW5zcG9ydC4gWW91IGhhdmUgdG8gbXV0ZSB0aGUgYXVkaW8gaW5wdXQgeW91cnNlbGYuJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gYXVkaW8gYnVmZmVyIHRvIHRoZSBSZWFsdGltZSBBUEkuIFRoaXMgaXMgdXNlZCBmb3IgeW91ciBjbGllbnQgdG8gc2VuZCBhdWRpbyB0byB0aGVcbiAgICAgKiBtb2RlbCB0byByZXNwb25kLlxuICAgICAqXG4gICAgICogQHBhcmFtIGF1ZGlvIC0gVGhlIGF1ZGlvIGJ1ZmZlciB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBhdWRpbyBidWZmZXIuXG4gICAgICovXG4gICAgc2VuZEF1ZGlvKGF1ZGlvLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLnN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRBdWRpbyhhdWRpbywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIGNhbmNlbCByZXNwb25zZSBldmVudCB0byB0aGUgUmVhbHRpbWUgQVBJLiBUaGlzIGlzIHVzZWQgdG8gY2FuY2VsIGFuIG9uZ29pbmdcbiAgICAgKiAgcmVzcG9uc2UgdGhhdCB0aGUgbW9kZWwgaXMgY3VycmVudGx5IGdlbmVyYXRpbmcuXG4gICAgICovXG4gICAgX2NhbmNlbFJlc3BvbnNlKCkge1xuICAgICAgICAvLyBjYW5jZWwgdGhlIG9uZ29pbmcgcmVzcG9uc2VcbiAgICAgICAgaWYgKHRoaXMuI29uZ29pbmdSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZS5jYW5jZWwnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiNvbmdvaW5nUmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEbyBOT1QgY2FsbCB0aGlzIG1ldGhvZCBkaXJlY3RseS4gQ2FsbCBgaW50ZXJydXB0KClgIGluc3RlYWQgZm9yIHByb3BlciBpbnRlcnJ1cHRpb24gaGFuZGxpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHNlbmQgdGhlIHJpZ2h0IGV2ZW50cyB0byB0aGUgQVBJIHRvIGluZm9ybSB0aGUgbW9kZWwgdGhhdCB0aGUgdXNlciBoYXNcbiAgICAgKiBpbnRlcnJ1cHRlZCB0aGUgcmVzcG9uc2UuIEl0IG1pZ2h0IGJlIG92ZXJyaWRkZW4vZXh0ZW5kZWQgYnkgYW4gZXh0ZW5kZWQgdHJhbnNwb3J0IGxheWVyLiBTZWVcbiAgICAgKiB0aGUgYFR3aWxpb1JlYWx0aW1lVHJhbnNwb3J0TGF5ZXJgIGZvciBhbiBleGFtcGxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsYXBzZWRUaW1lIC0gVGhlIGVsYXBzZWQgdGltZSBzaW5jZSB0aGUgcmVzcG9uc2Ugc3RhcnRlZC5cbiAgICAgKi9cbiAgICBfaW50ZXJydXB0KGVsYXBzZWRUaW1lLCBjYW5jZWxPbmdvaW5nUmVzcG9uc2UgPSB0cnVlKSB7XG4gICAgICAgIGlmIChlbGFwc2VkVGltZSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbW1lZGlhdGVseSBlbWl0IHRoaXMgZXZlbnQgc28gdGhlIGNsaWVudCBjYW4gc3RvcCBwbGF5aW5nIGF1ZGlvXG4gICAgICAgIGlmIChjYW5jZWxPbmdvaW5nUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbFJlc3BvbnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5fYXVkaW9MZW5ndGhNcyA/PyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIC8vIGF1ZGlvX2VuZF9tcyBtdXN0IGJlIGFuIGludGVnZXJcbiAgICAgICAgY29uc3QgYXVkaW9fZW5kX21zID0gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihNYXRoLm1pbihlbGFwc2VkVGltZSwgbGVuZ3RoKSkpO1xuICAgICAgICB0aGlzLmVtaXQoJ2F1ZGlvX2ludGVycnVwdGVkJyk7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZScsXG4gICAgICAgICAgICBpdGVtX2lkOiB0aGlzLiNjdXJyZW50SXRlbUlkLFxuICAgICAgICAgICAgY29udGVudF9pbmRleDogdGhpcy4jY3VycmVudEF1ZGlvQ29udGVudEluZGV4LFxuICAgICAgICAgICAgYXVkaW9fZW5kX21zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJydXB0IHRoZSBvbmdvaW5nIHJlc3BvbnNlLiBUaGlzIG1ldGhvZCBpcyB0cmlnZ2VyZWQgYXV0b21hdGljYWxseSBieSB0aGUgY2xpZW50IHdoZW5cbiAgICAgKiB2b2ljZSBhY3Rpdml0eSBkZXRlY3Rpb24gKFZBRCkgaXMgZW5hYmxlZCAoZGVmYXVsdCkgYXMgd2VsbCBhcyB3aGVuIGFuIG91dHB1dCBndWFyZHJhaWwgZ290XG4gICAgICogdHJpZ2dlcmVkLlxuICAgICAqXG4gICAgICogWW91IGNhbiBhbHNvIGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHkgaWYgeW91IHdhbnQgdG8gaW50ZXJydXB0IHRoZSBjb252ZXJzYXRpb24gZm9yIGV4YW1wbGVcbiAgICAgKiBiYXNlZCBvbiBhbiBldmVudCBpbiB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGludGVycnVwdChjYW5jZWxPbmdvaW5nUmVzcG9uc2UgPSB0cnVlKSB7XG4gICAgICAgIGlmICghdGhpcy4jY3VycmVudEl0ZW1JZCB8fCB0eXBlb2YgdGhpcy5fZmlyc3RBdWRpb1RpbWVzdGFtcCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IERhdGUubm93KCkgLSB0aGlzLl9maXJzdEF1ZGlvVGltZXN0YW1wO1xuICAgICAgICBpZiAoZWxhcHNlZFRpbWUgPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJydXB0KGVsYXBzZWRUaW1lLCBjYW5jZWxPbmdvaW5nUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2N1cnJlbnRJdGVtSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2ZpcnN0QXVkaW9UaW1lc3RhbXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgPSAwO1xuICAgICAgICB0aGlzLiNjdXJyZW50QXVkaW9Db250ZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpUmVhbHRpbWVXZWJzb2NrZXQubWpzLm1hcCIsImltcG9ydCB7IFVzZXJFcnJvciwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmV4cG9ydCBjb25zdCBCQUNLR1JPVU5EX1JFU1VMVF9TWU1CT0wgPSBTeW1ib2woJ2JhY2tncm91bmRSZXN1bHQnKTtcbmV4cG9ydCBmdW5jdGlvbiBiYWNrZ3JvdW5kUmVzdWx0KGNvbnRlbnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBbQkFDS0dST1VORF9SRVNVTFRfU1lNQk9MXTogdHJ1ZSxcbiAgICAgICAgY29udGVudCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQmFja2dyb3VuZFJlc3VsdChyZXN1bHQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHJlc3VsdCAhPT0gbnVsbCAmJlxuICAgICAgICBCQUNLR1JPVU5EX1JFU1VMVF9TWU1CT0wgaW4gcmVzdWx0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkUmVhbHRpbWVUb29sKHRvb2wpIHtcbiAgICByZXR1cm4gKHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAodG9vbC50eXBlID09PSAnaG9zdGVkX3Rvb2wnICYmIHRvb2wubmFtZSA9PT0gJ2hvc3RlZF9tY3AnKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9SZWFsdGltZVRvb2xEZWZpbml0aW9uKHRvb2wpIHtcbiAgICBpZiAodG9vbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0b29sO1xuICAgIH1cbiAgICBpZiAodG9vbC50eXBlID09PSAnaG9zdGVkX3Rvb2wnICYmIHRvb2wubmFtZSA9PT0gJ2hvc3RlZF9tY3AnKSB7XG4gICAgICAgIGNvbnN0IHNlcnZlclVybCA9IHRvb2wucHJvdmlkZXJEYXRhLnNlcnZlcl91cmwgJiYgdG9vbC5wcm92aWRlckRhdGEuc2VydmVyX3VybC5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IHRvb2wucHJvdmlkZXJEYXRhLnNlcnZlcl91cmxcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ21jcCcsXG4gICAgICAgICAgICBzZXJ2ZXJfbGFiZWw6IHRvb2wucHJvdmlkZXJEYXRhLnNlcnZlcl9sYWJlbCxcbiAgICAgICAgICAgIHNlcnZlcl91cmw6IHNlcnZlclVybCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRvb2wucHJvdmlkZXJEYXRhLmhlYWRlcnMsXG4gICAgICAgICAgICBhbGxvd2VkX3Rvb2xzOiB0b29sLnByb3ZpZGVyRGF0YS5hbGxvd2VkX3Rvb2xzLFxuICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogdG9vbC5wcm92aWRlckRhdGEucmVxdWlyZV9hcHByb3ZhbCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgSW52YWxpZCB0b29sIHR5cGU6ICR7dG9vbH1gKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvb2wubWpzLm1hcCIsImltcG9ydCB7IGdldFRyYW5zZmVyTWVzc2FnZSwgTW9kZWxCZWhhdmlvckVycm9yLCBPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCwgUnVuQ29udGV4dCwgUnVuVG9vbEFwcHJvdmFsSXRlbSwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmltcG9ydCB7IFJ1bnRpbWVFdmVudEVtaXR0ZXIgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5pbXBvcnQgeyBpc1pvZE9iamVjdCwgdG9TbWFydFN0cmluZyB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvdXRpbHMnO1xuaW1wb3J0IHsgZGVmaW5lUmVhbHRpbWVPdXRwdXRHdWFyZHJhaWwsIGdldFJlYWx0aW1lR3VhcmRyYWlsRmVlZGJhY2tNZXNzYWdlLCBnZXRSZWFsdGltZUd1YXJkcmFpbFNldHRpbmdzLCB9IGZyb20gXCIuL2d1YXJkcmFpbC5tanNcIjtcbmltcG9ydCB7IERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lQmFzZS5tanNcIjtcbmltcG9ydCB7IE9wZW5BSVJlYWx0aW1lV2ViUlRDIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVXZWJSdGMubWpzXCI7XG5pbXBvcnQgeyBPcGVuQUlSZWFsdGltZVdlYlNvY2tldCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lV2Vic29ja2V0Lm1qc1wiO1xuaW1wb3J0IHsgYXBwcm92YWxJdGVtVG9SZWFsdGltZUFwcHJvdmFsSXRlbSwgZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlLCBoYXNXZWJSVENTdXBwb3J0LCByZWFsdGltZUFwcHJvdmFsSXRlbVRvQXBwcm92YWxJdGVtLCB1cGRhdGVSZWFsdGltZUhpc3RvcnksIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IGlzQmFja2dyb3VuZFJlc3VsdCwgaXNWYWxpZFJlYWx0aW1lVG9vbCwgdG9SZWFsdGltZVRvb2xEZWZpbml0aW9uLCB9IGZyb20gXCIuL3Rvb2wubWpzXCI7XG5mdW5jdGlvbiBjbG9uZURlZmF1bHRTZXNzaW9uQ29uZmlnKCkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHKSk7XG59XG4vKipcbiAqIEEgYFJlYWx0aW1lU2Vzc2lvbmAgaXMgdGhlIGNvcm5lcnN0b25lIG9mIGJ1aWxkaW5nIFZvaWNlIEFnZW50cy4gSXQncyB0aGUgZXF1aXZhbGVudCBvZiBhXG4gKiBSdW5uZXIgaW4gdGV4dC1iYXNlZCBhZ2VudHMgZXhjZXB0IHRoYXQgaXQgYXV0b21hdGljYWxseSBoYW5kbGVzIG11bHRpcGxlIHR1cm5zIGJ5IG1haW50YWluaW5nIGFcbiAqIGNvbm5lY3Rpb24gd2l0aCB0aGUgdW5kZXJseWluZyB0cmFuc3BvcnQgbGF5ZXIuXG4gKlxuICogVGhlIHNlc3Npb24gaGFuZGxlcyBtYW5hZ2luZyB0aGUgbG9jYWwgaGlzdG9yeSBjb3B5LCBleGVjdXRlcyB0b29scywgcnVucyBvdXRwdXQgZ3VhcmRyYWlscywgYW5kXG4gKiBmYWNpbGl0YXRlcyBoYW5kb2Zmcy5cbiAqXG4gKiBUaGUgYWN0dWFsIGF1ZGlvIGhhbmRsaW5nIGFuZCBnZW5lcmF0aW9uIG9mIG1vZGVsIHJlc3BvbnNlcyBpcyBoYW5kbGVkIGJ5IHRoZSB1bmRlcmx5aW5nXG4gKiB0cmFuc3BvcnQgbGF5ZXIuIEJ5IGRlZmF1bHQgaWYgeW91IGFyZSB1c2luZyBhIGJyb3dzZXIgd2l0aCBXZWJSVEMgc3VwcG9ydCwgdGhlIHNlc3Npb24gd2lsbFxuICogYXV0b21hdGljYWxseSB1c2UgdGhlIFdlYlJUQyB2ZXJzaW9uIG9mIHRoZSBPcGVuQUkgUmVhbHRpbWUgQVBJLiBPbiB0aGUgc2VydmVyIG9yIGlmIHlvdSBwYXNzXG4gKiBgd2Vic29ja2V0YCBhcyB0aGUgdHJhbnNwb3J0IGxheWVyLCB0aGUgc2Vzc2lvbiB3aWxsIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gdXNpbmcgV2ViU29ja2V0cy5cbiAqXG4gKiBJbiB0aGUgY2FzZSBvZiBXZWJSVEMsIGluIHRoZSBicm93c2VyLCB0aGUgdHJhbnNwb3J0IGxheWVyIHdpbGwgYWxzbyBhdXRvbWF0aWNhbGx5IGNvbmZpZ3VyZSB0aGVcbiAqIG1pY3JvcGhvbmUgYW5kIGF1ZGlvIG91dHB1dCB0byBiZSB1c2VkIGJ5IHRoZSBzZXNzaW9uLlxuICpcbiAqIFlvdSBjYW4gYWxzbyBjcmVhdGUgYSB0cmFuc3BvcnQgbGF5ZXIgaW5zdGFuY2UgeW91cnNlbGYgYW5kIHBhc3MgaXQgaW4gdG8gaGF2ZSBtb3JlIGNvbnRyb2wgb3ZlclxuICogdGhlIGNvbmZpZ3VyYXRpb24gb3IgZXZlbiBleHRlbmQgdGhlIGV4aXN0aW5nIG9uZXMuIENoZWNrIG91dCB0aGUgYFR3aWxpb1JlYWx0aW1lVHJhbnNwb3J0TGF5ZXJgXG4gKiBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdG8gY3JlYXRlIGEgY3VzdG9tIHRyYW5zcG9ydCBsYXllci5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGNvbnN0IGFnZW50ID0gbmV3IFJlYWx0aW1lQWdlbnQoe1xuICogICBuYW1lOiAnbXktYWdlbnQnLFxuICogICBpbnN0cnVjdGlvbnM6ICdZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQgdGhhdCBjYW4gYW5zd2VyIHF1ZXN0aW9ucyBhbmQgaGVscCB3aXRoIHRhc2tzLicsXG4gKiB9KVxuICpcbiAqIGNvbnN0IHNlc3Npb24gPSBuZXcgUmVhbHRpbWVTZXNzaW9uKGFnZW50KTtcbiAqIHNlc3Npb24uY29ubmVjdCh7XG4gKiAgIGFwaUtleTogJ3lvdXItYXBpLWtleScsXG4gKiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgUmVhbHRpbWVTZXNzaW9uIGV4dGVuZHMgUnVudGltZUV2ZW50RW1pdHRlciB7XG4gICAgaW5pdGlhbEFnZW50O1xuICAgIG9wdGlvbnM7XG4gICAgI3RyYW5zcG9ydDtcbiAgICAjY3VycmVudEFnZW50O1xuICAgICNjdXJyZW50VG9vbHM7XG4gICAgI2NvbnRleHQ7XG4gICAgI291dHB1dEd1YXJkcmFpbHMgPSBbXTtcbiAgICAjb3V0cHV0R3VhcmRyYWlsU2V0dGluZ3M7XG4gICAgI3RyYW5zY3JpYmVkVGV4dERlbHRhcyA9IHt9O1xuICAgICNoaXN0b3J5ID0gW107XG4gICAgI3Nob3VsZEluY2x1ZGVBdWRpb0RhdGE7XG4gICAgI2ludGVycnVwdGVkQnlHdWFyZHJhaWwgPSB7fTtcbiAgICAjYXVkaW9TdGFydGVkID0gZmFsc2U7XG4gICAgLy8gVHJhY2tzIGFsbCBNQ1AgdG9vbHMgZmV0Y2hlZCBwZXIgc2VydmVyIGxhYmVsIChmcm9tIG1jcF9saXN0X3Rvb2xzIHJlc3VsdHMpLlxuICAgICNhbGxNY3BUb29sc0J5U2VydmVyID0gbmV3IE1hcCgpO1xuICAgIC8vIFRyYWNrcyBjdXJyZW50bHkgYXZhaWxhYmxlIE1DUCB0b29scyBiYXNlZCBvbiB0aGUgYWN0aXZlIGFnZW50J3MgY29uZmlndXJlZCBzZXJ2ZXJfbGFiZWxzLlxuICAgICNhdmFpbGFibGVNY3BUb29scyA9IFtdO1xuICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBsYXN0IGZ1bGwgc2Vzc2lvbiBjb25maWcgd2Ugc2VudCAoY2FtZWxDYXNlIGtleXMpIHNvIHRoYXRcbiAgICAvLyBzdWJzZXF1ZW50IHVwZGF0ZXMgKGUuZy4gZHVyaW5nIGFnZW50IGhhbmRvZmZzKSBwcmVzZXJ2ZSBwcm9wZXJ0aWVzIHRoYXQgYXJlXG4gICAgLy8gbm90IGV4cGxpY2l0bHkgcmVjYWxjdWxhdGVkIGhlcmUgKHN1Y2ggYXMgaW5wdXRBdWRpb0Zvcm1hdCwgb3V0cHV0QXVkaW9Gb3JtYXQsXG4gICAgLy8gbW9kYWxpdGllcywgc3BlZWQsIHRvb2xDaG9pY2UsIHR1cm5EZXRlY3Rpb24sIGV0Yy4pLiBXaXRob3V0IHRoaXMsIHVwZGF0aW5nXG4gICAgLy8gdGhlIGFnZW50IHdvdWxkIGRyb3AgYXVkaW8gZm9ybWF0IG92ZXJyaWRlcyAoZS5nLiBnNzExX3VsYXcpIGFuZCByZXZlcnQgdG9cbiAgICAvLyB0cmFuc3BvcnQgZGVmYXVsdHMgY2F1c2luZyBpc3N1ZXMgZm9yIGludGVncmF0aW9ucyBsaWtlIFR3aWxpby5cbiAgICAjbGFzdFNlc3Npb25Db25maWcgPSBjbG9uZURlZmF1bHRTZXNzaW9uQ29uZmlnKCk7XG4gICAgI2F1dG9tYXRpY2FsbHlUcmlnZ2VyUmVzcG9uc2VGb3JNY3BUb29sQ2FsbHMgPSB0cnVlO1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxBZ2VudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbEFnZW50ID0gaW5pdGlhbEFnZW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAoKHR5cGVvZiBvcHRpb25zLnRyYW5zcG9ydCA9PT0gJ3VuZGVmaW5lZCcgJiYgaGFzV2ViUlRDU3VwcG9ydCgpKSB8fFxuICAgICAgICAgICAgb3B0aW9ucy50cmFuc3BvcnQgPT09ICd3ZWJydGMnKSB7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQgPSBuZXcgT3BlbkFJUmVhbHRpbWVXZWJSVEMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLnRyYW5zcG9ydCA9PT0gJ3dlYnNvY2tldCcgfHxcbiAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLnRyYW5zcG9ydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydCA9IG5ldyBPcGVuQUlSZWFsdGltZVdlYlNvY2tldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4jdHJhbnNwb3J0ID0gb3B0aW9ucy50cmFuc3BvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jY3VycmVudEFnZW50ID0gaW5pdGlhbEFnZW50O1xuICAgICAgICB0aGlzLiNjb250ZXh0ID0gbmV3IFJ1bkNvbnRleHQoe1xuICAgICAgICAgICAgLi4uKG9wdGlvbnMuY29udGV4dCA/PyB7fSksXG4gICAgICAgICAgICBoaXN0b3J5OiB0aGlzLiNoaXN0b3J5LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jb3V0cHV0R3VhcmRyYWlscyA9IChvcHRpb25zLm91dHB1dEd1YXJkcmFpbHMgPz8gW10pLm1hcChkZWZpbmVSZWFsdGltZU91dHB1dEd1YXJkcmFpbCk7XG4gICAgICAgIHRoaXMuI291dHB1dEd1YXJkcmFpbFNldHRpbmdzID0gZ2V0UmVhbHRpbWVHdWFyZHJhaWxTZXR0aW5ncyhvcHRpb25zLm91dHB1dEd1YXJkcmFpbFNldHRpbmdzID8/IHt9KTtcbiAgICAgICAgdGhpcy4jc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSA9IG9wdGlvbnMuaGlzdG9yeVN0b3JlQXVkaW8gPz8gZmFsc2U7XG4gICAgICAgIHRoaXMuI2F1dG9tYXRpY2FsbHlUcmlnZ2VyUmVzcG9uc2VGb3JNY3BUb29sQ2FsbHMgPVxuICAgICAgICAgICAgb3B0aW9ucy5hdXRvbWF0aWNhbGx5VHJpZ2dlclJlc3BvbnNlRm9yTWNwVG9vbENhbGxzID8/IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc3BvcnQgbGF5ZXIgdXNlZCBieSB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgdHJhbnNwb3J0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jdHJhbnNwb3J0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBhZ2VudCBpbiB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgY3VycmVudEFnZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY3VycmVudEFnZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCB1c2FnZSBvZiB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgdXNhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjb250ZXh0LnVzYWdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBjb250ZXh0IG9mIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY29udGV4dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgc2Vzc2lvbiBpcyBtdXRlZC4gTWlnaHQgYmUgYG51bGxgIGlmIHRoZSB1bmRlcmx5aW5nIHRyYW5zcG9ydCBsYXllciBkb2VzIG5vdFxuICAgICAqIHN1cHBvcnQgbXV0aW5nLlxuICAgICAqL1xuICAgIGdldCBtdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RyYW5zcG9ydC5tdXRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGhpc3Rvcnkgb2YgdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IGhpc3RvcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNoaXN0b3J5O1xuICAgIH1cbiAgICBnZXQgYXZhaWxhYmxlTWNwVG9vbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNhdmFpbGFibGVNY3BUb29scztcbiAgICB9XG4gICAgYXN5bmMgI3NldEN1cnJlbnRBZ2VudChhZ2VudCkge1xuICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQgPSBhZ2VudDtcbiAgICAgICAgY29uc3QgaGFuZG9mZnMgPSBhd2FpdCB0aGlzLiNjdXJyZW50QWdlbnQuZ2V0RW5hYmxlZEhhbmRvZmZzKHRoaXMuI2NvbnRleHQpO1xuICAgICAgICBjb25zdCBoYW5kb2ZmVG9vbHMgPSBoYW5kb2Zmcy5tYXAoKGhhbmRvZmYpID0+IGhhbmRvZmYuZ2V0SGFuZG9mZkFzRnVuY3Rpb25Ub29sKCkpO1xuICAgICAgICBjb25zdCBhbGxUb29scyA9IChhd2FpdCB0aGlzLiNjdXJyZW50QWdlbnQuZ2V0QWxsVG9vbHModGhpcy4jY29udGV4dCkpXG4gICAgICAgICAgICAuZmlsdGVyKGlzVmFsaWRSZWFsdGltZVRvb2wpXG4gICAgICAgICAgICAubWFwKHRvUmVhbHRpbWVUb29sRGVmaW5pdGlvbik7XG4gICAgICAgIGNvbnN0IGhhc1Rvb2xzRGVmaW5lZCA9IHR5cGVvZiB0aGlzLiNjdXJyZW50QWdlbnQudG9vbHMgIT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgdGhpcy4jY3VycmVudEFnZW50Lm1jcFNlcnZlcnMgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICBjb25zdCBoYXNIYW5kb2Zmc0RlZmluZWQgPSBoYW5kb2Zmcy5sZW5ndGggPiAwO1xuICAgICAgICB0aGlzLiNjdXJyZW50VG9vbHMgPVxuICAgICAgICAgICAgaGFzVG9vbHNEZWZpbmVkIHx8IGhhc0hhbmRvZmZzRGVmaW5lZFxuICAgICAgICAgICAgICAgID8gWy4uLmFsbFRvb2xzLCAuLi5oYW5kb2ZmVG9vbHNdXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIFJlY29tcHV0ZSBjdXJyZW50bHkgYXZhaWxhYmxlIE1DUCB0b29scyBiYXNlZCBvbiB0aGUgbmV3IGFnZW50J3MgYWN0aXZlIHNlcnZlciBsYWJlbHMuXG4gICAgICAgIHRoaXMuI3VwZGF0ZUF2YWlsYWJsZU1jcFRvb2xzKCk7XG4gICAgfVxuICAgIGFzeW5jICNnZXRTZXNzaW9uQ29uZmlnKGFkZGl0aW9uYWxDb25maWcgPSB7fSkge1xuICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSBhd2FpdCB0aGlzLiNjdXJyZW50QWdlbnQuZ2V0U3lzdGVtUHJvbXB0KHRoaXMuI2NvbnRleHQpO1xuICAgICAgICBjb25zdCB0cmFjaW5nQ29uZmlnID0gdGhpcy5vcHRpb25zXG4gICAgICAgICAgICAudHJhY2luZ0Rpc2FibGVkXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogdGhpcy5vcHRpb25zLndvcmtmbG93TmFtZVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd19uYW1lOiB0aGlzLm9wdGlvbnMud29ya2Zsb3dOYW1lLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6ICdhdXRvJztcbiAgICAgICAgaWYgKHRyYWNpbmdDb25maWcgIT09IG51bGwgJiYgdHJhY2luZ0NvbmZpZyAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmdyb3VwSWQpIHtcbiAgICAgICAgICAgICAgICB0cmFjaW5nQ29uZmlnLmdyb3VwX2lkID0gdGhpcy5vcHRpb25zLmdyb3VwSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRyYWNlTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICB0cmFjaW5nQ29uZmlnLm1ldGFkYXRhID0gdGhpcy5vcHRpb25zLnRyYWNlTWV0YWRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmdyb3VwSWQgfHwgdGhpcy5vcHRpb25zLnRyYWNlTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdJbiBvcmRlciB0byBzZXQgdHJhY2VNZXRhZGF0YSBvciBhIGdyb3VwSWQgeW91IG5lZWQgdG8gc3BlY2lmeSBhIHdvcmtmbG93TmFtZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydCBmcm9tIGFueSBwcmV2aW91c2x5LXNlbnQgY29uZmlnIChzbyB3ZSBwcmVzZXJ2ZSB2YWx1ZXMgbGlrZSBhdWRpbyBmb3JtYXRzKVxuICAgICAgICAvLyBhbmQgdGhlIG9yaWdpbmFsIG9wdGlvbnMuY29uZmlnIHByb3ZpZGVkIGJ5IHRoZSB1c2VyLiBQcmVmZXJlbmNlIG9yZGVyOlxuICAgICAgICAvLyAxLiBMYXN0IHNlc3Npb24gY29uZmlnIHdlIHNlbnQgKCNsYXN0U2Vzc2lvbkNvbmZpZylcbiAgICAgICAgLy8gMi4gT3JpZ2luYWwgb3B0aW9ucy5jb25maWdcbiAgICAgICAgLy8gMy4gQWRkaXRpb25hbCBjb25maWcgcGFzc2VkIGludG8gdGhpcyBpbnZvY2F0aW9uIChleHBsaWNpdCBvdmVycmlkZXMpXG4gICAgICAgIC8vIEZpbmFsbHkgd2Ugb3ZlcndyaXRlIGR5bmFtaWMgZmllbGRzIChpbnN0cnVjdGlvbnMsIHZvaWNlLCBtb2RlbCwgdG9vbHMsIHRyYWNpbmcpXG4gICAgICAgIC8vIHRvIGVuc3VyZSB0aGV5IGFsd2F5cyByZWZsZWN0IHRoZSBjdXJyZW50IGFnZW50ICYgcnVudGltZSBzdGF0ZS5cbiAgICAgICAgY29uc3QgYmFzZSA9IHtcbiAgICAgICAgICAgIC4uLih0aGlzLiNsYXN0U2Vzc2lvbkNvbmZpZyA/PyB7fSksXG4gICAgICAgICAgICAuLi4odGhpcy5vcHRpb25zLmNvbmZpZyA/PyB7fSksXG4gICAgICAgICAgICAuLi4oYWRkaXRpb25hbENvbmZpZyA/PyB7fSksXG4gICAgICAgIH07XG4gICAgICAgIC8vIE5vdGU6IENlcnRhaW4gZmllbGRzIGNhbm5vdCBiZSB1cGRhdGVkIGFmdGVyIHRoZSBzZXNzaW9uIGJlZ2lucywgc3VjaCBhcyB2b2ljZSBhbmQgbW9kZWxcbiAgICAgICAgY29uc3QgZnVsbENvbmZpZyA9IHtcbiAgICAgICAgICAgIC4uLmJhc2UsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICB2b2ljZTogdGhpcy4jY3VycmVudEFnZW50LnZvaWNlLFxuICAgICAgICAgICAgbW9kZWw6IHRoaXMub3B0aW9ucy5tb2RlbCxcbiAgICAgICAgICAgIHRvb2xzOiB0aGlzLiNjdXJyZW50VG9vbHMsXG4gICAgICAgICAgICB0cmFjaW5nOiB0cmFjaW5nQ29uZmlnLFxuICAgICAgICAgICAgcHJvbXB0OiB0eXBlb2YgdGhpcy4jY3VycmVudEFnZW50LnByb21wdCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgID8gYXdhaXQgdGhpcy4jY3VycmVudEFnZW50LnByb21wdCh0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQpXG4gICAgICAgICAgICAgICAgOiB0aGlzLiNjdXJyZW50QWdlbnQucHJvbXB0LFxuICAgICAgICB9O1xuICAgICAgICAvLyBVcGRhdGUgb3VyIGNhY2hlIHNvIHN1YnNlcXVlbnQgdXBkYXRlcyBpbmhlcml0IHRoZSBmdWxsIHNldCBpbmNsdWRpbmcgYW55XG4gICAgICAgIC8vIGR5bmFtaWMgZmllbGRzIHdlIGp1c3Qgb3Zlcndyb3RlLlxuICAgICAgICB0aGlzLiNsYXN0U2Vzc2lvbkNvbmZpZyA9IGZ1bGxDb25maWc7XG4gICAgICAgIHJldHVybiBmdWxsQ29uZmlnO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVBZ2VudChuZXdBZ2VudCkge1xuICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfaGFuZG9mZicsIHRoaXMuI2NvbnRleHQsIG5ld0FnZW50KTtcbiAgICAgICAgdGhpcy5lbWl0KCdhZ2VudF9oYW5kb2ZmJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCBuZXdBZ2VudCk7XG4gICAgICAgIGF3YWl0IHRoaXMuI3NldEN1cnJlbnRBZ2VudChuZXdBZ2VudCk7XG4gICAgICAgIGF3YWl0IHRoaXMuI3RyYW5zcG9ydC51cGRhdGVTZXNzaW9uQ29uZmlnKGF3YWl0IHRoaXMuI2dldFNlc3Npb25Db25maWcoKSk7XG4gICAgICAgIHJldHVybiBuZXdBZ2VudDtcbiAgICB9XG4gICAgYXN5bmMgI2hhbmRsZUhhbmRvZmYodG9vbENhbGwsIGhhbmRvZmYpIHtcbiAgICAgICAgY29uc3QgbmV3QWdlbnQgPSAoYXdhaXQgaGFuZG9mZi5vbkludm9rZUhhbmRvZmYodGhpcy4jY29udGV4dCwgdG9vbENhbGwuYXJndW1lbnRzKSk7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9oYW5kb2ZmJywgdGhpcy4jY29udGV4dCwgbmV3QWdlbnQpO1xuICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X2hhbmRvZmYnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQsIG5ld0FnZW50KTtcbiAgICAgICAgLy8gdXBkYXRlIHNlc3Npb24gd2l0aCBuZXcgYWdlbnRcbiAgICAgICAgYXdhaXQgdGhpcy4jc2V0Q3VycmVudEFnZW50KG5ld0FnZW50KTtcbiAgICAgICAgYXdhaXQgdGhpcy4jdHJhbnNwb3J0LnVwZGF0ZVNlc3Npb25Db25maWcoYXdhaXQgdGhpcy4jZ2V0U2Vzc2lvbkNvbmZpZygpKTtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gZ2V0VHJhbnNmZXJNZXNzYWdlKG5ld0FnZW50KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRGdW5jdGlvbkNhbGxPdXRwdXQodG9vbENhbGwsIG91dHB1dCwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBuZXdBZ2VudDtcbiAgICB9XG4gICAgYXN5bmMgI2hhbmRsZUZ1bmN0aW9uVG9vbENhbGwodG9vbENhbGwsIHRvb2wpIHtcbiAgICAgICAgdGhpcy4jY29udGV4dC5jb250ZXh0Lmhpc3RvcnkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuI2hpc3RvcnkpKTsgLy8gZGVlcCBjb3B5IG9mIHRoZSBoaXN0b3J5XG4gICAgICAgIGxldCBwYXJzZWRBcmdzID0gdG9vbENhbGwuYXJndW1lbnRzO1xuICAgICAgICBpZiAodG9vbC5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaXNab2RPYmplY3QodG9vbC5wYXJhbWV0ZXJzKSkge1xuICAgICAgICAgICAgICAgIHBhcnNlZEFyZ3MgPSB0b29sLnBhcmFtZXRlcnMucGFyc2UocGFyc2VkQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJzZWRBcmdzID0gSlNPTi5wYXJzZShwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZWVkc0FwcHJvdmFsID0gYXdhaXQgdG9vbC5uZWVkc0FwcHJvdmFsKHRoaXMuI2NvbnRleHQsIHBhcnNlZEFyZ3MsIHRvb2xDYWxsLmNhbGxJZCk7XG4gICAgICAgIGlmIChuZWVkc0FwcHJvdmFsKSB7XG4gICAgICAgICAgICBjb25zdCBhcHByb3ZhbCA9IHRoaXMuY29udGV4dC5pc1Rvb2xBcHByb3ZlZCh7XG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBjYWxsSWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFwcHJvdmFsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdG9vbCwge1xuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRvb2wsIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gJ1Rvb2wgZXhlY3V0aW9uIHdhcyBub3QgYXBwcm92ZWQuJztcbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEZ1bmN0aW9uQ2FsbE91dHB1dCh0b29sQ2FsbCwgcmVzdWx0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB0b29sLCByZXN1bHQsIHsgdG9vbENhbGwgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgdGhpcy4jY29udGV4dCwgdG9vbCwgcmVzdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcHByb3ZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3Rvb2xfYXBwcm92YWxfcmVxdWVzdGVkJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9hcHByb3ZhbCcsXG4gICAgICAgICAgICAgICAgICAgIHRvb2wsXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmFsSXRlbTogbmV3IFJ1blRvb2xBcHByb3ZhbEl0ZW0odG9vbENhbGwsIHRoaXMuI2N1cnJlbnRBZ2VudCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdG9vbCwge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRvb2wsIHtcbiAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jY29udGV4dC5jb250ZXh0Lmhpc3RvcnkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuI2hpc3RvcnkpKTsgLy8gZGVlcCBjb3B5IG9mIHRoZSBoaXN0b3J5XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRvb2wuaW52b2tlKHRoaXMuI2NvbnRleHQsIHRvb2xDYWxsLmFyZ3VtZW50cywge1xuICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgc3RyaW5nUmVzdWx0O1xuICAgICAgICBpZiAoaXNCYWNrZ3JvdW5kUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgICAgIC8vIERvbid0IGdlbmVyYXRlIGEgbmV3IHJlc3BvbnNlLCBqdXN0IHNlbmQgdGhlIHJlc3VsdFxuICAgICAgICAgICAgc3RyaW5nUmVzdWx0ID0gdG9TbWFydFN0cmluZyhyZXN1bHQuY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEZ1bmN0aW9uQ2FsbE91dHB1dCh0b29sQ2FsbCwgc3RyaW5nUmVzdWx0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJpbmdSZXN1bHQgPSB0b1NtYXJ0U3RyaW5nKHJlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEZ1bmN0aW9uQ2FsbE91dHB1dCh0b29sQ2FsbCwgc3RyaW5nUmVzdWx0LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCB0b29sLCBzdHJpbmdSZXN1bHQsIHsgdG9vbENhbGwgfSk7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHRoaXMuI2NvbnRleHQsIHRvb2wsIHN0cmluZ1Jlc3VsdCwgeyB0b29sQ2FsbCB9KTtcbiAgICB9XG4gICAgYXN5bmMgI2hhbmRsZUZ1bmN0aW9uQ2FsbCh0b29sQ2FsbCkge1xuICAgICAgICBjb25zdCBlbmFibGVkSGFuZG9mZnMgPSBhd2FpdCB0aGlzLiNjdXJyZW50QWdlbnQuZ2V0RW5hYmxlZEhhbmRvZmZzKHRoaXMuI2NvbnRleHQpO1xuICAgICAgICBjb25zdCBoYW5kb2ZmTWFwID0gbmV3IE1hcChlbmFibGVkSGFuZG9mZnMubWFwKChoYW5kb2ZmKSA9PiBbaGFuZG9mZi50b29sTmFtZSwgaGFuZG9mZl0pKTtcbiAgICAgICAgY29uc3QgYWxsVG9vbHMgPSBhd2FpdCB0aGlzLiNjdXJyZW50QWdlbnQuZ2V0QWxsVG9vbHModGhpcy4jY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uVG9vbE1hcCA9IG5ldyBNYXAoYWxsVG9vbHMubWFwKCh0b29sKSA9PiBbdG9vbC5uYW1lLCB0b29sXSkpO1xuICAgICAgICBjb25zdCBwb3NzaWJsZUhhbmRvZmYgPSBoYW5kb2ZmTWFwLmdldCh0b29sQ2FsbC5uYW1lKTtcbiAgICAgICAgaWYgKHBvc3NpYmxlSGFuZG9mZikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlSGFuZG9mZih0b29sQ2FsbCwgcG9zc2libGVIYW5kb2ZmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uVG9vbCA9IGZ1bmN0aW9uVG9vbE1hcC5nZXQodG9vbENhbGwubmFtZSk7XG4gICAgICAgICAgICBpZiAoZnVuY3Rpb25Ub29sICYmIGZ1bmN0aW9uVG9vbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlRnVuY3Rpb25Ub29sQ2FsbCh0b29sQ2FsbCwgZnVuY3Rpb25Ub29sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoYFRvb2wgJHt0b29sQ2FsbC5uYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyAjcnVuT3V0cHV0R3VhcmRyYWlscyhvdXRwdXQsIHJlc3BvbnNlSWQsIGl0ZW1JZCkge1xuICAgICAgICBpZiAodGhpcy4jb3V0cHV0R3VhcmRyYWlscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBndWFyZHJhaWxBcmdzID0ge1xuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuI2N1cnJlbnRBZ2VudCxcbiAgICAgICAgICAgIGFnZW50T3V0cHV0OiBvdXRwdXQsXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLiNjb250ZXh0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwodGhpcy4jb3V0cHV0R3VhcmRyYWlscy5tYXAoKGd1YXJkcmFpbCkgPT4gZ3VhcmRyYWlsLnJ1bihndWFyZHJhaWxBcmdzKSkpO1xuICAgICAgICBjb25zdCBmaXJzdFRyaXB3aXJlVHJpZ2dlcmVkID0gcmVzdWx0cy5maW5kKChyZXN1bHQpID0+IHJlc3VsdC5vdXRwdXQudHJpcHdpcmVUcmlnZ2VyZWQpO1xuICAgICAgICBpZiAoZmlyc3RUcmlwd2lyZVRyaWdnZXJlZCkge1xuICAgICAgICAgICAgLy8gdGhpcyBlbnN1cmVzIHRoYXQgaWYgb25lIGd1YXJkcmFpbCBhbHJlYWR5IHRyaXBzIGFuZCB3ZSBhcmUgaW4gdGhlIG1pZGRsZSBvZiBhbm90aGVyXG4gICAgICAgICAgICAvLyBndWFyZHJhaWwgcnVuLCB3ZSBkb24ndCB0cmlwIGFnYWluXG4gICAgICAgICAgICBpZiAodGhpcy4jaW50ZXJydXB0ZWRCeUd1YXJkcmFpbFtyZXNwb25zZUlkXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuI2ludGVycnVwdGVkQnlHdWFyZHJhaWxbcmVzcG9uc2VJZF0gPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQoYE91dHB1dCBndWFyZHJhaWwgdHJpZ2dlcmVkOiAke0pTT04uc3RyaW5naWZ5KGZpcnN0VHJpcHdpcmVUcmlnZ2VyZWQub3V0cHV0Lm91dHB1dEluZm8pfWAsIGZpcnN0VHJpcHdpcmVUcmlnZ2VyZWQpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdndWFyZHJhaWxfdHJpcHBlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgZXJyb3IsIHtcbiAgICAgICAgICAgICAgICBpdGVtSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICBjb25zdCBmZWVkYmFja1RleHQgPSBnZXRSZWFsdGltZUd1YXJkcmFpbEZlZWRiYWNrTWVzc2FnZShmaXJzdFRyaXB3aXJlVHJpZ2dlcmVkKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoZmVlZGJhY2tUZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignKicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd0cmFuc3BvcnRfZXZlbnQnLCBldmVudCk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkIHVzZXIgdHJhbnNjcmlwdGlvbiBldmVudHNcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5jb21wbGV0ZWQnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGxldGVkRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jaGlzdG9yeSA9IHVwZGF0ZVJlYWx0aW1lSGlzdG9yeSh0aGlzLiNoaXN0b3J5LCBjb21wbGV0ZWRFdmVudCwgdGhpcy4jc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gdGhpcy4jaGlzdG9yeTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdoaXN0b3J5X3VwZGF0ZWQnLCB0aGlzLiNoaXN0b3J5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignbWNwX3Rvb2xzX2xpc3RlZCcsICh7IHNlcnZlckxhYmVsLCB0b29scyB9KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2FsbE1jcFRvb2xzQnlTZXJ2ZXIuc2V0KHNlcnZlckxhYmVsLCB0b29scyA/PyBbXSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlQXZhaWxhYmxlTWNwVG9vbHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgeyB0eXBlOiAnZXJyb3InLCBlcnJvcjogZXJyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdhdWRpbycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLiNhdWRpb1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNhdWRpb1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYXVkaW9fc3RhcnQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpbycsIGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbigndHVybl9zdGFydGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jYXVkaW9TdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3N0YXJ0JywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KTtcbiAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ3R1cm5fZG9uZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGV2ZW50LnJlc3BvbnNlLm91dHB1dFtldmVudC5yZXNwb25zZS5vdXRwdXQubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjb25zdCB0ZXh0T3V0cHV0ID0gZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlKGl0ZW0pID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgaXRlbUlkID0gaXRlbT8uaWQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X2VuZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdGV4dE91dHB1dCk7XG4gICAgICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfZW5kJywgdGhpcy4jY29udGV4dCwgdGV4dE91dHB1dCk7XG4gICAgICAgICAgICB0aGlzLiNydW5PdXRwdXRHdWFyZHJhaWxzKHRleHRPdXRwdXQsIGV2ZW50LnJlc3BvbnNlLmlkLCBpdGVtSWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdhdWRpb19kb25lJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2F1ZGlvU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2F1ZGlvU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19zdG9wcGVkJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBsYXN0UnVuSW5kZXggPSAwO1xuICAgICAgICBsZXQgbGFzdEl0ZW1JZDtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdhdWRpb190cmFuc2NyaXB0X2RlbHRhJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZXZlbnQuZGVsdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUlkID0gZXZlbnQuaXRlbUlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlSWQgPSBldmVudC5yZXNwb25zZUlkO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0SXRlbUlkICE9PSBpdGVtSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEl0ZW1JZCA9IGl0ZW1JZDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJ1bkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRleHQgPSB0aGlzLiN0cmFuc2NyaWJlZFRleHREZWx0YXNbaXRlbUlkXSA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUZXh0ID0gY3VycmVudFRleHQgKyBkZWx0YTtcbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc2NyaWJlZFRleHREZWx0YXNbaXRlbUlkXSA9IG5ld1RleHQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI291dHB1dEd1YXJkcmFpbFNldHRpbmdzLmRlYm91bmNlVGV4dExlbmd0aCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSdW5JbmRleCA9IE1hdGguZmxvb3IobmV3VGV4dC5sZW5ndGggLyB0aGlzLiNvdXRwdXRHdWFyZHJhaWxTZXR0aW5ncy5kZWJvdW5jZVRleHRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdSdW5JbmRleCA+IGxhc3RSdW5JbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UnVuSW5kZXggPSBuZXdSdW5JbmRleDtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgY2FuY2VsIGV4aXN0aW5nIHJ1bnMgYmVjYXVzZSB3ZSB3YW50IHRoZSBmaXJzdCBvbmUgdG8gZmFpbCB0byBmYWlsXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0cmFuc3BvcnQgbGF5ZXIgc2hvdWxkIHVwb24gZmFpbHVyZSBoYW5kbGUgdGhlIGludGVycnVwdGlvbiBhbmQgc3RvcCB0aGUgbW9kZWxcbiAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSBnZW5lcmF0aW5nIGZ1cnRoZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcnVuT3V0cHV0R3VhcmRyYWlscyhuZXdUZXh0LCByZXNwb25zZUlkLCBpdGVtSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdpdGVtX3VwZGF0ZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc05ldyA9ICF0aGlzLiNoaXN0b3J5LnNvbWUoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkID09PSBldmVudC5pdGVtSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2hpc3RvcnkgPSB1cGRhdGVSZWFsdGltZUhpc3RvcnkodGhpcy4jaGlzdG9yeSwgZXZlbnQsIHRoaXMuI3Nob3VsZEluY2x1ZGVBdWRpb0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gdGhpcy4jaGlzdG9yeTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkZWRJdGVtID0gdGhpcy4jaGlzdG9yeS5maW5kKChpdGVtKSA9PiBpdGVtLml0ZW1JZCA9PT0gZXZlbnQuaXRlbUlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFkZGVkSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdoaXN0b3J5X2FkZGVkJywgYWRkZWRJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2hpc3RvcnlfdXBkYXRlZCcsIHRoaXMuI2hpc3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2l0ZW1fZGVsZXRlZCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNoaXN0b3J5ID0gdGhpcy4jaGlzdG9yeS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkICE9PSBldmVudC5pdGVtSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gdGhpcy4jaGlzdG9yeTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2hpc3RvcnlfdXBkYXRlZCcsIHRoaXMuI2hpc3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2Z1bmN0aW9uX2NhbGwnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlRnVuY3Rpb25DYWxsKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgaGFuZGxpbmcgZnVuY3Rpb24gY2FsbCcsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbigndXNhZ2VfdXBkYXRlJywgKHVzYWdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNjb250ZXh0LnVzYWdlLmFkZCh1c2FnZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2F1ZGlvX2ludGVycnVwdGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2F1ZGlvU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2F1ZGlvU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19pbnRlcnJ1cHRlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdtY3BfdG9vbF9jYWxsX2NvbXBsZXRlZCcsICh0b29sQ2FsbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfdG9vbF9jYWxsX2NvbXBsZXRlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdG9vbENhbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuI2F1dG9tYXRpY2FsbHlUcmlnZ2VyUmVzcG9uc2VGb3JNY3BUb29sQ2FsbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNyZWF0ZScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JywgKGFwcHJvdmFsUmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd0b29sX2FwcHJvdmFsX3JlcXVlc3RlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3BfYXBwcm92YWxfcmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgYXBwcm92YWxJdGVtOiByZWFsdGltZUFwcHJvdmFsSXRlbVRvQXBwcm92YWxJdGVtKHRoaXMuI2N1cnJlbnRBZ2VudCwgYXBwcm92YWxSZXF1ZXN0KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb21wdXRlcyB0aGUgY3VycmVudGx5IGF2YWlsYWJsZSBNQ1AgdG9vbHMgYmFzZWQgb24gdGhlIGN1cnJlbnQgYWdlbnQncyBhY3RpdmVcbiAgICAgKiBNQ1Agc2VydmVyIGNvbmZpZ3VyYXRpb25zIGFuZCB0aGUgY2FjaGVkIHBlci1zZXJ2ZXIgdG9vbCBsaXN0aW5ncy4gRW1pdHNcbiAgICAgKiBgbWNwX3Rvb2xzX2NoYW5nZWRgIGlmIHRoZSBzZXQgY2hhbmdlZC5cbiAgICAgKi9cbiAgICAjdXBkYXRlQXZhaWxhYmxlTWNwVG9vbHMoKSB7XG4gICAgICAgIC8vIENvbGxlY3QgYWN0aXZlIE1DUCBzZXJ2ZXIgbGFiZWxzIGFuZCBvcHRpb25hbCBhbGxvd2VkIGZpbHRlcnMgZnJvbSB0aGUgY3VycmVudCBhZ2VudFxuICAgICAgICBjb25zdCBhY3RpdmVNY3BDb25maWdzID0gdGhpcy4jY3VycmVudFRvb2xzPy5maWx0ZXIoKHQpID0+IHQudHlwZSA9PT0gJ21jcCcpO1xuICAgICAgICBjb25zdCBhbGxvd2VkRnJvbUNvbmZpZyA9IChjZmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFsbG93ZWQgPSBjZmcuYWxsb3dlZF90b29scztcbiAgICAgICAgICAgIGlmICghYWxsb3dlZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYWxsb3dlZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsbG93ZWQ7XG4gICAgICAgICAgICBpZiAoYWxsb3dlZCAmJiBBcnJheS5pc0FycmF5KGFsbG93ZWQudG9vbF9uYW1lcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsbG93ZWQudG9vbF9uYW1lcztcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRlZHVwQnlOYW1lID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGNmZyBvZiBhY3RpdmVNY3BDb25maWdzKSB7XG4gICAgICAgICAgICBjb25zdCB0b29scyA9IHRoaXMuI2FsbE1jcFRvb2xzQnlTZXJ2ZXIuZ2V0KGNmZy5zZXJ2ZXJfbGFiZWwpID8/IFtdO1xuICAgICAgICAgICAgY29uc3QgYWxsb3dlZCA9IGFsbG93ZWRGcm9tQ29uZmlnKGNmZyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxsb3dlZCAmJiAhYWxsb3dlZC5pbmNsdWRlcyh0b29sLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWRlZHVwQnlOYW1lLmhhcyh0b29sLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZHVwQnlOYW1lLnNldCh0b29sLm5hbWUsIHRvb2wpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0ID0gQXJyYXkuZnJvbShkZWR1cEJ5TmFtZS52YWx1ZXMoKSk7XG4gICAgICAgIGNvbnN0IHByZXYgPSB0aGlzLiNhdmFpbGFibGVNY3BUb29scztcbiAgICAgICAgY29uc3QgY2hhbmdlZCA9IHByZXYubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCB8fFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJldi5tYXAoKHQpID0+IHQubmFtZSkuc29ydCgpKSAhPT1cbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShuZXh0Lm1hcCgodCkgPT4gdC5uYW1lKS5zb3J0KCkpO1xuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy4jYXZhaWxhYmxlTWNwVG9vbHMgPSBuZXh0O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfdG9vbHNfY2hhbmdlZCcsIHRoaXMuI2F2YWlsYWJsZU1jcFRvb2xzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBzZXNzaW9uLiBUaGlzIHdpbGwgZXN0YWJsaXNoIHRoZSBjb25uZWN0aW9uIHRvIHRoZSB1bmRlcmx5aW5nIHRyYW5zcG9ydCBsYXllclxuICAgICAqIGFuZCBzdGFydCB0aGUgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIEFmdGVyIGNvbm5lY3RpbmcsIHRoZSBzZXNzaW9uIHdpbGwgYWxzbyBlbWl0IGEgYGhpc3RvcnlfdXBkYXRlZGAgZXZlbnQgd2l0aCBhbiBlbXB0eSBoaXN0b3J5LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIC8vIG1ha2VzIHN1cmUgdGhlIGN1cnJlbnQgYWdlbnQgaXMgY29ycmVjdGx5IHNldCBhbmQgbG9hZHMgdGhlIHRvb2xzXG4gICAgICAgIGF3YWl0IHRoaXMuI3NldEN1cnJlbnRBZ2VudCh0aGlzLmluaXRpYWxBZ2VudCk7XG4gICAgICAgIHRoaXMuI3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuI3RyYW5zcG9ydC5jb25uZWN0KHtcbiAgICAgICAgICAgIGFwaUtleTogb3B0aW9ucy5hcGlLZXkgPz8gdGhpcy5vcHRpb25zLmFwaUtleSxcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm9wdGlvbnMubW9kZWwsXG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgICAgICAgaW5pdGlhbFNlc3Npb25Db25maWc6IGF3YWl0IHRoaXMuI2dldFNlc3Npb25Db25maWcodGhpcy5vcHRpb25zLmNvbmZpZyksXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBFbnN1cmUgdGhlIGNhY2hlZCBsYXN0U2Vzc2lvbkNvbmZpZyBpbmNsdWRlcyBldmVyeXRoaW5nIHBhc3NlZCBhcyB0aGUgaW5pdGlhbCBzZXNzaW9uIGNvbmZpZ1xuICAgICAgICAvLyAodGhlIGNhbGwgYWJvdmUgYWxyZWFkeSBzZXQgaXQgdmlhICNnZXRTZXNzaW9uQ29uZmlnIGJ1dCBpbiBjYXNlIGFkZGl0aW9uYWwgb3ZlcnJpZGVzIHdlcmVcbiAgICAgICAgLy8gcGFzc2VkIGRpcmVjdGx5IGhlcmUgaW4gdGhlIGZ1dHVyZSB3ZSBjb3VsZCBtZXJnZSB0aGVtKS4gRm9yIG5vdyBpdCdzIGEgbm8tb3AuXG4gICAgICAgIHRoaXMuI2hpc3RvcnkgPSBbXTtcbiAgICAgICAgdGhpcy5lbWl0KCdoaXN0b3J5X3VwZGF0ZWQnLCB0aGlzLiNoaXN0b3J5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBoaXN0b3J5IG9mIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBuZXdIaXN0b3J5IC0gVGhlIG5ldyBoaXN0b3J5IHRvIHNldC5cbiAgICAgKi9cbiAgICB1cGRhdGVIaXN0b3J5KG5ld0hpc3RvcnkpIHtcbiAgICAgICAgbGV0IHVwZGF0ZWRIaXN0b3J5O1xuICAgICAgICBpZiAodHlwZW9mIG5ld0hpc3RvcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRIaXN0b3J5ID0gbmV3SGlzdG9yeSh0aGlzLiNoaXN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZWRIaXN0b3J5ID0gbmV3SGlzdG9yeTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiN0cmFuc3BvcnQucmVzZXRIaXN0b3J5KHRoaXMuI2hpc3RvcnksIHVwZGF0ZWRIaXN0b3J5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIHNlc3Npb24uXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvdGhlckV2ZW50RGF0YSAtIEFkZGl0aW9uYWwgZXZlbnQgZGF0YSB0byBzZW5kLlxuICAgICAqL1xuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UsIG90aGVyRXZlbnREYXRhID0ge30pIHtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRNZXNzYWdlKG1lc3NhZ2UsIG90aGVyRXZlbnREYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGltYWdlIHRvIHRoZSBzZXNzaW9uXG4gICAgICogQHBhcmFtIGltYWdlIC0gVGhlIGltYWdlIHRvIGFkZC5cbiAgICAgKi9cbiAgICBhZGRJbWFnZShpbWFnZSwgeyB0cmlnZ2VyUmVzcG9uc2UgPSB0cnVlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuYWRkSW1hZ2UoaW1hZ2UsIHsgdHJpZ2dlclJlc3BvbnNlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdXRlIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBtdXRlZCAtIFdoZXRoZXIgdG8gbXV0ZSB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBtdXRlKG11dGVkKSB7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5tdXRlKG11dGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCBmcm9tIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLiNpbnRlcnJ1cHRlZEJ5R3VhcmRyYWlsID0ge307XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGF1ZGlvIHRvIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBhdWRpbyAtIFRoZSBhdWRpbyB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmNvbW1pdCAtIFdoZXRoZXIgdG8gZmluaXNoIHRoZSB0dXJuIHdpdGggdGhpcyBhdWRpby5cbiAgICAgKi9cbiAgICBzZW5kQXVkaW8oYXVkaW8sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEF1ZGlvKGF1ZGlvLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJydXB0IHRoZSBzZXNzaW9uIGFydGlmaWNpYWxseSBmb3IgZXhhbXBsZSBpZiB5b3Ugd2FudCB0byBidWlsZCBhIFwic3RvcCB0YWxraW5nXCJcbiAgICAgKiBidXR0b24uXG4gICAgICovXG4gICAgaW50ZXJydXB0KCkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuaW50ZXJydXB0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcHJvdmUgYSB0b29sIGNhbGwuIFRoaXMgd2lsbCBhbHNvIHRyaWdnZXIgdGhlIHRvb2wgY2FsbCB0byB0aGUgYWdlbnQuXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSBhcHByb3ZhbCBpdGVtIHRvIGFwcHJvdmUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYWx3YXlzQXBwcm92ZSAtIFdoZXRoZXIgdG8gYWx3YXlzIGFwcHJvdmUgdGhlIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBhc3luYyBhcHByb3ZlKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyA9IHsgYWx3YXlzQXBwcm92ZTogZmFsc2UgfSkge1xuICAgICAgICB0aGlzLiNjb250ZXh0LmFwcHJvdmVUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHRvb2wgPSB0aGlzLiNjdXJyZW50QWdlbnQudG9vbHMuZmluZCgodG9vbCkgPT4gdG9vbC5uYW1lID09PSBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5uYW1lKTtcbiAgICAgICAgaWYgKHRvb2wgJiZcbiAgICAgICAgICAgIHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgYXBwcm92YWxJdGVtLnJhd0l0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNoYW5kbGVGdW5jdGlvblRvb2xDYWxsKGFwcHJvdmFsSXRlbS5yYXdJdGVtLCB0b29sKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcHByb3ZhbEl0ZW0ucmF3SXRlbS50eXBlID09PSAnaG9zdGVkX3Rvb2xfY2FsbCcpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFsd2F5c0FwcHJvdmUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybignQWx3YXlzIGFwcHJvdmluZyBNQ1AgdG9vbHMgaXMgbm90IHN1cHBvcnRlZC4gVXNlIHRoZSBhbGxvd2VkIHRvb2xzIGNvbmZpZ3VyYXRpb24gaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1jcEFwcHJvdmFsUmVxdWVzdCA9IGFwcHJvdmFsSXRlbVRvUmVhbHRpbWVBcHByb3ZhbEl0ZW0oYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kTWNwUmVzcG9uc2UobWNwQXBwcm92YWxSZXF1ZXN0LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoYFRvb2wgJHthcHByb3ZhbEl0ZW0ucmF3SXRlbS5uYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWplY3QgYSB0b29sIGNhbGwuIFRoaXMgd2lsbCBhbHNvIHRyaWdnZXIgdGhlIHRvb2wgY2FsbCB0byB0aGUgYWdlbnQuXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSBhcHByb3ZhbCBpdGVtIHRvIHJlamVjdC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hbHdheXNSZWplY3QgLSBXaGV0aGVyIHRvIGFsd2F5cyByZWplY3QgdGhlIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBhc3luYyByZWplY3QoYXBwcm92YWxJdGVtLCBvcHRpb25zID0geyBhbHdheXNSZWplY3Q6IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy4jY29udGV4dC5yZWplY3RUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIHdlIHN0aWxsIG5lZWQgdG8gc2ltdWxhdGUgYSB0b29sIGNhbGwgdG8gdGhlIGFnZW50IHRvIGxldCB0aGUgYWdlbnQga25vd1xuICAgICAgICBjb25zdCB0b29sID0gdGhpcy4jY3VycmVudEFnZW50LnRvb2xzLmZpbmQoKHRvb2wpID0+IHRvb2wubmFtZSA9PT0gYXBwcm92YWxJdGVtLnJhd0l0ZW0ubmFtZSk7XG4gICAgICAgIGlmICh0b29sICYmXG4gICAgICAgICAgICB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIGFwcHJvdmFsSXRlbS5yYXdJdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlRnVuY3Rpb25Ub29sQ2FsbChhcHByb3ZhbEl0ZW0ucmF3SXRlbSwgdG9vbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXBwcm92YWxJdGVtLnJhd0l0ZW0udHlwZSA9PT0gJ2hvc3RlZF90b29sX2NhbGwnKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbHdheXNSZWplY3QpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybignQWx3YXlzIHJlamVjdGluZyBNQ1AgdG9vbHMgaXMgbm90IHN1cHBvcnRlZC4gVXNlIHRoZSBhbGxvd2VkIHRvb2xzIGNvbmZpZ3VyYXRpb24gaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1jcEFwcHJvdmFsUmVxdWVzdCA9IGFwcHJvdmFsSXRlbVRvUmVhbHRpbWVBcHByb3ZhbEl0ZW0oYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kTWNwUmVzcG9uc2UobWNwQXBwcm92YWxSZXF1ZXN0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKGBUb29sICR7YXBwcm92YWxJdGVtLnJhd0l0ZW0ubmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFsdGltZVNlc3Npb24ubWpzLm1hcCIsImltcG9ydCAqIGFzIHV0aWxJbXBvcnQgZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5leHBvcnQgeyBSZWFsdGltZUFnZW50IH0gZnJvbSBcIi4vcmVhbHRpbWVBZ2VudC5tanNcIjtcbmV4cG9ydCB7IFJlYWx0aW1lU2Vzc2lvbiwgfSBmcm9tIFwiLi9yZWFsdGltZVNlc3Npb24ubWpzXCI7XG5leHBvcnQgeyBPcGVuQUlSZWFsdGltZVdlYlJUQywgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZVdlYlJ0Yy5tanNcIjtcbmV4cG9ydCB7IE9wZW5BSVJlYWx0aW1lV2ViU29ja2V0LCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lV2Vic29ja2V0Lm1qc1wiO1xuZXhwb3J0IHsgT3BlbkFJUmVhbHRpbWVCYXNlLCBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9NT0RFTCwgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qc1wiO1xuZXhwb3J0IGNvbnN0IHV0aWxzID0ge1xuICAgIGJhc2U2NFRvQXJyYXlCdWZmZXI6IHV0aWxJbXBvcnQuYmFzZTY0VG9BcnJheUJ1ZmZlcixcbiAgICBhcnJheUJ1ZmZlclRvQmFzZTY0OiB1dGlsSW1wb3J0LmFycmF5QnVmZmVyVG9CYXNlNjQsXG4gICAgZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlOiB1dGlsSW1wb3J0LmdldExhc3RUZXh0RnJvbUF1ZGlvT3V0cHV0TWVzc2FnZSxcbn07XG5leHBvcnQgeyBNb2RlbEJlaGF2aW9yRXJyb3IsIE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkLCB0b29sLCBVc2VyRXJyb3IsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZSc7XG5leHBvcnQgeyBiYWNrZ3JvdW5kUmVzdWx0LCBpc0JhY2tncm91bmRSZXN1bHQgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6WyJNRVRBREFUQSIsInNhZmVFeGVjdXRlIiwiZm4iLCJlcnJvciIsIm1ha2VQYXJzZWFibGVUZXh0Rm9ybWF0IiwicmVzcG9uc2VfZm9ybWF0IiwicGFyc2VyIiwib2JqIiwiaWdub3JlT3ZlcnJpZGUiLCJkZWZhdWx0T3B0aW9ucyIsImdldERlZmF1bHRPcHRpb25zIiwib3B0aW9ucyIsInpvZERlZiIsInpvZFNjaGVtYSIsImlzRW1wdHlPYmoiLCJfayIsImdldFJlZnMiLCJfb3B0aW9ucyIsImN1cnJlbnRQYXRoIiwibmFtZSIsImRlZiIsImFkZEVycm9yTWVzc2FnZSIsInJlcyIsImtleSIsImVycm9yTWVzc2FnZSIsInJlZnMiLCJzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIiwidmFsdWUiLCJ1dGlsIiwiXyIsImFzc2VydElzIiwiX2FyZyIsImFzc2VydE5ldmVyIiwiX3giLCJpdGVtcyIsIml0ZW0iLCJ2YWxpZEtleXMiLCJrIiwiZmlsdGVyZWQiLCJlIiwib2JqZWN0Iiwia2V5cyIsImFyciIsImNoZWNrZXIiLCJ2YWwiLCJqb2luVmFsdWVzIiwiYXJyYXkiLCJzZXBhcmF0b3IiLCJvYmplY3RVdGlsIiwiZmlyc3QiLCJzZWNvbmQiLCJab2RQYXJzZWRUeXBlIiwiZ2V0UGFyc2VkVHlwZSIsImRhdGEiLCJab2RJc3N1ZUNvZGUiLCJab2RFcnJvciIsImlzc3VlcyIsInN1YiIsInN1YnMiLCJhY3R1YWxQcm90byIsIl9tYXBwZXIiLCJtYXBwZXIiLCJpc3N1ZSIsImZpZWxkRXJyb3JzIiwicHJvY2Vzc0Vycm9yIiwiY3VyciIsImkiLCJlbCIsImZvcm1FcnJvcnMiLCJlcnJvck1hcCIsIl9jdHgiLCJtZXNzYWdlIiwib3ZlcnJpZGVFcnJvck1hcCIsImRlZmF1bHRFcnJvck1hcCIsImdldEVycm9yTWFwIiwibWFrZUlzc3VlIiwicGFyYW1zIiwicGF0aCIsImVycm9yTWFwcyIsImlzc3VlRGF0YSIsImZ1bGxQYXRoIiwiZnVsbElzc3VlIiwibWFwcyIsIm0iLCJtYXAiLCJhZGRJc3N1ZVRvQ29udGV4dCIsImN0eCIsIm92ZXJyaWRlTWFwIiwieCIsIlBhcnNlU3RhdHVzIiwic3RhdHVzIiwicmVzdWx0cyIsImFycmF5VmFsdWUiLCJJTlZBTElEIiwicGFpcnMiLCJzeW5jUGFpcnMiLCJwYWlyIiwiZmluYWxPYmplY3QiLCJESVJUWSIsIk9LIiwiaXNBYm9ydGVkIiwiaXNEaXJ0eSIsImlzVmFsaWQiLCJpc0FzeW5jIiwiZXJyb3JVdGlsIiwiUGFyc2VJbnB1dExhenlQYXRoIiwicGFyZW50IiwiaGFuZGxlUmVzdWx0IiwicmVzdWx0IiwicHJvY2Vzc0NyZWF0ZVBhcmFtcyIsImludmFsaWRfdHlwZV9lcnJvciIsInJlcXVpcmVkX2Vycm9yIiwiZGVzY3JpcHRpb24iLCJpc3MiLCJab2RUeXBlIiwiaW5wdXQiLCJlcnIiLCJfYiIsIl9hIiwibWF5YmVBc3luY1Jlc3VsdCIsImNoZWNrIiwiZ2V0SXNzdWVQcm9wZXJ0aWVzIiwic2V0RXJyb3IiLCJyZWZpbmVtZW50RGF0YSIsInJlZmluZW1lbnQiLCJab2RFZmZlY3RzIiwiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwiWm9kT3B0aW9uYWwiLCJab2ROdWxsYWJsZSIsIlpvZEFycmF5IiwiWm9kUHJvbWlzZSIsIm9wdGlvbiIsIlpvZFVuaW9uIiwiaW5jb21pbmciLCJab2RJbnRlcnNlY3Rpb24iLCJ0cmFuc2Zvcm0iLCJkZWZhdWx0VmFsdWVGdW5jIiwiWm9kRGVmYXVsdCIsIlpvZEJyYW5kZWQiLCJjYXRjaFZhbHVlRnVuYyIsIlpvZENhdGNoIiwiVGhpcyIsInRhcmdldCIsIlpvZFBpcGVsaW5lIiwiWm9kUmVhZG9ubHkiLCJjdWlkUmVnZXgiLCJjdWlkMlJlZ2V4IiwidWxpZFJlZ2V4IiwidXVpZFJlZ2V4IiwibmFub2lkUmVnZXgiLCJqd3RSZWdleCIsImR1cmF0aW9uUmVnZXgiLCJlbWFpbFJlZ2V4IiwiX2Vtb2ppUmVnZXgiLCJlbW9qaVJlZ2V4IiwiaXB2NFJlZ2V4IiwiaXB2NENpZHJSZWdleCIsImlwdjZSZWdleCIsImlwdjZDaWRyUmVnZXgiLCJiYXNlNjRSZWdleCIsImJhc2U2NHVybFJlZ2V4IiwiZGF0ZVJlZ2V4U291cmNlIiwiZGF0ZVJlZ2V4IiwidGltZVJlZ2V4U291cmNlIiwiYXJncyIsInNlY29uZHNSZWdleFNvdXJjZSIsInNlY29uZHNRdWFudGlmaWVyIiwidGltZVJlZ2V4IiwiZGF0ZXRpbWVSZWdleCIsInJlZ2V4Iiwib3B0cyIsImlzVmFsaWRJUCIsImlwIiwidmVyc2lvbiIsImlzVmFsaWRKV1QiLCJqd3QiLCJhbGciLCJoZWFkZXIiLCJiYXNlNjQiLCJkZWNvZGVkIiwiaXNWYWxpZENpZHIiLCJab2RTdHJpbmciLCJ0b29CaWciLCJ0b29TbWFsbCIsInZhbGlkYXRpb24iLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJsZW4iLCJjaCIsIm1pbiIsIm1heCIsImZsb2F0U2FmZVJlbWFpbmRlciIsInN0ZXAiLCJ2YWxEZWNDb3VudCIsInN0ZXBEZWNDb3VudCIsImRlY0NvdW50IiwidmFsSW50Iiwic3RlcEludCIsIlpvZE51bWJlciIsImtpbmQiLCJpbmNsdXNpdmUiLCJab2RCaWdJbnQiLCJab2RCb29sZWFuIiwiWm9kRGF0ZSIsIm1pbkRhdGUiLCJtYXhEYXRlIiwiWm9kU3ltYm9sIiwiWm9kVW5kZWZpbmVkIiwiWm9kTnVsbCIsIlpvZEFueSIsIlpvZFVua25vd24iLCJab2ROZXZlciIsIlpvZFZvaWQiLCJzY2hlbWEiLCJkZWVwUGFydGlhbGlmeSIsIlpvZE9iamVjdCIsIm5ld1NoYXBlIiwiZmllbGRTY2hlbWEiLCJab2RUdXBsZSIsInNoYXBlIiwic2hhcGVLZXlzIiwiZXh0cmFLZXlzIiwia2V5VmFsaWRhdG9yIiwidW5rbm93bktleXMiLCJjYXRjaGFsbCIsImRlZmF1bHRFcnJvciIsImF1Z21lbnRhdGlvbiIsIm1lcmdpbmciLCJpbmRleCIsIm1hc2siLCJuZXdGaWVsZCIsImNyZWF0ZVpvZEVudW0iLCJoYW5kbGVSZXN1bHRzIiwidW5pb25FcnJvcnMiLCJjaGlsZEN0eCIsImRpcnR5IiwidHlwZXMiLCJnZXREaXNjcmltaW5hdG9yIiwidHlwZSIsIlpvZExhenkiLCJab2RMaXRlcmFsIiwiWm9kRW51bSIsIlpvZE5hdGl2ZUVudW0iLCJab2REaXNjcmltaW5hdGVkVW5pb24iLCJkaXNjcmltaW5hdG9yIiwiZGlzY3JpbWluYXRvclZhbHVlIiwib3B0aW9uc01hcCIsImRpc2NyaW1pbmF0b3JWYWx1ZXMiLCJtZXJnZVZhbHVlcyIsImEiLCJiIiwiYVR5cGUiLCJiVHlwZSIsImJLZXlzIiwic2hhcmVkS2V5cyIsIm5ld09iaiIsInNoYXJlZFZhbHVlIiwibmV3QXJyYXkiLCJpdGVtQSIsIml0ZW1CIiwiaGFuZGxlUGFyc2VkIiwicGFyc2VkTGVmdCIsInBhcnNlZFJpZ2h0IiwibWVyZ2VkIiwibGVmdCIsInJpZ2h0IiwiaXRlbUluZGV4IiwicmVzdCIsInNjaGVtYXMiLCJab2RSZWNvcmQiLCJrZXlUeXBlIiwidmFsdWVUeXBlIiwidGhpcmQiLCJab2RNYXAiLCJmaW5hbE1hcCIsIlpvZFNldCIsImZpbmFsaXplU2V0IiwiZWxlbWVudHMiLCJwYXJzZWRTZXQiLCJlbGVtZW50IiwibWluU2l6ZSIsIm1heFNpemUiLCJzaXplIiwiZ2V0dGVyIiwidmFsdWVzIiwiZXhwZWN0ZWRWYWx1ZXMiLCJlbnVtVmFsdWVzIiwibmV3RGVmIiwib3B0IiwibmF0aXZlRW51bVZhbHVlcyIsInByb21pc2lmaWVkIiwiZWZmZWN0IiwiY2hlY2tDdHgiLCJhcmciLCJwcm9jZXNzZWQiLCJleGVjdXRlUmVmaW5lbWVudCIsImFjYyIsImlubmVyIiwiYmFzZSIsInByZXByb2Nlc3MiLCJuZXdDdHgiLCJab2ROYU4iLCJpblJlc3VsdCIsImZyZWV6ZSIsInN0cmluZ1R5cGUiLCJudW1iZXJUeXBlIiwiYm9vbGVhblR5cGUiLCJhbnlUeXBlIiwiYXJyYXlUeXBlIiwib2JqZWN0VHlwZSIsInVuaW9uVHlwZSIsImRpc2NyaW1pbmF0ZWRVbmlvblR5cGUiLCJyZWNvcmRUeXBlIiwibGF6eVR5cGUiLCJsaXRlcmFsVHlwZSIsImVudW1UeXBlIiwicGFyc2VBbnlEZWYiLCJwYXJzZUFycmF5RGVmIiwicGFyc2VEZWYiLCJwYXJzZUJpZ2ludERlZiIsInBhcnNlQm9vbGVhbkRlZiIsInBhcnNlQnJhbmRlZERlZiIsIl9kZWYiLCJwYXJzZUNhdGNoRGVmIiwicGFyc2VEYXRlRGVmIiwib3ZlcnJpZGVEYXRlU3RyYXRlZ3kiLCJzdHJhdGVneSIsImludGVnZXJEYXRlUGFyc2VyIiwicGFyc2VEZWZhdWx0RGVmIiwicGFyc2VFZmZlY3RzRGVmIiwiZm9yY2VSZXNvbHV0aW9uIiwicGFyc2VFbnVtRGVmIiwiaXNKc29uU2NoZW1hN0FsbE9mVHlwZSIsInBhcnNlSW50ZXJzZWN0aW9uRGVmIiwiYWxsT2YiLCJ1bmV2YWx1YXRlZFByb3BlcnRpZXMiLCJtZXJnZWRBbGxPZiIsIm5lc3RlZFNjaGVtYSIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwicGFyc2VMaXRlcmFsRGVmIiwicGFyc2VkVHlwZSIsInpvZFBhdHRlcm5zIiwicGFyc2VTdHJpbmdEZWYiLCJwcm9jZXNzUGF0dGVybiIsImVzY2FwZU5vbkFscGhhTnVtZXJpYyIsImFkZEZvcm1hdCIsImFkZFBhdHRlcm4iLCJjIiwicHJvY2Vzc1JlZ0V4cCIsInJlZ2V4T3JGdW5jdGlvbiIsImZsYWdzIiwic291cmNlIiwicGF0dGVybiIsImlzRXNjYXBlZCIsImluQ2hhckdyb3VwIiwiaW5DaGFyUmFuZ2UiLCJyZWdleFRlc3QiLCJwYXJzZVJlY29yZERlZiIsIl9jIiwiX2QiLCJwYXJzZU1hcERlZiIsInBhcnNlTmF0aXZlRW51bURlZiIsImFjdHVhbFZhbHVlcyIsInBhcnNlZFR5cGVzIiwicGFyc2VOZXZlckRlZiIsInBhcnNlTnVsbERlZiIsInByaW1pdGl2ZU1hcHBpbmdzIiwicGFyc2VVbmlvbkRlZiIsImFzQW55T2YiLCJ1bmlxdWVUeXBlcyIsImFueU9mIiwicGFyc2VOdWxsYWJsZURlZiIsInBhcnNlTnVtYmVyRGVmIiwiZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMiLCJwYXJzZU9iamVjdERlZiIsInByb3BOYW1lIiwicHJvcERlZiIsInByb3BlcnR5UGF0aCIsInBhcnNlZERlZiIsInBhcnNlT3B0aW9uYWxEZWYiLCJpbm5lclNjaGVtYSIsInBhcnNlUGlwZWxpbmVEZWYiLCJwYXJzZVByb21pc2VEZWYiLCJwYXJzZVNldERlZiIsInBhcnNlVHVwbGVEZWYiLCJwYXJzZVVuZGVmaW5lZERlZiIsInBhcnNlVW5rbm93bkRlZiIsInBhcnNlUmVhZG9ubHlEZWYiLCJzZWVuSXRlbSIsIm92ZXJyaWRlUmVzdWx0Iiwic2VlblNjaGVtYSIsImdldCRyZWYiLCJuZXdJdGVtIiwianNvblNjaGVtYSIsInNlbGVjdFBhcnNlciIsImFkZE1ldGEiLCJnZXRSZWxhdGl2ZVBhdGgiLCJwYXRoQSIsInBhdGhCIiwidHlwZU5hbWUiLCJ6b2RUb0pzb25TY2hlbWEiLCJtYWluIiwidGl0bGUiLCJkZWZpbml0aW9ucyIsInByb2Nlc3NlZERlZmluaXRpb25zIiwibmV3RGVmaW5pdGlvbnMiLCJjb21iaW5lZCIsIm1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2wiLCJ0b29sIiwiY2FsbGJhY2siLCJfem9kVG9Kc29uU2NoZW1hIiwiem9kVGV4dEZvcm1hdCIsInpvZE9iamVjdCIsInByb3BzIiwiY29udGVudCIsInpvZFJlc3BvbnNlc0Z1bmN0aW9uIiwiQWdlbnRzRXJyb3IiLCJzdGF0ZSIsIl9fcHVibGljRmllbGQiLCJTeXN0ZW1FcnJvciIsIk1heFR1cm5zRXhjZWVkZWRFcnJvciIsIk1vZGVsQmVoYXZpb3JFcnJvciIsIlVzZXJFcnJvciIsIkd1YXJkcmFpbEV4ZWN1dGlvbkVycm9yIiwiVG9vbENhbGxFcnJvciIsIklucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQiLCJPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCIsImlzWm9kT2JqZWN0IiwiaXNBZ2VudFRvb2xJbnB1dCIsInRvRnVuY3Rpb25Ub29sTmFtZSIsImdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUiLCJpbnB1dFR5cGUiLCJmb3JtYXR0ZWRGdW5jdGlvbiIsImNvbnZlcnRBZ2VudE91dHB1dFR5cGVUb1NlcmlhbGl6YWJsZSIsIm91dHB1dFR5cGUiLCJvdXRwdXQiLCJzIiwiaCIsImQiLCJ3IiwieSIsIm1zIiwicGFyc2UiLCJmbXRMb25nIiwiZm10U2hvcnQiLCJzdHIiLCJtYXRjaCIsIm4iLCJtc0FicyIsInBsdXJhbCIsImlzUGx1cmFsIiwic2V0dXAiLCJlbnYiLCJjcmVhdGVEZWJ1ZyIsImNvZXJjZSIsImRpc2FibGUiLCJlbmFibGUiLCJlbmFibGVkIiwicmVxdWlyZSQkMCIsImRlc3Ryb3kiLCJzZWxlY3RDb2xvciIsIm5hbWVzcGFjZSIsImhhc2giLCJwcmV2VGltZSIsImVuYWJsZU92ZXJyaWRlIiwibmFtZXNwYWNlc0NhY2hlIiwiZW5hYmxlZENhY2hlIiwiZGVidWciLCJzZWxmIiwiZm9ybWF0IiwiZm9ybWF0dGVyIiwiZXh0ZW5kIiwidiIsImRlbGltaXRlciIsIm5ld0RlYnVnIiwibmFtZXNwYWNlcyIsInNwbGl0IiwibnMiLCJtYXRjaGVzVGVtcGxhdGUiLCJzZWFyY2giLCJ0ZW1wbGF0ZSIsInNlYXJjaEluZGV4IiwidGVtcGxhdGVJbmRleCIsInN0YXJJbmRleCIsIm1hdGNoSW5kZXgiLCJza2lwIiwiY29tbW9uIiwiZXhwb3J0cyIsImZvcm1hdEFyZ3MiLCJzYXZlIiwibG9hZCIsInVzZUNvbG9ycyIsImxvY2Fsc3RvcmFnZSIsIndhcm5lZCIsIm1vZHVsZSIsImxhc3RDIiwiciIsImZvcm1hdHRlcnMiLCJsb2FkRW52IiwiX2xvYWRFbnYiLCJpc0VuYWJsZWQiLCJmbGFnTmFtZSIsInRyYWNpbmciLCJsb2dnaW5nIiwiZG9udExvZ01vZGVsRGF0YSIsImRvbnRMb2dUb29sRGF0YSIsImdldExvZ2dlciIsImxvZ2dlciIsInRvU21hcnRTdHJpbmciLCJkZWZhdWx0VG9vbEVycm9yRnVuY3Rpb24iLCJjb250ZXh0IiwidG9vbEVycm9yRnVuY3Rpb24iLCJzdHJpY3RNb2RlIiwicGFyYW1ldGVycyIsIl9pbnZva2UiLCJydW5Db250ZXh0IiwiZGV0YWlscyIsInBhcnNlZCIsInN0cmluZ1Jlc3VsdCIsImludm9rZSIsImN1cnJlbnRTcGFuIiwiZ2V0Q3VycmVudFNwYW4iLCJuZWVkc0FwcHJvdmFsIiwiYWdlbnQiLCJwcmVkaWNhdGUiLCJ6Lm9iamVjdCIsInouc3RyaW5nIiwiei5saXRlcmFsIiwiei5yZWNvcmQiLCJ6LmFueSIsInouYXJyYXkiLCJ6LmJvb2xlYW4iLCJfY2FjaGVkVG9vbHMiLCJnZXRGdW5jdGlvblRvb2xzRnJvbVNlcnZlciIsInNlcnZlciIsImNvbnZlcnRTY2hlbWFzVG9TdHJpY3QiLCJ0IiwibWNwVG9GdW5jdGlvblRvb2wiLCJ3aXRoTUNQTGlzdFRvb2xzU3BhbiIsInNwYW4iLCJmZXRjaGVkTWNwVG9vbHMiLCJtY3BUb29scyIsImZpbHRlcmVkVG9vbHMiLCJmaWx0ZXIiLCJnbG9iYWxMb2dnZXIiLCJhbGxvd2VkVG9vbE5hbWVzIiwiYmxvY2tlZFRvb2xOYW1lcyIsImFsbG93ZWQiLCJibG9ja2VkIiwidG9vbHMiLCJnZXRBbGxNY3BUb29scyIsIm1jcFNlcnZlcnNPck9wdHMiLCJtY3BTZXJ2ZXJzIiwiY29udmVydFNjaGVtYXNUb1N0cmljdEZyb21PcHRzIiwicnVuQ29udGV4dEZyb21PcHRzIiwiYWdlbnRGcm9tT3B0cyIsImFsbFRvb2xzIiwidG9vbE5hbWVzIiwic2VydmVyVG9vbHMiLCJpbnRlcnNlY3Rpb24iLCJtY3BUb29sIiwiX2NvbnRleHQiLCJzdHJpY3RTY2hlbWEiLCJlbnN1cmVTdHJpY3RKc29uU2NoZW1hIiwibm9uU3RyaWN0U2NoZW1hIiwib3V0IiwiQnJvd3NlckV2ZW50RW1pdHRlciIsIl9fcHJpdmF0ZUFkZCIsIl90YXJnZXQiLCJfbGlzdGVuZXJXcmFwcGVycyIsImxpc3RlbmVyIiwiZXZlbnRUeXBlIiwibGlzdGVuZXJzRm9yVHlwZSIsIl9fcHJpdmF0ZUdldCIsIndyYXBwZXJzIiwid3JhcHBlciIsImV2ZW50IiwiaGFuZGxlciIsInJhbmRvbVVVSUQiLCJSZWFkYWJsZSIsIl9kZXN0aW5hdGlvbiIsIl90cmFuc2Zvcm0iLCJSZWFkYWJsZVN0cmVhbSIsIlRyYW5zZm9ybVN0cmVhbSIsIkFzeW5jTG9jYWxTdG9yYWdlIiwiQnJvd3NlclRpbWVyIiwidGltZW91dCIsInRpbWVvdXRJZCIsInRpbWVyIiwiRXZlbnRFbWl0dGVyRGVsZWdhdGUiLCJBZ2VudEhvb2tzIiwiUnVudGltZUV2ZW50RW1pdHRlciIsIlJ1bkhvb2tzIiwiT1BFTkFJX0RFRkFVTFRfTU9ERUxfRU5WX1ZBUklBQkxFX05BTUUiLCJncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZCIsIm1vZGVsTmFtZSIsImlzR3B0NURlZmF1bHQiLCJnZXREZWZhdWx0TW9kZWwiLCJnZXREZWZhdWx0TW9kZWxTZXR0aW5ncyIsIm1vZGVsIiwiX21vZGVsIiwiZ2V0VHJhbnNmZXJNZXNzYWdlIiwiZGVmYXVsdEhhbmRvZmZUb29sTmFtZSIsImRlZmF1bHRIYW5kb2ZmVG9vbERlc2NyaXB0aW9uIiwiSGFuZG9mZiIsIm9uSW52b2tlSGFuZG9mZiIsImhhbmRvZmYiLCJjb25maWciLCJoYXNPbkhhbmRvZmYiLCJoYXNJbnB1dFR5cGUiLCJpbnB1dEpzb25TdHJpbmciLCJhZGRFcnJvclRvQ3VycmVudFNwYW4iLCJnZXRIYW5kb2ZmIiwiZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZSIsIm91dHB1dE1lc3NhZ2UiLCJsYXN0SXRlbSIsImdldE91dHB1dFRleHQiLCJhZ2VudFRvb2xSdW5SZXN1bHRzIiwic2F2ZUFnZW50VG9vbFJ1blJlc3VsdCIsInRvb2xDYWxsIiwicnVuUmVzdWx0IiwiY29uc3VtZUFnZW50VG9vbFJ1blJlc3VsdCIsIkFnZW50QXNUb29sTmVlZEFwcHJvdmFsU2NoYW1lIiwiX0FnZW50Iiwib3V0cHV0VHlwZXMiLCJ0b29sTmFtZSIsInRvb2xEZXNjcmlwdGlvbiIsImN1c3RvbU91dHB1dEV4dHJhY3RvciIsInJ1bkNvbmZpZyIsInJ1bk9wdGlvbnMiLCJSdW5uZXIiLCJ1c2VzU3RvcEF0VG9vbE5hbWVzIiwib3V0cHV0VGV4dCIsImVuYWJsZWRUb29scyIsImNhbmRpZGF0ZSIsIm1heWJlSXNFbmFibGVkIiwiaGFuZG9mZnMiLCJBZ2VudCIsImRlZmluZUlucHV0R3VhcmRyYWlsIiwiZXhlY3V0ZSIsImRlZmluZU91dHB1dEd1YXJkcmFpbCIsImdldERlZmF1bHRNb2RlbFByb3ZpZGVyIiwiU2hhcmVkQmFzZSIsIkl0ZW1CYXNlIiwiUmVmdXNhbCIsIk91dHB1dFRleHQiLCJJbnB1dFRleHQiLCJSZWFzb25pbmdUZXh0IiwiSW5wdXRJbWFnZSIsInpcbiAgICAgICAgLnN0cmluZyIsIklucHV0RmlsZSIsIkF1ZGlvQ29udGVudCIsIkltYWdlQ29udGVudCIsIlRvb2xPdXRwdXRUZXh0IiwiVG9vbE91dHB1dEltYWdlIiwiQ29tcHV0ZXJUb29sT3V0cHV0IiwiY29tcHV0ZXJBY3Rpb25zIiwiei5kaXNjcmltaW5hdGVkVW5pb24iLCJ6Lm51bWJlciIsInouZW51bSIsIkFzc2lzdGFudENvbnRlbnQiLCJNZXNzYWdlQmFzZSIsIkFzc2lzdGFudE1lc3NhZ2VJdGVtIiwiVXNlckNvbnRlbnQiLCJVc2VyTWVzc2FnZUl0ZW0iLCJTeXN0ZW1NZXNzYWdlSXRlbSIsIkhvc3RlZFRvb2xDYWxsSXRlbSIsIkZ1bmN0aW9uQ2FsbEl0ZW0iLCJGdW5jdGlvbkNhbGxSZXN1bHRJdGVtIiwiQ29tcHV0ZXJVc2VDYWxsSXRlbSIsIkNvbXB1dGVyQ2FsbFJlc3VsdEl0ZW0iLCJUb29sQ2FsbEl0ZW0iLCJSZWFzb25pbmdJdGVtIiwiVW5rbm93bkl0ZW0iLCJPdXRwdXRNb2RlbEl0ZW0iLCJNb2RlbEl0ZW0iLCJ6LnVuaW9uIiwiVXNhZ2VEYXRhIiwiU3RyZWFtRXZlbnRUZXh0U3RyZWFtIiwiU3RyZWFtRXZlbnRSZXNwb25zZVN0YXJ0ZWQiLCJTdHJlYW1FdmVudFJlc3BvbnNlQ29tcGxldGVkIiwiU3RyZWFtRXZlbnRHZW5lcmljSXRlbSIsIlVzYWdlIiwiaW5wdXRUb2tlbnNEZXRhaWxzIiwib3V0cHV0VG9rZW5zRGV0YWlscyIsIm5ld1VzYWdlIiwiUnVuQ29udGV4dCIsIl9hcHByb3ZhbHMiLCJfX3ByaXZhdGVTZXQiLCJhcHByb3ZhbHMiLCJhcHByb3ZhbCIsImNhbGxJZCIsImFwcHJvdmFsRW50cnkiLCJpbmRpdmlkdWFsQ2FsbEFwcHJvdmFsIiwiaW5kaXZpZHVhbENhbGxSZWplY3Rpb24iLCJhcHByb3ZhbEl0ZW0iLCJhbHdheXNBcHByb3ZlIiwiYWx3YXlzUmVqZWN0Iiwic2VyaWFsaXplVG9vbCIsInNlcmlhbGl6ZUhhbmRvZmYiLCJSdW5JdGVtQmFzZSIsIlJ1bk1lc3NhZ2VPdXRwdXRJdGVtIiwicmF3SXRlbSIsInBhcnQiLCJSdW5Ub29sQ2FsbEl0ZW0iLCJSdW5Ub29sQ2FsbE91dHB1dEl0ZW0iLCJSdW5SZWFzb25pbmdJdGVtIiwiUnVuSGFuZG9mZkNhbGxJdGVtIiwiUnVuSGFuZG9mZk91dHB1dEl0ZW0iLCJzb3VyY2VBZ2VudCIsInRhcmdldEFnZW50IiwiUnVuVG9vbEFwcHJvdmFsSXRlbSIsIl93aXRoU3BhbkZhY3RvcnkiLCJjcmVhdGVTcGFuIiwid2l0aE5ld1NwYW5Db250ZXh0Iiwic2V0Q3VycmVudFNwYW4iLCJyZXNldEN1cnJlbnRTcGFuIiwiY3JlYXRlQWdlbnRTcGFuIiwiZ2V0R2xvYmFsVHJhY2VQcm92aWRlciIsImNyZWF0ZUZ1bmN0aW9uU3BhbiIsIndpdGhGdW5jdGlvblNwYW4iLCJjcmVhdGVIYW5kb2ZmU3BhbiIsIndpdGhIYW5kb2ZmU3BhbiIsImNyZWF0ZUd1YXJkcmFpbFNwYW4iLCJ3aXRoR3VhcmRyYWlsU3BhbiIsImNyZWF0ZU1DUExpc3RUb29sc1NwYW4iLCJSdW5SYXdNb2RlbFN0cmVhbUV2ZW50IiwiUnVuSXRlbVN0cmVhbUV2ZW50IiwiUnVuQWdlbnRVcGRhdGVkU3RyZWFtRXZlbnQiLCJwcm9jZXNzTW9kZWxSZXNwb25zZSIsIm1vZGVsUmVzcG9uc2UiLCJydW5IYW5kb2ZmcyIsInJ1bkZ1bmN0aW9ucyIsInJ1bkNvbXB1dGVyQWN0aW9ucyIsInJ1bk1DUEFwcHJvdmFsUmVxdWVzdHMiLCJ0b29sc1VzZWQiLCJoYW5kb2ZmTWFwIiwiZnVuY3Rpb25NYXAiLCJjb21wdXRlclRvb2wiLCJtY3BUb29sTWFwIiwicHJvdmlkZXJEYXRhIiwibWNwU2VydmVyTGFiZWwiLCJtY3BTZXJ2ZXJUb29sIiwiZnVuY3Rpb25Ub29sIiwibmV4dFN0ZXBTY2hlbWEiLCJTaW5nbGVTdGVwUmVzdWx0Iiwib3JpZ2luYWxJbnB1dCIsInByZVN0ZXBJdGVtcyIsIm5ld1N0ZXBJdGVtcyIsIm5leHRTdGVwIiwibWF5YmVSZXNldFRvb2xDaG9pY2UiLCJ0b29sVXNlVHJhY2tlciIsIm1vZGVsU2V0dGluZ3MiLCJleGVjdXRlSW50ZXJydXB0ZWRUb29sc0FuZFNpZGVFZmZlY3RzIiwib3JpZ2luYWxQcmVTdGVwSXRlbXMiLCJuZXdSZXNwb25zZSIsInByb2Nlc3NlZFJlc3BvbnNlIiwicnVubmVyIiwiZnVuY3Rpb25DYWxsSWRzIiwiZnVuY3Rpb25Ub29sUnVucyIsInJ1biIsImZ1bmN0aW9uUmVzdWx0cyIsImV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyIsIm5ld0l0ZW1zIiwibWNwQXBwcm92YWxSdW5zIiwiYXBwcm92YWxSZXF1ZXN0SWQiLCJhcHByb3ZlZCIsImNoZWNrVG9vbE91dHB1dCIsImNoZWNrRm9yRmluYWxPdXRwdXRGcm9tVG9vbHMiLCJleGVjdXRlVG9vbHNBbmRTaWRlRWZmZWN0cyIsImNvbXB1dGVyUmVzdWx0cyIsImV4ZWN1dGVDb21wdXRlckFjdGlvbnMiLCJhcHByb3ZhbFJlcXVlc3QiLCJ0b29sRGF0YSIsInJlcXVlc3REYXRhIiwiYXBwcm92YWxSZXN1bHQiLCJhcHByb3ZhbFJlc3BvbnNlRGF0YSIsImV4ZWN1dGVIYW5kb2ZmQ2FsbHMiLCJtZXNzYWdlSXRlbXMiLCJwb3RlbnRpYWxGaW5hbE91dHB1dCIsImdldFRvb2xDYWxsT3V0cHV0SXRlbSIsInRvb2xSdW5zIiwicnVuU2luZ2xlVG9vbCIsInRvb2xSdW4iLCJwYXJzZWRBcmdzIiwicmVzcG9uc2UiLCJ0b29sT3V0cHV0IiwiZnVuY3Rpb25SZXN1bHQiLCJuZXN0ZWRSdW5SZXN1bHQiLCJuZXN0ZWRJbnRlcnJ1cHRpb25zIiwiX3J1bkNvbXB1dGVyQWN0aW9uQW5kU2NyZWVuc2hvdCIsImNvbXB1dGVyIiwiYWN0aW9uIiwic2NyZWVuc2hvdCIsInAiLCJhY3Rpb25zIiwiY3VzdG9tTG9nZ2VyIiwiX2xvZ2dlciIsImltYWdlVXJsIiwiYWN0dWFsSGFuZG9mZiIsImhhbmRvZmZTcGFuIiwibmV3QWdlbnQiLCJyZXF1ZXN0ZWRBZ2VudHMiLCJpbnB1dEZpbHRlciIsImhhbmRvZmZJbnB1dERhdGEiLCJOT1RfRklOQUxfT1VUUFVUIiwidG9vbFJlc3VsdHMiLCJpbnRlcnJ1cHRpb25zIiwiZmlyc3RUb29sUmVzdWx0IiwidG9vbFVzZUJlaGF2aW9yIiwic3RvcHBpbmdUb29sIiwiZ2V0UnVuSXRlbVN0cmVhbUV2ZW50TmFtZSIsImVucXVldWVSdW5JdGVtU3RyZWFtRXZlbnQiLCJpdGVtTmFtZSIsInN0cmVhbVN0ZXBJdGVtc1RvUnVuUmVzdWx0IiwiYWRkU3RlcFRvUnVuUmVzdWx0Iiwic2tpcHBlZEl0ZW1zIiwiQWdlbnRUb29sVXNlVHJhY2tlciIsIl9hZ2VudFRvVG9vbHMiLCJDVVJSRU5UX1NDSEVNQV9WRVJTSU9OIiwiJHNjaGVtYVZlcnNpb24iLCJzZXJpYWxpemVkQWdlbnRTY2hlbWEiLCJzZXJpYWxpemVkU3BhbkJhc2UiLCJ6XG4gICAgICAgIC5vYmplY3QiLCJTZXJpYWxpemVkU3BhbiIsInoubGF6eSIsInVzYWdlU2NoZW1hIiwibW9kZWxSZXNwb25zZVNjaGVtYSIsInByb3RvY29sLk91dHB1dE1vZGVsSXRlbSIsIml0ZW1TY2hlbWEiLCJwcm90b2NvbC5Bc3Npc3RhbnRNZXNzYWdlSXRlbSIsInByb3RvY29sLlRvb2xDYWxsSXRlbSIsInByb3RvY29sLkhvc3RlZFRvb2xDYWxsSXRlbSIsInByb3RvY29sLkZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0iLCJwcm90b2NvbC5SZWFzb25pbmdJdGVtIiwicHJvdG9jb2wuRnVuY3Rpb25DYWxsSXRlbSIsInNlcmlhbGl6ZWRUcmFjZVNjaGVtYSIsInNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZVNjaGVtYSIsInpcbiAgICAgICAgLmFycmF5IiwiZ3VhcmRyYWlsRnVuY3Rpb25PdXRwdXRTY2hlbWEiLCJpbnB1dEd1YXJkcmFpbFJlc3VsdFNjaGVtYSIsIm91dHB1dEd1YXJkcmFpbFJlc3VsdFNjaGVtYSIsIlNlcmlhbGl6ZWRSdW5TdGF0ZSIsInByb3RvY29sLk1vZGVsSXRlbSIsIlJ1blN0YXRlIiwic3RhcnRpbmdBZ2VudCIsIm1heFR1cm5zIiwiZ2V0Q3VycmVudFRyYWNlIiwiZ2V0VHVybklucHV0IiwiaW5pdGlhbEFnZW50IiwicGFyc2luZ0Vycm9yIiwianNvblJlc3VsdCIsImN1cnJlbnRTY2hlbWFWZXJzaW9uIiwic3RhdGVKc29uIiwiYWdlbnRNYXAiLCJidWlsZEFnZW50TWFwIiwiY3VycmVudEFnZW50IiwiYWdlbnROYW1lIiwidHJhY2UiLCJkZXNlcmlhbGl6ZVNwYW4iLCJkZXNlcmlhbGl6ZU1vZGVsUmVzcG9uc2UiLCJkZXNlcmlhbGl6ZUl0ZW0iLCJkZXNlcmlhbGl6ZVByb2Nlc3NlZFJlc3BvbnNlIiwiX2UiLCJxdWV1ZSIsInNlcmlhbGl6ZWRTcGFuIiwic3BhbkRhdGEiLCJwcmV2aW91c1NwYW4iLCJzZXJpYWxpemVkTW9kZWxSZXNwb25zZSIsInVzYWdlIiwic2VyaWFsaXplZEl0ZW0iLCJzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2UiLCJjb21wdXRlclRvb2xzIiwiZW50cnkiLCJmdW5jdGlvbkNhbGwiLCJjb21wdXRlckFjdGlvbiIsIkRFRkFVTFRfTUFYX1RVUk5TIiwiZ2V0VHJhY2luZyIsInRyYWNpbmdEaXNhYmxlZCIsInRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEiLCJ0b0FnZW50SW5wdXRMaXN0IiwiU2VydmVyQ29udmVyc2F0aW9uVHJhY2tlciIsImNvbnZlcnNhdGlvbklkIiwicHJldmlvdXNSZXNwb25zZUlkIiwiZ2VuZXJhdGVkSXRlbXMiLCJtb2RlbFJlc3BvbnNlcyIsImxhdGVzdFJlc3BvbnNlIiwiaW5wdXRJdGVtcyIsImluaXRpYWxJdGVtcyIsInJhd0l0ZW1zIiwiX1J1bm5lcl9pbnN0YW5jZXMiLCJ3aXRoVHJhY2UiLCJfX3ByaXZhdGVNZXRob2QiLCJydW5JbmRpdmlkdWFsU3RyZWFtX2ZuIiwicnVuSW5kaXZpZHVhbE5vblN0cmVhbV9mbiIsImdldE9yQ3JlYXRlVHJhY2UiLCJpc1Jlc3VtZWRTdGF0ZSIsInNlcnZlckNvbnZlcnNhdGlvblRyYWNrZXIiLCJleHBsaWN0bHlNb2RlbFNldCIsInNlbGVjdE1vZGVsIiwidHVyblJlc3VsdCIsIlJ1blJlc3VsdCIsImhhbmRvZmZOYW1lcyIsInNlcmlhbGl6ZWRUb29scyIsInNlcmlhbGl6ZWRIYW5kb2ZmcyIsInJ1bklucHV0R3VhcmRyYWlsc19mbiIsInR1cm5JbnB1dCIsImFnZW50TW9kZWxTZXR0aW5ncyIsImFkanVzdE1vZGVsU2V0dGluZ3NGb3JOb25HUFQ1UnVubmVyTW9kZWwiLCJydW5PdXRwdXRHdWFyZHJhaWxzX2ZuIiwiZ3VhcmRyYWlscyIsImd1YXJkcmFpbEFyZ3MiLCJndWFyZHJhaWwiLCJhZ2VudE91dHB1dCIsInJ1blN0cmVhbUxvb3BfZm4iLCJmaW5hbFJlc3BvbnNlIiwicHJlVG9vbEl0ZW1zIiwiU3RyZWFtZWRSdW5SZXN1bHQiLCJzdHJlYW1Mb29wUHJvbWlzZSIsImFnZW50TW9kZWwiLCJydW5Db25maWdNb2RlbCIsInJ1bm5lck1vZGVsIiwiY29waWVkTW9kZWxTZXR0aW5ncyIsIl9nIiwiX2YiLCJfaCIsIlJ1blJlc3VsdEJhc2UiLCJyZXNwb25zZXMiLCJfZXJyb3IiLCJfc2lnbmFsIiwiX3JlYWRhYmxlQ29udHJvbGxlciIsIl9yZWFkYWJsZVN0cmVhbSIsIl9jb21wbGV0ZWRQcm9taXNlIiwiX2NvbXBsZXRlZFByb21pc2VSZXNvbHZlIiwiX2NvbXBsZXRlZFByb21pc2VSZWplY3QiLCJfY2FuY2VsbGVkIiwiX3N0cmVhbUxvb3BQcm9taXNlIiwiX1JlYWRhYmxlU3RyZWFtIiwiY29udHJvbGxlciIsInJlc29sdmUiLCJyZWplY3QiLCJoYW5kbGVBYm9ydCIsInN0cmVhbSIsInByb21pc2UiLCJfY29udGV4dEFzeW5jTG9jYWxTdG9yYWdlIiwiZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlIiwiY3VycmVudFRyYWNlIiwiX3dyYXBGdW5jdGlvbldpdGhUcmFjZUxpZmVjeWNsZSIsIm5ld1RyYWNlIiwic3BhbkVycm9yIiwiY2xvbmVDdXJyZW50Q29udGV4dCIsImN1cnJlbnRDb250ZXh0IiwiY29weU9mQ29udGV4dCIsIkNvbnNvbGVTcGFuRXhwb3J0ZXIiLCJCYXRjaFRyYWNlUHJvY2Vzc29yIiwiZXhwb3J0ZXIiLCJtYXhRdWV1ZVNpemUiLCJtYXhCYXRjaFNpemUiLCJzY2hlZHVsZURlbGF5IiwiZXhwb3J0VHJpZ2dlclJhdGlvIiwiX0JhdGNoVHJhY2VQcm9jZXNzb3JfaW5zdGFuY2VzIiwiX21heFF1ZXVlU2l6ZSIsIl9tYXhCYXRjaFNpemUiLCJfc2NoZWR1bGVEZWxheSIsIl9leHBvcnRUcmlnZ2VyU2l6ZSIsIl9leHBvcnRlciIsIl9idWZmZXIiLCJfdGltZXIiLCJfdGltZW91dCIsIl9leHBvcnRJblByb2dyZXNzIiwiX3RpbWVvdXRBYm9ydENvbnRyb2xsZXIiLCJydW5FeHBvcnRMb29wX2ZuIiwic2FmZUFkZEl0ZW1fZm4iLCJfdHJhY2UiLCJfc3BhbiIsImV4cG9ydEJhdGNoZXNfZm4iLCJmb3JjZSIsInRvRXhwb3J0IiwiYmF0Y2giLCJNdWx0aVRyYWNpbmdQcm9jZXNzb3IiLCJfcHJvY2Vzc29ycyIsInByb2Nlc3NvciIsInByb2Nlc3NvcnMiLCJfZGVmYXVsdEV4cG9ydGVyIiwiX2RlZmF1bHRQcm9jZXNzb3IiLCJkZWZhdWx0RXhwb3J0ZXIiLCJkZWZhdWx0UHJvY2Vzc29yIiwidGltZUlzbyIsImdlbmVyYXRlVHJhY2VJZCIsImdlbmVyYXRlU3BhbklkIiwicmVtb3ZlUHJpdmF0ZUZpZWxkcyIsIl9TcGFuIiwiX2RhdGEiLCJfdHJhY2VJZCIsIl9zcGFuSWQiLCJfcGFyZW50SWQiLCJfcHJvY2Vzc29yIiwiX3N0YXJ0ZWRBdCIsIl9lbmRlZEF0IiwiX3ByZXZpb3VzU3BhbiIsIlNwYW4iLCJOb29wU3BhbiIsIl9UcmFjZSIsIl9zdGFydGVkIiwiVHJhY2UiLCJOb29wVHJhY2UiLCJUcmFjZVByb3ZpZGVyIiwiX1RyYWNlUHJvdmlkZXJfaW5zdGFuY2VzIiwiX211bHRpUHJvY2Vzc29yIiwiX2Rpc2FibGVkIiwiYWRkQ2xlYW51cExpc3RlbmVyc19mbiIsImRpc2FibGVkIiwidHJhY2VPcHRpb25zIiwidHJhY2VJZCIsInNwYW5PcHRpb25zIiwicGFyZW50SWQiLCJjbGVhbnVwIiwiaGFzT3RoZXJMaXN0ZW5lcnNGb3JTaWduYWxzIiwicmVhc29uIiwiaGFzT3RoZXJMaXN0ZW5lcnNGb3JFdmVudHMiLCJHTE9CQUxfVFJBQ0VfUFJPVklERVIiLCJhZGRUcmFjZVByb2Nlc3NvciIsImJhc2U2NFRvQXJyYXlCdWZmZXIiLCJiaW5hcnlTdHJpbmciLCJieXRlcyIsImFycmF5QnVmZmVyVG9CYXNlNjQiLCJhcnJheUJ1ZmZlciIsImdldExhc3RUZXh0RnJvbUF1ZGlvT3V0cHV0TWVzc2FnZSIsImxhc3RDb250ZW50SXRlbSIsImRpZmZSZWFsdGltZUhpc3RvcnkiLCJvbGRIaXN0b3J5IiwibmV3SGlzdG9yeSIsInJlbW92YWxzIiwiYWRkaXRpb25zIiwib2xkSXRlbSIsInVwZGF0ZXMiLCJoYXNXZWJSVENTdXBwb3J0IiwicmVtb3ZlQXVkaW9Gcm9tQ29udGVudCIsInVwZGF0ZVJlYWx0aW1lSGlzdG9yeSIsImhpc3RvcnkiLCJzaG91bGRJbmNsdWRlQXVkaW9EYXRhIiwidXBkYXRlZENvbnRlbnQiLCJuZXdFdmVudCIsImV4aXN0aW5nSW5kZXgiLCJpZHgiLCJwcmV2SW5kZXgiLCJIRUFERVJTIiwiV0VCU09DS0VUX01FVEEiLCJyZWFsdGltZUFwcHJvdmFsSXRlbVRvQXBwcm92YWxJdGVtIiwiYXBwcm92YWxJdGVtVG9SZWFsdGltZUFwcHJvdmFsSXRlbSIsIml0ZW1JZCIsInNlcnZlckxhYmVsIiwiUmVhbHRpbWVBZ2VudCIsImdldFJlYWx0aW1lR3VhcmRyYWlsU2V0dGluZ3MiLCJzZXR0aW5ncyIsImRlZmluZVJlYWx0aW1lT3V0cHV0R3VhcmRyYWlsIiwicG9saWN5SGludElucHV0IiwiYmFzZUd1YXJkcmFpbCIsInBvbGljeUhpbnQiLCJnZXRSZWFsdGltZUd1YXJkcmFpbEZlZWRiYWNrTWVzc2FnZSIsImlzRGVmaW5lZCIsImlzRGVwcmVjYXRlZENvbmZpZyIsInRvTmV3U2Vzc2lvbkNvbmZpZyIsImlucHV0Q29uZmlnIiwibm9ybWFsaXplQXVkaW9Gb3JtYXQiLCJyZXF1ZXN0ZWRPdXRwdXRWb2ljZSIsIm91dHB1dENvbmZpZyIsImYiLCJyZWFsdGltZU1lc3NhZ2VJdGVtU2NoZW1hIiwicmVhbHRpbWVUb29sQ2FsbEl0ZW0iLCJyZWFsdGltZU1jcENhbGxJdGVtIiwicmVhbHRpbWVNY3BDYWxsQXBwcm92YWxSZXF1ZXN0SXRlbSIsInJlYWx0aW1lUmVzcG9uc2UiLCJ6XG4gICAgICAgICAgICAub2JqZWN0IiwielxuICAgICAgICAuZW51bSIsImNvbnZlcnNhdGlvbkl0ZW1Db250ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVNjaGVtYSIsInpcbiAgICAub2JqZWN0IiwiY29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUFkZGVkRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtRG9uZUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbURlbGV0ZWRFdmVudFNjaGVtYSIsImNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkNvbXBsZXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRGVsdGFFdmVudFNjaGVtYSIsImNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVJldHJpZXZlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVRydW5jYXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUNyZWF0ZUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbURlbGV0ZUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVJldHJpZXZlRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtVHJ1bmNhdGVFdmVudFNjaGVtYSIsImVycm9yRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50U2NoZW1hIiwiaW5wdXRBdWRpb0J1ZmZlckFwcGVuZEV2ZW50U2NoZW1hIiwiaW5wdXRBdWRpb0J1ZmZlckNsZWFyRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0dGVkRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RhcnRlZEV2ZW50U2NoZW1hIiwiaW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0b3BwZWRFdmVudFNjaGVtYSIsIm91dHB1dEF1ZGlvQnVmZmVyU3RhcnRlZEV2ZW50U2NoZW1hIiwib3V0cHV0QXVkaW9CdWZmZXJTdG9wcGVkRXZlbnRTY2hlbWEiLCJvdXRwdXRBdWRpb0J1ZmZlckNsZWFyZWRFdmVudFNjaGVtYSIsInJhdGVMaW1pdHNVcGRhdGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZUF1ZGlvRGVsdGFFdmVudFNjaGVtYSIsInJlc3BvbnNlQXVkaW9Eb25lRXZlbnRTY2hlbWEiLCJyZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnRTY2hlbWEiLCJyZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlQ29udGVudFBhcnRBZGRlZEV2ZW50U2NoZW1hIiwicmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlQ3JlYXRlZEV2ZW50U2NoZW1hIiwicmVzcG9uc2VEb25lRXZlbnRTY2hlbWEiLCJyZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEiLCJyZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlT3V0cHV0SXRlbUFkZGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZU91dHB1dEl0ZW1Eb25lRXZlbnRTY2hlbWEiLCJyZXNwb25zZVRleHREZWx0YUV2ZW50U2NoZW1hIiwicmVzcG9uc2VUZXh0RG9uZUV2ZW50U2NoZW1hIiwic2Vzc2lvbkNyZWF0ZWRFdmVudFNjaGVtYSIsInNlc3Npb25VcGRhdGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZUNhbmNlbEV2ZW50U2NoZW1hIiwicmVzcG9uc2VDcmVhdGVFdmVudFNjaGVtYSIsInNlc3Npb25VcGRhdGVFdmVudFNjaGVtYSIsIm1jcExpc3RUb29sc0luUHJvZ3Jlc3NFdmVudFNjaGVtYSIsIm1jcExpc3RUb29sc0NvbXBsZXRlZEV2ZW50U2NoZW1hIiwicmVzcG9uc2VNY3BDYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSIsInJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlTWNwQ2FsbEluUHJvZ3Jlc3NFdmVudFNjaGVtYSIsInJlc3BvbnNlTWNwQ2FsbENvbXBsZXRlZEV2ZW50U2NoZW1hIiwibWNwTGlzdFRvb2xzRmFpbGVkRXZlbnRTY2hlbWEiLCJnZW5lcmljRXZlbnRTY2hlbWEiLCJyZWFsdGltZVNlcnZlckV2ZW50U2NoZW1hIiwicGFyc2VSZWFsdGltZUV2ZW50IiwicmF3IiwiZ2VuZXJpY1BhcnNlZCIsIkRFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX01PREVMIiwiREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUciLCJfT3BlbkFJUmVhbHRpbWVCYXNlIiwiX2FwaUtleSIsIl90cmFjaW5nQ29uZmlnIiwiX3Jhd1Nlc3Npb25Db25maWciLCJhcGlLZXkiLCJpc0dlbmVyaWMiLCJpbnB1dFRva2VucyIsIm91dHB1dFRva2VucyIsInRvdGFsVG9rZW5zIiwicHJldmlvdXNJdGVtSWQiLCJtY3BBcHByb3ZhbFJlcXVlc3QiLCJtY3BDYWxsIiwicmVhbHRpbWVJdGVtIiwib3RoZXJFdmVudERhdGEiLCJ0cmlnZ2VyUmVzcG9uc2UiLCJpbWFnZSIsIm5ld0NvbmZpZyIsInNlc3Npb25EYXRhIiwiX2oiLCJfaSIsIl9sIiwiX24iLCJfbSIsIl9wIiwiX28iLCJfciIsIl9xIiwiX3QiLCJfcyIsIl92IiwiX3UiLCJfdyIsIl96IiwiX3kiLCJfQiIsIl9BIiwiY3JlYXRlUmVzcG9uc2UiLCJjcmVhdGVfcmVzcG9uc2UiLCJlYWdlcm5lc3MiLCJpbnRlcnJ1cHRSZXNwb25zZSIsImludGVycnVwdF9yZXNwb25zZSIsInByZWZpeFBhZGRpbmdNcyIsInByZWZpeF9wYWRkaW5nX21zIiwic2lsZW5jZUR1cmF0aW9uTXMiLCJzaWxlbmNlX2R1cmF0aW9uX21zIiwidGhyZXNob2xkIiwiaWRsZVRpbWVvdXRNcyIsImlkbGVfdGltZW91dF9tcyIsInRyYWNpbmdDb25maWciLCJzdGFydFJlc3BvbnNlIiwiYXVkaW8iLCJjb21taXQiLCJyZW1vdmFsSWRzIiwidXBkYXRlIiwiYWRkaXRpb25zQW5kVXBkYXRlcyIsImFkZGl0aW9uIiwiaXRlbUVudHJ5IiwiT3BlbkFJUmVhbHRpbWVCYXNlIiwiT3BlbkFJUmVhbHRpbWVXZWJSVEMiLCJfdXJsIiwiX3N0YXRlIiwiX3VzZUluc2VjdXJlQXBpS2V5IiwiX29uZ29pbmdSZXNwb25zZSIsIl9tdXRlZCIsImJhc2VVcmwiLCJpc0NsaWVudEtleSIsInVzZXJTZXNzaW9uQ29uZmlnIiwiY29ubmVjdGlvblVybCIsInBlZXJDb25uZWN0aW9uIiwiZGF0YUNoYW5uZWwiLCJhdWRpb0VsZW1lbnQiLCJvZmZlciIsInNkcFJlc3BvbnNlIiwiYW5zd2VyIiwibXV0ZWQiLCJzZW5kZXIiLCJXZWJTb2NrZXQiLCJPcGVuQUlSZWFsdGltZVdlYlNvY2tldCIsIl9PcGVuQUlSZWFsdGltZVdlYlNvY2tldF9pbnN0YW5jZXMiLCJfY3VycmVudEl0ZW1JZCIsIl9jdXJyZW50QXVkaW9Db250ZW50SW5kZXgiLCJfY3JlYXRlV2ViU29ja2V0IiwiX3NraXBPcGVuRXZlbnRMaXN0ZW5lcnMiLCJhdWRpb0V2ZW50IiwidXJsIiwic2Vzc2lvbkNvbmZpZyIsInNldHVwV2ViU29ja2V0X2ZuIiwiZWxhcHNlZFRpbWUiLCJjYW5jZWxPbmdvaW5nUmVzcG9uc2UiLCJsZW5ndGgiLCJhdWRpb19lbmRfbXMiLCJ3cyIsIndlYnNvY2tldEFyZ3VtZW50cyIsIm9uU29ja2V0T3BlblJlYWR5IiwiYnVmZiIsImZtdCIsInJhdGUiLCJhdXRvbWF0aWNSZXNwb25zZUNhbmNlbGxhdGlvbkVuYWJsZWQiLCJCQUNLR1JPVU5EX1JFU1VMVF9TWU1CT0wiLCJiYWNrZ3JvdW5kUmVzdWx0IiwiaXNCYWNrZ3JvdW5kUmVzdWx0IiwiaXNWYWxpZFJlYWx0aW1lVG9vbCIsInRvUmVhbHRpbWVUb29sRGVmaW5pdGlvbiIsInNlcnZlclVybCIsImNsb25lRGVmYXVsdFNlc3Npb25Db25maWciLCJSZWFsdGltZVNlc3Npb24iLCJfUmVhbHRpbWVTZXNzaW9uX2luc3RhbmNlcyIsIl90cmFuc3BvcnQiLCJfY3VycmVudEFnZW50IiwiX2N1cnJlbnRUb29scyIsIl9vdXRwdXRHdWFyZHJhaWxzIiwiX291dHB1dEd1YXJkcmFpbFNldHRpbmdzIiwiX3RyYW5zY3JpYmVkVGV4dERlbHRhcyIsIl9oaXN0b3J5IiwiX3Nob3VsZEluY2x1ZGVBdWRpb0RhdGEiLCJfaW50ZXJydXB0ZWRCeUd1YXJkcmFpbCIsIl9hdWRpb1N0YXJ0ZWQiLCJfYWxsTWNwVG9vbHNCeVNlcnZlciIsIl9hdmFpbGFibGVNY3BUb29scyIsIl9sYXN0U2Vzc2lvbkNvbmZpZyIsIl9hdXRvbWF0aWNhbGx5VHJpZ2dlclJlc3BvbnNlRm9yTWNwVG9vbENhbGxzIiwic2V0Q3VycmVudEFnZW50X2ZuIiwiZ2V0U2Vzc2lvbkNvbmZpZ19mbiIsInNldEV2ZW50TGlzdGVuZXJzX2ZuIiwidXBkYXRlZEhpc3RvcnkiLCJoYW5kbGVGdW5jdGlvblRvb2xDYWxsX2ZuIiwiaGFuZG9mZlRvb2xzIiwiaGFzVG9vbHNEZWZpbmVkIiwiaGFzSGFuZG9mZnNEZWZpbmVkIiwidXBkYXRlQXZhaWxhYmxlTWNwVG9vbHNfZm4iLCJhZGRpdGlvbmFsQ29uZmlnIiwiaW5zdHJ1Y3Rpb25zIiwiZnVsbENvbmZpZyIsImhhbmRsZUhhbmRvZmZfZm4iLCJoYW5kbGVGdW5jdGlvbkNhbGxfZm4iLCJlbmFibGVkSGFuZG9mZnMiLCJmdW5jdGlvblRvb2xNYXAiLCJwb3NzaWJsZUhhbmRvZmYiLCJyZXNwb25zZUlkIiwiZmlyc3RUcmlwd2lyZVRyaWdnZXJlZCIsImZlZWRiYWNrVGV4dCIsImNvbXBsZXRlZEV2ZW50IiwidGV4dE91dHB1dCIsImxhc3RSdW5JbmRleCIsImxhc3RJdGVtSWQiLCJkZWx0YSIsIm5ld1RleHQiLCJuZXdSdW5JbmRleCIsImlzTmV3IiwiYWRkZWRJdGVtIiwiYWN0aXZlTWNwQ29uZmlncyIsImFsbG93ZWRGcm9tQ29uZmlnIiwiY2ZnIiwiZGVkdXBCeU5hbWUiLCJuZXh0IiwicHJldiIsInV0aWxzIiwidXRpbEltcG9ydC5iYXNlNjRUb0FycmF5QnVmZmVyIiwidXRpbEltcG9ydC5hcnJheUJ1ZmZlclRvQmFzZTY0IiwidXRpbEltcG9ydC5nZXRMYXN0VGV4dEZyb21BdWRpb091dHB1dE1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDTyxNQUFNQSxLQUFXO0FBQUEsRUFFcEIsU0FBVztB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QU07QUFDWixRQUFLQSxNQUNKQSxJQUFTLElBQ1QsUUFBUSxLQUFLLHVJQUF1STtBQUFBLE1BRXZKO0FBQUEsSUFDQSxHQUFDLEdBTUROLEVBQUEsU0FBaUI7QUFBQSxNQUNoQjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBO0FBWUQsYUFBU0ksSUFBWTtBQUlwQixVQUFJLE9BQU8sU0FBVyxPQUFlLE9B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
